"use strict";(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[751],{78751:(cn,v,r)=>{r.r(v),r.d(v,{MyVideoChannelsModule:()=>ln});var R=r(58041),k=r(33191),O=r(84167),q=r(97694),m=r(62026),g=r(49393),T=r(86804),u=r(96867);class P extends O.OI{get instanceHost(){return window.location.host}isBulkUpdateVideosDisplayed(){return!1}}var e=r(42741),p=r(54755),E=r(16274),d=r(93324),x=r(6733),I=r(97603),G=r(71072),J=r(84039),D=r(76476),y=r(19895);const K=["bannerfileInput"],F=["bannerPopover"];function Q(t,o){if(1&t&&e._UZ(0,"img",8),2&t){const n=e.oxw(2);e.Q6J("src",n.preview||n.actor.bannerUrl,e.LSH)}}function X(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",9),e._UZ(1,"my-global-icon",10),e.TgZ(2,"label",11),e.SDv(3,12),e.qZA(),e.TgZ(4,"input",13,14),e.NdJ("change",function(){e.CHM(n);const i=e.MAs(5);return e.oxw(2).onBannerChange(i)}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngbTooltip",n.bannerFormat),e.xp6(4),e.Q6J("accept",n.bannerExtensions)}}function j(t,o){if(1&t&&(e.TgZ(0,"div",15,16),e._UZ(2,"my-global-icon",17),e.TgZ(3,"label",18),e.SDv(4,19),e.qZA(),e.qZA()),2&t){e.oxw(2);const n=e.MAs(2);e.Q6J("ngbPopover",n)}}function W(t,o){if(1&t&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.YNc(3,Q,1,1,"img",5),e.qZA(),e.YNc(4,X,6,2,"div",6),e.YNc(5,j,5,1,"div",7),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.hasBanner()),e.xp6(1),e.Q6J("ngIf",!n.hasBanner()),e.xp6(1),e.Q6J("ngIf",n.hasBanner())}}function ee(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",20),e._UZ(1,"my-global-icon",10),e.TgZ(2,"span",11),e.SDv(3,21),e.qZA(),e.TgZ(4,"input",13,14),e.NdJ("change",function(){e.CHM(n);const i=e.MAs(5);return e.oxw().onBannerChange(i)}),e.qZA(),e.qZA(),e.TgZ(6,"div",22),e.NdJ("click",function(){return e.CHM(n),e.oxw().deleteBanner()})("key.enter",function(){return e.CHM(n),e.oxw().deleteBanner()}),e._UZ(7,"my-global-icon",23),e.TgZ(8,"span"),e.SDv(9,24),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("ngbTooltip",n.bannerFormat),e.xp6(4),e.Q6J("accept",n.bannerExtensions)}}let V=(()=>{class t{constructor(n,_){this.serverService=n,this.notifier=_,this.previewImage=!1,this.bannerChange=new e.vpe,this.bannerDelete=new e.vpe,this.bannerFormat="",this.maxBannerSize=0,this.bannerExtensions=""}ngOnInit(){const n=this.serverService.getHTMLConfig();this.maxBannerSize=n.banner.file.size.max,this.bannerExtensions=n.banner.file.extensions.join(", "),this.bannerFormat="ratio 6/1, recommended size: 1920x317, max size: " + (0, G.P)(this.maxBannerSize) + ", extensions: " + this.bannerExtensions + ""}onBannerChange(n){var _;this.bannerfileInput=new e.SBq(n);const i=this.bannerfileInput.nativeElement.files[0];if(i.size>this.maxBannerSize)return void this.notifier.error("Error","This image is too large.");const a=new FormData;a.append("bannerfile",i),null===(_=this.bannerPopover)||void 0===_||_.close(),this.bannerChange.emit(a),this.previewImage&&(0,J.v)(i).then(l=>this.preview=l)}deleteBanner(){this.preview=void 0,this.bannerDelete.emit()}hasBanner(){return!!this.preview||!!this.actor.bannerUrl}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.NG),e.Y36(p.d4))},t.\u0275cmp=e.Xpm({type:t,selectors:[["my-actor-banner-edit"]],viewQuery:function(n,_){if(1&n&&(e.Gf(K,5),e.Gf(F,5)),2&n){let i;e.iGM(i=e.CRH())&&(_.bannerfileInput=i.first),e.iGM(i=e.CRH())&&(_.bannerPopover=i.first)}},inputs:{actor:"actor",previewImage:"previewImage"},outputs:{bannerChange:"bannerChange",bannerDelete:"bannerDelete"},decls:3,vars:1,consts:function(){let o,n,_,i;return o="Upload a new banner",n="Change your banner",_="Upload a new banner",i="Remove banner",[["class","actor",4,"ngIf"],["bannerEditContent",""],[1,"actor"],[1,"actor-img-edit-container"],[1,"banner-placeholder"],["alt","Banner",3,"src",4,"ngIf"],["class","actor-img-edit-button","placement","right","container","body",3,"ngbTooltip",4,"ngIf"],["class","actor-img-edit-button","popoverClass","popover-image-info","autoClose","outside","placement","right",3,"ngbPopover",4,"ngIf"],["alt","Banner",3,"src"],["placement","right","container","body",1,"actor-img-edit-button",3,"ngbTooltip"],["iconName","upload"],["for","bannerfile"],o,["type","file","name","bannerfile","id","bannerfile",3,"accept","change"],["bannerfileInput",""],["popoverClass","popover-image-info","autoClose","outside","placement","right",1,"actor-img-edit-button",3,"ngbPopover"],["bannerPopover","ngbPopover"],["iconName","edit"],["for","bannerMenu"],n,["placement","right","container","body",1,"dropdown-item","c-hand",3,"ngbTooltip"],_,[1,"dropdown-item","c-hand",3,"click","key.enter"],["iconName","delete"],i]},template:function(n,_){1&n&&(e.YNc(0,W,6,3,"div",0),e.YNc(1,ee,10,2,"ng-template",null,1,e.W1O)),2&n&&e.Q6J("ngIf",_.actor)},directives:[E.O5,D._L,y.$,D.o8],styles:[".actor[_ngcontent-%COMP%]     .popover-image-info .popover-body{padding:0}.actor[_ngcontent-%COMP%]     .popover-image-info .popover-body .dropdown-item{padding:6px 10px;border-radius:4px}.actor[_ngcontent-%COMP%]     .popover-image-info .popover-body .dropdown-item:first-child{position:relative;overflow:hidden;display:inline-block;min-height:30px;display:block}.actor[_ngcontent-%COMP%]     .popover-image-info .popover-body .dropdown-item:first-child input[type=file]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}.actor-img-edit-button[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;min-height:30px;padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;width:21px;display:inline-flex;align-items:center;line-height:normal!important;margin-top:10px;margin-bottom:5px;cursor:pointer}.actor-img-edit-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}@supports (padding-inline-start: 13px){.actor-img-edit-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.actor-img-edit-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.actor-img-edit-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.actor-img-edit-button[_ngcontent-%COMP%]{padding-right:17px}}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:19px;top:-1px}@supports (margin-inline-end: 3px){.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:3px}}@supports not (margin-inline-end: 3px){.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:3px}}.actor-img-edit-button[_ngcontent-%COMP%]:focus, .actor-img-edit-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.actor-img-edit-button[_ngcontent-%COMP%], .actor-img-edit-button[_ngcontent-%COMP%]:active, .actor-img-edit-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.actor-img-edit-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.actor-img-edit-button[disabled][_ngcontent-%COMP%], .actor-img-edit-button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.actor-img-edit-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:30px;height:30px}.actor-img-edit-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{right:7px}",".banner-placeholder[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:16.66666666%}.banner-placeholder[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .banner-placeholder[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0}.banner-placeholder[_ngcontent-%COMP%]{background-color:var(--greyBackgroundColor)}.actor-img-edit-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.actor-img-edit-button[_ngcontent-%COMP%]{position:absolute;width:auto}.actor-img-edit-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:0}"]}),t})();var L=r(19943),Y=r(24333);function ne(t,o){1&t&&(e.ynx(0),e.TgZ(1,"li",30),e.SDv(2,31),e.qZA(),e.BQk())}const te=function(t){return["/my-library/video-channels/update",t]};function _e(t,o){if(1&t&&(e.TgZ(0,"a",35),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("routerLink",e.VKq(2,te,null==n.videoChannel?null:n.videoChannel.nameWithHost)),e.xp6(1),e.Oqu(null==n.videoChannel?null:n.videoChannel.displayName)}}function oe(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"li",30),e.SDv(2,32),e.qZA(),e.TgZ(3,"li",33),e.YNc(4,_e,2,4,"a",34),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.videoChannel)}}function ie(t,o){if(1&t&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.error)}}function re(t,o){1&t&&(e.TgZ(0,"div",37),e.SDv(1,38),e.qZA())}function ae(t,o){1&t&&(e.TgZ(0,"div",37),e.SDv(1,39),e.qZA())}function le(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"my-actor-banner-edit",40),e.NdJ("bannerChange",function(i){return e.CHM(n),e.oxw().onBannerChange(i)})("bannerDelete",function(){return e.CHM(n),e.oxw().onBannerDelete()}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("previewImage",n.isCreation())("actor",n.videoChannel)}}function ce(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"my-actor-avatar-edit",41),e.NdJ("avatarChange",function(i){return e.CHM(n),e.oxw().onAvatarChange(i)})("avatarDelete",function(){return e.CHM(n),e.oxw().onAvatarDelete()}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("previewImage",n.isCreation())("actor",n.videoChannel)("displayUsername",!n.isCreation())("displaySubscribers",!n.isCreation())}}function se(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.formErrors.name," ")}}const S=function(t){return{"input-error":t}};function de(t,o){if(1&t&&(e.TgZ(0,"div",16),e.TgZ(1,"label",42),e.SDv(2,43),e.qZA(),e.TgZ(3,"div",44),e._UZ(4,"input",45),e.TgZ(5,"div",46),e.TgZ(6,"span",47),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.YNc(8,se,2,1,"div",20),e.qZA()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(3,S,n.formErrors.name)),e.xp6(3),e.hij("@",n.instanceHost,""),e.xp6(1),e.Q6J("ngIf",n.formErrors.name)}}function pe(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.formErrors["display-name"]," ")}}function ge(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.formErrors.description," ")}}function Ce(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.formErrors.support," ")}}function ue(t,o){1&t&&(e.TgZ(0,"div",16),e._UZ(1,"my-peertube-checkbox",49),e.qZA())}let Ee=(()=>{class t extends P{constructor(n,_,i,a,l,s,C){super(),this.formValidatorService=n,this.authService=_,this.notifier=i,this.router=a,this.route=l,this.videoChannelService=s,this.serverService=C}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.buildForm({"display-name":u.nP,description:u.UD,support:u.rE,bulkVideosSupportUpdate:null}),this.paramsSub=this.route.params.subscribe(n=>{this.videoChannelService.getVideoChannel(n.videoChannelId).subscribe({next:i=>{this.videoChannel=i,this.oldSupportField=i.support,this.form.patchValue({"display-name":i.displayName,description:i.description,support:i.support})},error:i=>{this.error=i.message}})})}ngOnDestroy(){this.paramsSub&&this.paramsSub.unsubscribe()}formValidated(){this.error=void 0;const n=this.form.value,_={displayName:n["display-name"],description:n.description||null,support:n.support||null,bulkVideosSupportUpdate:n.bulkVideosSupportUpdate||!1};this.videoChannelService.updateVideoChannel(this.videoChannel.name,_).subscribe({next:()=>{this.authService.refreshUserInformation(),this.notifier.success("A(z) " + _.displayName + " videocsatorna friss\xEDtve."),this.router.navigate(["/my-library","video-channels"])},error:i=>{this.error=i.message}})}onAvatarChange(n){this.videoChannelService.changeVideoChannelImage(this.videoChannel.name,n,"avatar").subscribe({next:_=>{this.notifier.success("Profilk\xE9p megv\xE1ltoztatva."),this.videoChannel.updateAvatar(_.avatar)},error:_=>(0,T.qV)({err:_,name:"avatar",notifier:this.notifier})})}onAvatarDelete(){this.videoChannelService.deleteVideoChannelImage(this.videoChannel.name,"avatar").subscribe({next:()=>{this.notifier.success("Avatar deleted."),this.videoChannel.resetAvatar()},error:n=>this.notifier.error(n.message)})}onBannerChange(n){this.videoChannelService.changeVideoChannelImage(this.videoChannel.name,n,"banner").subscribe({next:_=>{this.notifier.success("Banner changed."),this.videoChannel.updateBanner(_.banner)},error:_=>(0,T.qV)({err:_,name:"banner",notifier:this.notifier})})}onBannerDelete(){this.videoChannelService.deleteVideoChannelImage(this.videoChannel.name,"banner").subscribe({next:()=>{this.notifier.success("Banner deleted."),this.videoChannel.resetBanner()},error:n=>this.notifier.error(n.message)})}get maxAvatarSize(){return this.serverConfig.avatar.file.size.max}get avatarExtensions(){return this.serverConfig.avatar.file.extensions.join(",")}isCreation(){return!1}getFormButtonTitle(){return "Friss\xEDt\xE9s"}isBulkUpdateVideosDisplayed(){return void 0!==this.oldSupportField&&this.oldSupportField!==this.form.value.support}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(O.Q4),e.Y36(p.e8),e.Y36(p.d4),e.Y36(g.F0),e.Y36(g.gz),e.Y36(m.B1),e.Y36(p.NG))},t.\u0275cmp=e.Xpm({type:t,selectors:[["my-video-channel-update"]],features:[e.qOj],decls:40,vars:24,consts:function(){let o,n,_,i,a,l,s,C,M,h,N,A;return o="Saj\xE1t csatorn\xE1k",n="Banner image of your channel",_="Megjelen\xEDtett n\xE9v",i="Le\xEDr\xE1s",a="R\xF6vid sz\xF6veg, amely ismerteti az embereknek, hogy hogyan t\xE1mogathatj\xE1k a csatorn\xE1j\xE1t (tags\xE1gi platform\u2026).<br /><br /> Ha felt\xF6lt egy vide\xF3t ebbe a csatorn\xE1ba, akkor a vide\xF3 t\xE1mogat\xE1si mez\u0151je automatikusan ki lesz t\xF6ltve ezzel a sz\xF6veggel.",l="L\xE9trehoz\xE1s",s="Szerkeszt\xE9s",C="\xDAJ CSATORNA",M="CSATORNA",h="N\xE9v",N="P\xE9lda: en_csatornam",A="A csatorna \xF6sszes vide\xF3ja t\xE1mogat\xE1si mez\u0151j\xE9nek fel\xFCl\xEDr\xE1sa",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-library/video-channels"],o,[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["class","video-channel-title",4,"ngIf"],[1,"form-group","col-12","col-lg-8","col-xl-9"],n,[3,"previewImage","actor","bannerChange","bannerDelete",4,"ngIf"],[3,"previewImage","actor","displayUsername","displaySubscribers","avatarChange","avatarDelete",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","display-name"],_,["type","text","id","display-name","formControlName","display-name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],i,["id","description","formControlName","description",1,"form-control",3,"ngClass"],["for","support"],["helpType","markdownEnhanced","preHtml",a],["id","support","formControlName","support","textareaMaxWidth","500px","markdownType","enhanced",3,"classes"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5","d-inline-flex"],["type","submit",3,"value","disabled"],[1,"breadcrumb-item","active"],l,s,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"alert","alert-danger"],[1,"video-channel-title"],C,M,[3,"previewImage","actor","bannerChange","bannerDelete"],[3,"previewImage","actor","displayUsername","displaySubscribers","avatarChange","avatarDelete"],["for","name"],h,[1,"input-group"],["type","text","id","name","placeholder",N,"formControlName","name",1,"form-control",3,"ngClass"],[1,"input-group-append"],[1,"input-group-text"],[1,"form-error"],["inputName","bulkVideosSupportUpdate","formControlName","bulkVideosSupportUpdate","labelText",A]]},template:function(n,_){1&n&&(e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e.SDv(4,4),e.qZA(),e.qZA(),e.YNc(5,ne,3,0,"ng-container",5),e.YNc(6,oe,5,1,"ng-container",5),e.qZA(),e.qZA(),e.YNc(7,ie,2,1,"div",6),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return _.formValidated()}),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.YNc(11,re,2,0,"div",10),e.YNc(12,ae,2,0,"div",10),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"h6"),e.SDv(15,12),e.qZA(),e.YNc(16,le,1,2,"my-actor-banner-edit",13),e.YNc(17,ce,1,4,"my-actor-avatar-edit",14),e.YNc(18,de,9,5,"div",15),e.TgZ(19,"div",16),e.TgZ(20,"label",17),e.SDv(21,18),e.qZA(),e._UZ(22,"input",19),e.YNc(23,pe,2,1,"div",20),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"label",21),e.SDv(26,22),e.qZA(),e._UZ(27,"textarea",23),e.YNc(28,ge,2,1,"div",20),e.qZA(),e.TgZ(29,"div",16),e.TgZ(30,"label",24),e._uU(31,"Support"),e.qZA(),e._UZ(32,"my-help",25),e._UZ(33,"my-markdown-textarea",26),e.YNc(34,Ce,2,1,"div",20),e.qZA(),e.YNc(35,ue,2,0,"div",15),e.qZA(),e.qZA(),e.TgZ(36,"div",8),e._UZ(37,"div",27),e.TgZ(38,"div",28),e._UZ(39,"input",29),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",_.isCreation()),e.xp6(1),e.Q6J("ngIf",!_.isCreation()),e.xp6(1),e.Q6J("ngIf",_.error),e.xp6(1),e.Q6J("formGroup",_.form),e.xp6(3),e.Q6J("ngIf",_.isCreation()),e.xp6(1),e.Q6J("ngIf",!_.isCreation()&&_.videoChannel),e.xp6(4),e.Q6J("ngIf",_.videoChannel),e.xp6(1),e.Q6J("ngIf",_.videoChannel),e.xp6(1),e.Q6J("ngIf",_.isCreation()),e.xp6(4),e.Q6J("ngClass",e.VKq(18,S,_.formErrors["display-name"])),e.xp6(1),e.Q6J("ngIf",_.formErrors["display-name"]),e.xp6(4),e.Q6J("ngClass",e.VKq(20,S,_.formErrors.description)),e.xp6(1),e.Q6J("ngIf",_.formErrors.description),e.xp6(5),e.Q6J("classes",e.VKq(22,S,_.formErrors.support)),e.xp6(1),e.Q6J("ngIf",_.formErrors.support),e.xp6(1),e.Q6J("ngIf",_.isBulkUpdateVideosDisplayed()),e.xp6(4),e.s9C("value",_.getFormButtonTitle()),e.Q6J("disabled",!_.form.valid))},directives:[g.yS,E.O5,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,E.mk,x.I,I.c,V,L.v,Y.P],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.video-channel-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}my-actor-avatar-edit[_ngcontent-%COMP%], my-actor-banner-edit[_ngcontent-%COMP%]{display:block;margin-bottom:20px}my-actor-banner-edit[_ngcontent-%COMP%]{max-width:500px}.input-group[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-height:30px;padding-top:0;padding-bottom:0;flex-wrap:nowrap}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:gray}.input-group-append[_ngcontent-%COMP%]{height:30px}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=text]#name[_ngcontent-%COMP%]{width:auto;flex-grow:1}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuBackgroundColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}@supports (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-inline-start:.5rem}}@supports not (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;color:#6c757d;content:"/"}@supports (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-inline-end:.5rem}}@supports not (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-right:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}@media screen and (max-width: 800px){input[type=text]#name[_ngcontent-%COMP%]{width:auto!important}label[for=name][_ngcontent-%COMP%] + div[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}}']}),t})();var Z=r(36371),B=r(72754),me=r(359);function Me(t,o){1&t&&(e.ynx(0),e.TgZ(1,"li",30),e.SDv(2,31),e.qZA(),e.BQk())}const he=function(t){return["/my-library/video-channels/update",t]};function Ne(t,o){if(1&t&&(e.TgZ(0,"a",35),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("routerLink",e.VKq(2,he,null==n.videoChannel?null:n.videoChannel.nameWithHost)),e.xp6(1),e.Oqu(null==n.videoChannel?null:n.videoChannel.displayName)}}function Ae(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"li",30),e.SDv(2,32),e.qZA(),e.TgZ(3,"li",33),e.YNc(4,Ne,2,4,"a",34),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.videoChannel)}}function Oe(t,o){if(1&t&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.error)}}function Se(t,o){1&t&&(e.TgZ(0,"div",37),e.SDv(1,38),e.qZA())}function be(t,o){1&t&&(e.TgZ(0,"div",37),e.SDv(1,39),e.qZA())}function fe(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"my-actor-banner-edit",40),e.NdJ("bannerChange",function(i){return e.CHM(n),e.oxw().onBannerChange(i)})("bannerDelete",function(){return e.CHM(n),e.oxw().onBannerDelete()}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("previewImage",n.isCreation())("actor",n.videoChannel)}}function ve(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"my-actor-avatar-edit",41),e.NdJ("avatarChange",function(i){return e.CHM(n),e.oxw().onAvatarChange(i)})("avatarDelete",function(){return e.CHM(n),e.oxw().onAvatarDelete()}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("previewImage",n.isCreation())("actor",n.videoChannel)("displayUsername",!n.isCreation())("displaySubscribers",!n.isCreation())}}function Re(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.formErrors.name," ")}}const b=function(t){return{"input-error":t}};function Te(t,o){if(1&t&&(e.TgZ(0,"div",16),e.TgZ(1,"label",42),e.SDv(2,43),e.qZA(),e.TgZ(3,"div",44),e._UZ(4,"input",45),e.TgZ(5,"div",46),e.TgZ(6,"span",47),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.YNc(8,Re,2,1,"div",20),e.qZA()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngClass",e.VKq(3,b,n.formErrors.name)),e.xp6(3),e.hij("@",n.instanceHost,""),e.xp6(1),e.Q6J("ngIf",n.formErrors.name)}}function Pe(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.formErrors["display-name"]," ")}}function xe(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.formErrors.description," ")}}function Ie(t,o){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.formErrors.support," ")}}function De(t,o){1&t&&(e.TgZ(0,"div",16),e._UZ(1,"my-peertube-checkbox",49),e.qZA())}let ye=(()=>{class t extends P{constructor(n,_,i,a,l){super(),this.formValidatorService=n,this.authService=_,this.notifier=i,this.router=a,this.videoChannelService=l,this.videoChannel=new m.aO({})}ngOnInit(){this.buildForm({name:u.BX,"display-name":u.nP,description:u.UD,support:u.rE})}formValidated(){this.error=void 0;const n=this.form.value,_={name:n.name,displayName:n["display-name"],description:n.description||null,support:n.support||null};this.videoChannelService.createVideoChannel(_).pipe((0,B.w)(()=>this.uploadAvatar()),(0,B.w)(()=>this.uploadBanner())).subscribe({next:()=>{this.authService.refreshUserInformation(),this.notifier.success("A(z) " + _.displayName + " vide\xF3csatorna l\xE9trehozva."),this.router.navigate(["/my-library","video-channels"])},error:i=>{this.error=i.status!==me.WE.CONFLICT_409?i.message:"Ez a n\xE9v m\xE1r l\xE9tezik ebben a p\xE9ld\xE1nyban."}})}onAvatarChange(n){this.avatar=n}onAvatarDelete(){this.avatar=null}onBannerChange(n){this.banner=n}onBannerDelete(){this.banner=null}isCreation(){return!0}getFormButtonTitle(){return "L\xE9trehoz\xE1s"}getUsername(){return this.form.value.name}uploadAvatar(){return this.avatar?this.videoChannelService.changeVideoChannelImage(this.getUsername(),this.avatar,"avatar"):(0,Z.of)(void 0)}uploadBanner(){return this.banner?this.videoChannelService.changeVideoChannelImage(this.getUsername(),this.banner,"banner"):(0,Z.of)(void 0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(O.Q4),e.Y36(p.e8),e.Y36(p.d4),e.Y36(g.F0),e.Y36(m.B1))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],features:[e.qOj],decls:40,vars:24,consts:function(){let o,n,_,i,a,l,s,C,M,h,N,A;return o="Saj\xE1t csatorn\xE1k",n="Banner image of your channel",_="Megjelen\xEDtett n\xE9v",i="Le\xEDr\xE1s",a="R\xF6vid sz\xF6veg, amely ismerteti az embereknek, hogy hogyan t\xE1mogathatj\xE1k a csatorn\xE1j\xE1t (tags\xE1gi platform\u2026).<br /><br /> Ha felt\xF6lt egy vide\xF3t ebbe a csatorn\xE1ba, akkor a vide\xF3 t\xE1mogat\xE1si mez\u0151je automatikusan ki lesz t\xF6ltve ezzel a sz\xF6veggel.",l="L\xE9trehoz\xE1s",s="Szerkeszt\xE9s",C="\xDAJ CSATORNA",M="CSATORNA",h="N\xE9v",N="P\xE9lda: en_csatornam",A="A csatorna \xF6sszes vide\xF3ja t\xE1mogat\xE1si mez\u0151j\xE9nek fel\xFCl\xEDr\xE1sa",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-library/video-channels"],o,[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["class","video-channel-title",4,"ngIf"],[1,"form-group","col-12","col-lg-8","col-xl-9"],n,[3,"previewImage","actor","bannerChange","bannerDelete",4,"ngIf"],[3,"previewImage","actor","displayUsername","displaySubscribers","avatarChange","avatarDelete",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","display-name"],_,["type","text","id","display-name","formControlName","display-name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","description"],i,["id","description","formControlName","description",1,"form-control",3,"ngClass"],["for","support"],["helpType","markdownEnhanced","preHtml",a],["id","support","formControlName","support","textareaMaxWidth","500px","markdownType","enhanced",3,"classes"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5","d-inline-flex"],["type","submit",3,"value","disabled"],[1,"breadcrumb-item","active"],l,s,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"alert","alert-danger"],[1,"video-channel-title"],C,M,[3,"previewImage","actor","bannerChange","bannerDelete"],[3,"previewImage","actor","displayUsername","displaySubscribers","avatarChange","avatarDelete"],["for","name"],h,[1,"input-group"],["type","text","id","name","placeholder",N,"formControlName","name",1,"form-control",3,"ngClass"],[1,"input-group-append"],[1,"input-group-text"],[1,"form-error"],["inputName","bulkVideosSupportUpdate","formControlName","bulkVideosSupportUpdate","labelText",A]]},template:function(n,_){1&n&&(e.TgZ(0,"nav",0),e.TgZ(1,"ol",1),e.TgZ(2,"li",2),e.TgZ(3,"a",3),e.SDv(4,4),e.qZA(),e.qZA(),e.YNc(5,Me,3,0,"ng-container",5),e.YNc(6,Ae,5,1,"ng-container",5),e.qZA(),e.qZA(),e.YNc(7,Oe,2,1,"div",6),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return _.formValidated()}),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.YNc(11,Se,2,0,"div",10),e.YNc(12,be,2,0,"div",10),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"h6"),e.SDv(15,12),e.qZA(),e.YNc(16,fe,1,2,"my-actor-banner-edit",13),e.YNc(17,ve,1,4,"my-actor-avatar-edit",14),e.YNc(18,Te,9,5,"div",15),e.TgZ(19,"div",16),e.TgZ(20,"label",17),e.SDv(21,18),e.qZA(),e._UZ(22,"input",19),e.YNc(23,Pe,2,1,"div",20),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"label",21),e.SDv(26,22),e.qZA(),e._UZ(27,"textarea",23),e.YNc(28,xe,2,1,"div",20),e.qZA(),e.TgZ(29,"div",16),e.TgZ(30,"label",24),e._uU(31,"Support"),e.qZA(),e._UZ(32,"my-help",25),e._UZ(33,"my-markdown-textarea",26),e.YNc(34,Ie,2,1,"div",20),e.qZA(),e.YNc(35,De,2,0,"div",15),e.qZA(),e.qZA(),e.TgZ(36,"div",8),e._UZ(37,"div",27),e.TgZ(38,"div",28),e._UZ(39,"input",29),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",_.isCreation()),e.xp6(1),e.Q6J("ngIf",!_.isCreation()),e.xp6(1),e.Q6J("ngIf",_.error),e.xp6(1),e.Q6J("formGroup",_.form),e.xp6(3),e.Q6J("ngIf",_.isCreation()),e.xp6(1),e.Q6J("ngIf",!_.isCreation()&&_.videoChannel),e.xp6(4),e.Q6J("ngIf",_.videoChannel),e.xp6(1),e.Q6J("ngIf",_.videoChannel),e.xp6(1),e.Q6J("ngIf",_.isCreation()),e.xp6(4),e.Q6J("ngClass",e.VKq(18,b,_.formErrors["display-name"])),e.xp6(1),e.Q6J("ngIf",_.formErrors["display-name"]),e.xp6(4),e.Q6J("ngClass",e.VKq(20,b,_.formErrors.description)),e.xp6(1),e.Q6J("ngIf",_.formErrors.description),e.xp6(5),e.Q6J("classes",e.VKq(22,b,_.formErrors.support)),e.xp6(1),e.Q6J("ngIf",_.formErrors.support),e.xp6(1),e.Q6J("ngIf",_.isBulkUpdateVideosDisplayed()),e.xp6(4),e.s9C("value",_.getFormButtonTitle()),e.Q6J("disabled",!_.form.valid))},directives:[g.yS,E.O5,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,E.mk,x.I,I.c,V,L.v,Y.P],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.video-channel-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}my-actor-avatar-edit[_ngcontent-%COMP%], my-actor-banner-edit[_ngcontent-%COMP%]{display:block;margin-bottom:20px}my-actor-banner-edit[_ngcontent-%COMP%]{max-width:500px}.input-group[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-height:30px;padding-top:0;padding-bottom:0;flex-wrap:nowrap}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:14px;color:gray}.input-group-append[_ngcontent-%COMP%]{height:30px}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=text]#name[_ngcontent-%COMP%]{width:auto;flex-grow:1}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuBackgroundColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}@supports (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-inline-start:.5rem}}@supports not (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;color:#6c757d;content:"/"}@supports (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-inline-end:.5rem}}@supports not (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-right:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}@media screen and (max-width: 800px){input[type=text]#name[_ngcontent-%COMP%]{width:auto!important}label[for=name][_ngcontent-%COMP%] + div[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}}']}),t})();var Ve=r(61855),Le=r(18186);const f=function(t,o,n){for(var _=-1,i=t.length;++_<i;){var a=t[_],l=o(a);if(null!=l&&(void 0===s?l==l&&!(0,Le.Z)(l):n(l,s)))var s=l,C=a}return C},w=function(t,o){return t<o};var $=r(1613);var U=r(70488);const H=function(t,o){return t>o};var Je=r(12599),Ke=r(52811),Fe=r(67053),Qe=r(86552),Xe=r(49705),je=r(38078);function We(t,o){1&t&&(e.TgZ(0,"div",12),e.SDv(1,13),e.qZA())}function en(t,o){if(1&t&&e._UZ(0,"p-chart",30),2&t){const n=e.oxw(2).index,_=e.oxw();e.Q6J("data",_.videoChannelsChartData[n])("options",_.chartOptions)}}function nn(t,o){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,en,1,2,"p-chart",29),e.qZA()),2&t){const n=e.oxw().index,_=e.oxw();e.xp6(1),e.Q6J("ngIf",_.chartOptions&&_.videoChannelsChartData&&_.videoChannelsChartData[n])}}const z=function(t){return["/c",t]},tn=function(t){return["update",t]};function _n(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",14),e._UZ(1,"my-actor-avatar",15),e.TgZ(2,"div",16),e.TgZ(3,"a",17),e.TgZ(4,"div",18),e._uU(5),e.qZA(),e.TgZ(6,"div",19),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",20),e.SDv(9,21),e.qZA(),e.TgZ(10,"div",22),e.SDv(11,23),e.qZA(),e.TgZ(12,"div",24),e._UZ(13,"my-edit-button",25),e.TgZ(14,"my-delete-button",26),e.NdJ("click",function(){const a=e.CHM(n).$implicit;return e.oxw().deleteVideoChannel(a)}),e.qZA(),e.qZA(),e.YNc(15,nn,2,1,"div",27),e.qZA(),e.qZA()}if(2&t){const n=o.$implicit,_=e.oxw();e.xp6(1),e.Q6J("channel",n)("internalHref",e.VKq(11,z,n.nameWithHost)),e.xp6(2),e.Q6J("routerLink",e.VKq(13,z,n.nameWithHost)),e.xp6(2),e.Oqu(n.displayName),e.xp6(2),e.Oqu(n.nameWithHost),e.xp6(2),e.pQV(n.followersCount)(n.followersCount),e.QtT(9),e.xp6(2),e.pQV(n.videosCount)(n.videosCount),e.QtT(11),e.xp6(2),e.Q6J("routerLink",e.VKq(15,tn,n.nameWithHost)),e.xp6(2),e.Q6J("ngIf",!_.isInSmallView)}}const on=[{path:"",component:(()=>{class t{constructor(n,_,i,a,l){this.authService=n,this.notifier=_,this.confirmService=i,this.videoChannelService=a,this.screenService=l,this.videoChannels=[],this.videoChannelsMinimumDailyViews=0}get isInSmallView(){return this.screenService.isInSmallView()}onSearch(n){this.search=n,this.loadVideoChannels()}deleteVideoChannel(n){return(0,Ve.mG)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirmWithInput("Biztos, hogy t\xF6rli a(z) " + n.displayName + " csatorn\xE1t? Ez t\xF6rli a csatorn\xE1ra felt\xF6lt\xF6tt " + n.videosCount + " vide\xF3t, \xE9s nem hozhat l\xE9tre m\xE9g egy csatorn\xE1t ugyanezzel a n\xE9vvel (" + n.name + ")!","Please type the name of the video channel (" + n.name + ") to confirm",n.name,"T\xF6rl\xE9s"))&&this.videoChannelService.removeVideoChannel(n).subscribe({next:()=>{this.loadVideoChannels(),this.notifier.success("A(z) " + n.displayName + " vide\xF3csatorna t\xF6r\xF6lve.")},error:i=>this.notifier.error(i.message)})})}loadVideoChannels(){this.authService.userInformationLoaded.pipe((0,Je.z)(()=>{const _={account:this.authService.getUser().account,withStats:!0,search:this.search,sort:"-updatedAt"};return this.videoChannelService.listAccountVideoChannels(_)})).subscribe(n=>{this.videoChannels=n.data,this.totalItems=n.total,this.videoChannelsChartData=this.videoChannels.map(_=>({labels:_.viewsPerDay.map(i=>i.date.toLocaleDateString()),datasets:[{label:"A nap megtekint\xE9sei",data:_.viewsPerDay.map(i=>i.views),fill:!1,borderColor:"#c6c6c6"}]})),this.videoChannelsMinimumDailyViews=function(t){return t&&t.length?f(t,$.Z,w):void 0}(this.videoChannels.map(_=>function(t,o){return t&&t.length?f(t,(0,U.Z)(o,2),w):void 0}(_.viewsPerDay,i=>i.views).views)),this.videoChannelsMaximumDailyViews=function(t){return t&&t.length?f(t,$.Z,H):void 0}(this.videoChannels.map(_=>function(t,o){return t&&t.length?f(t,(0,U.Z)(o,2),H):void 0}(_.viewsPerDay,i=>i.views).views)),this.buildChartOptions()})}buildChartOptions(){this.chartOptions={plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,external:function({tooltip:n}){!n||(n.options.displayColors=!1)},callbacks:{label:n=>`${n.formattedValue} views`}}},scales:{x:{display:!1},y:{display:!1,min:Math.max(0,this.videoChannelsMinimumDailyViews-3*this.videoChannelsMaximumDailyViews/100),max:Math.max(1,this.videoChannelsMaximumDailyViews)}},layout:{padding:{left:15,right:15,top:10,bottom:0}},elements:{point:{radius:0}},hover:{mode:"index",intersect:!1}}}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.e8),e.Y36(p.d4),e.Y36(p.zM),e.Y36(m.B1),e.Y36(p.H2))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:16,vars:4,consts:function(){let o,n,_,i,a,l;return o="Csatorn\xE1im",n="Videocsatorna l\xE9trehoz\xE1sa",_="No channel found.",i="Csatornaoldal",a="{VAR_PLURAL, plural, =1 {1 subscriber} other {{INTERPOLATION} subscribers}}",a=e.Zx4(a,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),l="{VAR_PLURAL, plural, =0 {Nincs vide\xF3} =1 {1 vide\xF3} other {{INTERPOLATION} vide\xF3}}",l=e.Zx4(l,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[["iconName","channel","aria-hidden","true"],o,[1,"badge","badge-secondary"],[3,"hideLink"],[1,"video-channels-header","d-flex","justify-content-between"],[3,"search"],["routerLink","create",1,"create-button"],["iconName","add","aria-hidden","true"],n,["class","no-results",4,"ngIf"],[1,"video-channels"],["class","video-channel",4,"ngFor","ngForOf"],[1,"no-results"],_,[1,"video-channel"],[3,"channel","internalHref"],[1,"video-channel-info"],["title",i,1,"video-channel-names",3,"routerLink"],[1,"video-channel-display-name"],[1,"video-channel-name"],[1,"video-channel-followers"],a,[1,"video-channel-videos"],l,[1,"video-channel-buttons"],["label","",3,"routerLink"],["label","",3,"click"],["class","w-100 d-flex justify-content-end",4,"ngIf"],[1,"w-100","d-flex","justify-content-end"],["type","line","width","40vw","height","100px",3,"data","options",4,"ngIf"],["type","line","width","40vw","height","100px",3,"data","options"]]},template:function(n,_){1&n&&(e.TgZ(0,"h1"),e._UZ(1,"my-global-icon",0),e.ynx(2),e.SDv(3,1),e.BQk(),e.TgZ(4,"span",2),e._uU(5),e.qZA(),e.qZA(),e._UZ(6,"my-channels-setup-message",3),e.TgZ(7,"div",4),e.TgZ(8,"my-advanced-input-filter",5),e.NdJ("search",function(a){return _.onSearch(a)}),e.qZA(),e.TgZ(9,"a",6),e._UZ(10,"my-global-icon",7),e.ynx(11),e.SDv(12,8),e.BQk(),e.qZA(),e.qZA(),e.YNc(13,We,2,0,"div",9),e.TgZ(14,"div",10),e.YNc(15,_n,16,17,"div",11),e.qZA()),2&n&&(e.xp6(5),e.Oqu(_.totalItems),e.xp6(1),e.Q6J("hideLink",!0),e.xp6(7),e.Q6J("ngIf",0===_.totalItems),e.xp6(2),e.Q6J("ngForOf",_.videoChannels))},directives:[y.$,Ke.M,Fe.F,g.yS,E.O5,E.sg,Qe.b,Xe.M,g.rH,je.t,R.C],styles:["h1[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;top:-2px}.create-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.create-button[_ngcontent-%COMP%]:hover, .create-button[_ngcontent-%COMP%]:focus, .create-button[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.create-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.create-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.create-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.create-button[_ngcontent-%COMP%]{padding-right:17px}}.create-button[_ngcontent-%COMP%]:focus, .create-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-button[_ngcontent-%COMP%], .create-button[_ngcontent-%COMP%]:active, .create-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-button[disabled][_ngcontent-%COMP%], .create-button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.create-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:300px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(300px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}@supports (margin-inline-end: 10px){my-edit-button[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){my-edit-button[_ngcontent-%COMP%]{margin-right:10px}}.video-channel[_ngcontent-%COMP%]{display:flex;min-height:130px;margin-bottom:20px;border-bottom:1px solid #C6C6C6;padding-bottom:0}@media screen and (max-width: 800px){.video-channel[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px;min-width:80px;min-height:80px}@supports (margin-inline-end: 10px){.video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.video-channel[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:10px}}.video-channel-info[_ngcontent-%COMP%]{flex-grow:1}.video-channel-names[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;align-items:baseline;color:var(--mainForegroundColor)}.video-channel-names[_ngcontent-%COMP%]:hover, .video-channel-names[_ngcontent-%COMP%]:focus, .video-channel-names[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.video-channel-display-name[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.video-channel-name[_ngcontent-%COMP%]{font-size:14px;color:#777272}@supports (margin-inline-start: 5px){.video-channel-name[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.video-channel-name[_ngcontent-%COMP%]{margin-left:5px}}.video-channel-buttons[_ngcontent-%COMP%]{margin-top:10px;min-width:190px}  .chartjs-render-monitor{position:relative;top:1px}.video-channels-header[_ngcontent-%COMP%]{margin-bottom:30px}@media screen and (max-width: 800px){.video-channels-header[_ngcontent-%COMP%]{text-align:center}.video-channel[_ngcontent-%COMP%]{padding-bottom:10px}@supports (margin-inline-end: 0){.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-inline-end:0}}@supports not (margin-inline-end: 0){.video-channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0}}.video-channel[_ngcontent-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%]{align-self:center}.video-channel-info[_ngcontent-%COMP%]{padding-bottom:10px;text-align:center}.video-channel-names[_ngcontent-%COMP%]{flex-direction:column;align-items:center!important;margin:auto}@supports (margin-inline-start: 0 !important){.video-channel-name[_ngcontent-%COMP%]{margin-inline-start:0!important}}@supports not (margin-inline-start: 0 !important){.video-channel-name[_ngcontent-%COMP%]{margin-left:0!important}}}@media screen and (max-width: 500px){.video-channels-header[_ngcontent-%COMP%]{flex-direction:column}.video-channels-header[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%!important;margin-bottom:12px}}@media screen and (min-width: breakpoint(lg)){.main-col:not(.expanded)[_nghost-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%]{float:right}}@media screen and (min-width: 800px){.expanded[_nghost-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .video-channel-buttons[_ngcontent-%COMP%]{float:right}}"]}),t})(),data:{meta:{title:"My video channels"}}},{path:"create",component:ye,data:{meta:{title:"Create a new video channel"}}},{path:"update/:videoChannelId",component:Ee,data:{meta:{title:"Vide\xF3csatorna friss\xEDt\xE9se"}}}];let rn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(on)],g.Bz]}),t})();var an=r(63192);let ln=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[rn,R.S,m.nC,O.hA,q.Y,k.s,an.v]]}),t})()}}]);
(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[766],{51087:F=>{F.exports=function(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E},F.exports.default=F.exports,F.exports.__esModule=!0},29526:(F,ae,E)=>{var U=E(22616),ne=E(81233);function I(le,pe,G){return ne()?(F.exports=I=Reflect.construct,F.exports.default=F.exports,F.exports.__esModule=!0):(F.exports=I=function(Z,he,se){var ve=[null];ve.push.apply(ve,he);var C=new(Function.bind.apply(Z,ve));return se&&U(C,se.prototype),C},F.exports.default=F.exports,F.exports.__esModule=!0),I.apply(null,arguments)}F.exports=I,F.exports.default=F.exports,F.exports.__esModule=!0},6301:F=>{function ae(){return F.exports=ae=Object.assign||function(E){for(var U=1;U<arguments.length;U++){var ne=arguments[U];for(var I in ne)Object.prototype.hasOwnProperty.call(ne,I)&&(E[I]=ne[I])}return E},F.exports.default=F.exports,F.exports.__esModule=!0,ae.apply(this,arguments)}F.exports=ae,F.exports.default=F.exports,F.exports.__esModule=!0},39817:(F,ae,E)=>{var U=E(22616);F.exports=function(I,le){if("function"!=typeof le&&null!==le)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(le&&le.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),le&&U(I,le)},F.exports.default=F.exports,F.exports.__esModule=!0},20514:(F,ae,E)=>{var U=E(22616);F.exports=function(I,le){I.prototype=Object.create(le.prototype),I.prototype.constructor=I,U(I,le)},F.exports.default=F.exports,F.exports.__esModule=!0},81233:F=>{F.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}},F.exports.default=F.exports,F.exports.__esModule=!0},22616:F=>{function ae(E,U){return F.exports=ae=Object.setPrototypeOf||function(I,le){return I.__proto__=le,I},F.exports.default=F.exports,F.exports.__esModule=!0,ae(E,U)}F.exports=ae,F.exports.default=F.exports,F.exports.__esModule=!0},4314:(F,ae,E)=>{"use strict";var U=E(12499),ne=E(6301),I=E(68467);function B(H,C,n){var L=H;return I(C)?(n=C,"string"==typeof H&&(L={uri:H})):L=ne({},C,{uri:H}),L.callback=n,L}function Z(H,C,n){return he(C=B(H,C,n))}function he(H){if(void 0===H.callback)throw new Error("callback argument missing");var C=!1,n=function(Y,oe,ue){C||(C=!0,H.callback(Y,oe,ue))};function A(){var q=void 0;if(q=x.response?x.response:x.responseText||function(H){try{if("document"===H.responseType)return H.responseXML;if(""===H.responseType&&(!H.responseXML||"parsererror"!==H.responseXML.documentElement.nodeName))return H.responseXML}catch(n){}return null}(x),b)try{q=JSON.parse(q)}catch(Y){}return q}function j(q){return clearTimeout(N),q instanceof Error||(q=new Error(""+(q||"Unknown XMLHttpRequest Error"))),q.statusCode=0,n(q,te)}function k(){if(!fe){var q;clearTimeout(N);var Y=te,oe=null;return 0!==(q=H.useXDR&&void 0===x.status?200:1223===x.status?204:x.status)?(Y={body:A(),statusCode:q,method:Me,headers:{},url:ee,rawRequest:x},x.getAllResponseHeaders&&(Y.headers=function(H){var C={};return H&&H.trim().split("\n").forEach(function(n){var L=n.indexOf(":"),A=n.slice(0,L).trim().toLowerCase(),j=n.slice(L+1).trim();void 0===C[A]?C[A]=j:Array.isArray(C[A])?C[A].push(j):C[A]=[C[A],j]}),C}(x.getAllResponseHeaders()))):oe=new Error("Internal XMLHttpRequest Error"),n(oe,Y,Y.body)}}var x=H.xhr||null;x||(x=H.cors||H.useXDR?new Z.XDomainRequest:new Z.XMLHttpRequest);var W,fe,N,ee=x.url=H.uri||H.url,Me=x.method=H.method||"GET",ot=H.body||H.data,Le=x.headers=H.headers||{},T=!!H.sync,b=!1,te={body:void 0,headers:{},statusCode:0,method:Me,url:ee,rawRequest:x};if("json"in H&&!1!==H.json&&(b=!0,Le.accept||Le.Accept||(Le.Accept="application/json"),"GET"!==Me&&"HEAD"!==Me&&(Le["content-type"]||Le["Content-Type"]||(Le["Content-Type"]="application/json"),ot=JSON.stringify(!0===H.json?ot:H.json))),x.onreadystatechange=function(){4===x.readyState&&setTimeout(k,0)},x.onload=k,x.onerror=j,x.onprogress=function(){},x.onabort=function(){fe=!0},x.ontimeout=j,x.open(Me,ee,!T,H.username,H.password),T||(x.withCredentials=!!H.withCredentials),!T&&H.timeout>0&&(N=setTimeout(function(){if(!fe){fe=!0,x.abort("timeout");var q=new Error("XMLHttpRequest timeout");q.code="ETIMEDOUT",j(q)}},H.timeout)),x.setRequestHeader)for(W in Le)Le.hasOwnProperty(W)&&x.setRequestHeader(W,Le[W]);else if(H.headers&&!function(H){for(var C in H)if(H.hasOwnProperty(C))return!1;return!0}(H.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in H&&(x.responseType=H.responseType),"beforeSend"in H&&"function"==typeof H.beforeSend&&H.beforeSend(x),x.send(ot||null),x}F.exports=Z,F.exports.default=Z,Z.XMLHttpRequest=U.XMLHttpRequest||function(){},Z.XDomainRequest="withCredentials"in new Z.XMLHttpRequest?Z.XMLHttpRequest:U.XDomainRequest,function(H,C){for(var n=0;n<H.length;n++)C(H[n])}(["get","put","post","patch","head","delete"],function(H){Z["delete"===H?"del":H]=function(C,n,L){return(n=B(C,n,L)).method=H.toUpperCase(),he(n)}})},48530:(F,ae,E)=>{var I,U="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},ne=E(25893);"undefined"!=typeof document?I=document:(I=U["__GLOBAL_DOCUMENT_CACHE@4"])||(I=U["__GLOBAL_DOCUMENT_CACHE@4"]=ne),F.exports=I},12499:F=>{var ae;ae="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},F.exports=ae},68467:F=>{F.exports=function(U){if(!U)return!1;var ne=ae.call(U);return"[object Function]"===ne||"function"==typeof U&&"[object RegExp]"!==ne||"undefined"!=typeof window&&(U===window.setTimeout||U===window.alert||U===window.confirm||U===window.prompt)};var ae=Object.prototype.toString},97222:(F,ae)=>{function E(G){if(G&&"object"==typeof G){var B=G.which||G.keyCode||G.charCode;B&&(G=B)}if("number"==typeof G)return le[G];var he,Z=String(G);return(he=U[Z.toLowerCase()])?he:(he=ne[Z.toLowerCase()])||(1===Z.length?Z.charCodeAt(0):void 0)}E.isEventKey=function(B,Z){if(B&&"object"==typeof B){var he=B.which||B.keyCode||B.charCode;if(null==he)return!1;if("string"==typeof Z){var se;if(se=U[Z.toLowerCase()])return se===he;if(se=ne[Z.toLowerCase()])return se===he}else if("number"==typeof Z)return Z===he;return!1}};var U=(ae=F.exports=E).code=ae.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},ne=ae.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(I=97;I<123;I++)U[String.fromCharCode(I)]=I-32;for(var I=48;I<58;I++)U[I-48]=I;for(I=1;I<13;I++)U["f"+I]=I+111;for(I=0;I<10;I++)U["numpad "+I]=I+96;var le=ae.names=ae.title={};for(I in U)le[U[I]]=I;for(var pe in ne)U[pe]=ne[pe]},68884:F=>{F.exports=function(E,U){var ne,I=null;try{ne=JSON.parse(E,U)}catch(le){I=le}return[I,ne]}},22511:(F,ae,E)=>{"use strict";var U=E(12499),ne=E(48530),I=E(6301),le=E(51087),pe=E(20514),G=E(68884),B=E(97222),Z=E(4314),he=E(59672),se=E(29526),ve=E(39817);function H(r){return r&&"object"==typeof r&&"default"in r?r:{default:r}}for(var N,C=H(U),n=H(ne),L=H(I),A=H(le),j=H(pe),k=H(G),x=H(B),W=H(Z),fe=H(he),ee=H(se),Me=H(ve),Le={prefixed:!0},T=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],b=T[0],te=0;te<T.length;te++)if(T[te][1]in n.default){N=T[te];break}if(N){for(var q=0;q<N.length;q++)Le[b[q]]=N[q];Le.prefixed=N[0]!==b[0]}var Y=[],R=function ue(r){var o,a="info",i=function(){for(var t=arguments.length,l=new Array(t),_=0;_<t;_++)l[_]=arguments[_];o("log",a,l)};return o=function(a,o){return function(i,e,t){var l=o.levels[e],_=new RegExp("^("+l+")$");if("log"!==i&&t.unshift(i.toUpperCase()+":"),t.unshift(a+":"),Y){Y.push([].concat(t));var f=Y.length-1e3;Y.splice(0,f>0?f:0)}if(C.default.console){var v=C.default.console[i];!v&&"debug"===i&&(v=C.default.console.info||C.default.console.log),v&&l&&_.test(i)&&v[Array.isArray(t)?"apply":"call"](C.default.console,t)}}}(r,i),i.createLogger=function(e){return ue(r+": "+e)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:a},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');a=e}return a},(i.history=function(){return Y?[].concat(Y):[]}).filter=function(e){return(Y||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},i.history.clear=function(){Y&&(Y.length=0)},i.history.disable=function(){null!==Y&&(Y.length=0,Y=null)},i.history.enable=function(){null===Y&&(Y=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return o("error",a,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return o("warn",a,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return o("debug",a,t)},i}("VIDEOJS"),re=R.createLogger,X=Object.prototype.toString,z=function(a){return Ce(a)?Object.keys(a):[]};function ce(r,a){z(r).forEach(function(o){return a(r[o],o)})}function ie(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return Object.assign?L.default.apply(void 0,[r].concat(o)):(o.forEach(function(e){!e||ce(e,function(t,l){r[l]=t})}),r)}function Ce(r){return!!r&&"object"==typeof r}function Te(r){return Ce(r)&&"[object Object]"===X.call(r)&&r.constructor===Object}function Fe(r,a){if(!r||!a)return"";if("function"==typeof C.default.getComputedStyle){var o;try{o=C.default.getComputedStyle(r)}catch(i){return""}return o?o.getPropertyValue(a)||o[a]:""}return""}var r,me=C.default.navigator&&C.default.navigator.userAgent||"",St=/AppleWebKit\/([\d.]+)/i.exec(me),$e=St?parseFloat(St.pop()):null,et=/iPod/i.test(me),mt=(r=me.match(/OS (\d+)_/i))&&r[1]?r[1]:null,de=/Android/i.test(me),ye=function(){var r=me.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!r)return null;var a=r[1]&&parseFloat(r[1]),o=r[2]&&parseFloat(r[2]);return a&&o?parseFloat(r[1]+"."+r[2]):a||null}(),Ee=de&&ye<5&&$e<537,Ze=/Firefox/i.test(me),we=/Edg/i.test(me),Be=!we&&(/Chrome/i.test(me)||/CriOS/i.test(me)),gt=function(){var r=me.match(/(Chrome|CriOS)\/(\d+)/);return r&&r[2]?parseFloat(r[2]):null}(),st=function(){var r=/MSIE\s(\d+)\.\d/.exec(me),a=r&&parseFloat(r[1]);return!a&&/Trident\/7.0/i.test(me)&&/rv:11.0/.test(me)&&(a=11),a}(),wt=/Safari/i.test(me)&&!Be&&!de&&!we,hn=/Windows/i.test(me),yt=Boolean(Dt()&&("ontouchstart"in C.default||C.default.navigator.maxTouchPoints||C.default.DocumentTouch&&C.default.document instanceof C.default.DocumentTouch)),ct=/iPad/i.test(me)||wt&&yt&&!/iPhone/i.test(me),Vn=/iPhone/i.test(me)&&!ct,qe=Vn||ct||et,_n=(wt||qe)&&!Be,Wo=Object.freeze({__proto__:null,IS_IPOD:et,IOS_VERSION:mt,IS_ANDROID:de,ANDROID_VERSION:ye,IS_NATIVE_ANDROID:Ee,IS_FIREFOX:Ze,IS_EDGE:we,IS_CHROME:Be,CHROME_VERSION:gt,IE_VERSION:st,IS_SAFARI:wt,IS_WINDOWS:hn,TOUCH_ENABLED:yt,IS_IPAD:ct,IS_IPHONE:Vn,IS_IOS:qe,IS_ANY_SAFARI:_n});function Ln(r){return"string"==typeof r&&Boolean(r.trim())}function Ue(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Dt(){return n.default===C.default.document}function jt(r){return Ce(r)&&1===r.nodeType}function Ii(){try{return C.default.parent!==C.default.self}catch(r){return!0}}function wi(r){return function(a,o){if(!Ln(a))return n.default[r](null);Ln(o)&&(o=n.default.querySelector(o));var i=jt(o)?o:n.default;return i[r]&&i[r](a)}}function Ie(r,a,o,i){void 0===r&&(r="div"),void 0===a&&(a={}),void 0===o&&(o={});var e=n.default.createElement(r);return Object.getOwnPropertyNames(a).forEach(function(t){var l=a[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(R.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+l+"."),e.setAttribute(t,l)):"textContent"===t?xt(e,l):(e[t]!==l||"tabIndex"===t)&&(e[t]=l)}),Object.getOwnPropertyNames(o).forEach(function(t){e.setAttribute(t,o[t])}),i&&vn(e,i),e}function xt(r,a){return void 0===r.textContent?r.innerText=a:r.textContent=a,r}function Bn(r,a){a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r)}function At(r,a){return Ue(a),r.classList?r.classList.contains(a):function(r){return new RegExp("(^|\\s)"+r+"($|\\s)")}(a).test(r.className)}function ut(r,a){return r.classList?r.classList.add(a):At(r,a)||(r.className=(r.className+" "+a).trim()),r}function qt(r,a){return r?(r.classList?r.classList.remove(a):(Ue(a),r.className=r.className.split(/\s+/).filter(function(o){return o!==a}).join(" ")),r):(R.warn("removeClass was called with an element that doesn't exist"),null)}function Un(r,a,o){var i=At(r,a);if("function"==typeof o&&(o=o(r,a)),"boolean"!=typeof o&&(o=!i),o!==i)return o?ut(r,a):qt(r,a),r}function Fn(r,a){Object.getOwnPropertyNames(a).forEach(function(o){var i=a[o];null==i||!1===i?r.removeAttribute(o):r.setAttribute(o,!0===i?"":i)})}function dt(r){var a={};if(r&&r.attributes&&r.attributes.length>0)for(var i=r.attributes,e=i.length-1;e>=0;e--){var t=i[e].name,l=i[e].value;("boolean"==typeof r[t]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+t+","))&&(l=null!==l),a[t]=l}return a}function Di(r,a){return r.getAttribute(a)}function Jt(r,a,o){r.setAttribute(a,o)}function pn(r,a){r.removeAttribute(a)}function Ni(){n.default.body.focus(),n.default.onselectstart=function(){return!1}}function Ri(){n.default.onselectstart=function(){return!0}}function Nt(r){if(r&&r.getBoundingClientRect&&r.parentNode){var a=r.getBoundingClientRect(),o={};return["bottom","height","left","right","top","width"].forEach(function(i){void 0!==a[i]&&(o[i]=a[i])}),o.height||(o.height=parseFloat(Fe(r,"height"))),o.width||(o.width=parseFloat(Fe(r,"width"))),o}}function Qt(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};for(var a=r.offsetWidth,o=r.offsetHeight,i=0,e=0;r.offsetParent&&r!==n.default[Le.fullscreenElement];)i+=r.offsetLeft,e+=r.offsetTop,r=r.offsetParent;return{left:i,top:e,width:a,height:o}}function fn(r,a){var o={x:0,y:0};if(qe)for(var i=r;i&&"html"!==i.nodeName.toLowerCase();){var e=Fe(i,"transform");if(/^matrix/.test(e)){var t=e.slice(7,-1).split(/,\s/).map(Number);o.x+=t[4],o.y+=t[5]}else if(/^matrix3d/.test(e)){var l=e.slice(9,-1).split(/,\s/).map(Number);o.x+=l[12],o.y+=l[13]}i=i.parentNode}var _={},f=Qt(a.target),v=Qt(r),g=v.width,m=a.offsetY-(v.top-f.top),D=a.offsetX-(v.left-f.left);return a.changedTouches&&(D=a.changedTouches[0].pageX-v.left,m=a.changedTouches[0].pageY+v.top,qe&&(D-=o.x,m-=o.y)),_.y=1-Math.max(0,Math.min(1,m/v.height)),_.x=Math.max(0,Math.min(1,D/g)),_}function Vi(r){return Ce(r)&&3===r.nodeType}function zn(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function Li(r){return"function"==typeof r&&(r=r()),(Array.isArray(r)?r:[r]).map(function(a){return"function"==typeof a&&(a=a()),jt(a)||Vi(a)?a:"string"==typeof a&&/\S/.test(a)?n.default.createTextNode(a):void 0}).filter(function(a){return a})}function vn(r,a){return Li(a).forEach(function(o){return r.appendChild(o)}),r}function Hi(r,a){return vn(zn(r),a)}function Ot(r){return void 0===r.button&&void 0===r.buttons||0===r.button&&void 0===r.buttons||"mouseup"===r.type&&0===r.button&&0===r.buttons||!(0!==r.button||1!==r.buttons)}var $n,ht=wi("querySelector"),Bi=wi("querySelectorAll"),Ui=Object.freeze({__proto__:null,isReal:Dt,isEl:jt,isInFrame:Ii,createEl:Ie,textContent:xt,prependTo:Bn,hasClass:At,addClass:ut,removeClass:qt,toggleClass:Un,setAttributes:Fn,getAttributes:dt,getAttribute:Di,setAttribute:Jt,removeAttribute:pn,blockTextSelection:Ni,unblockTextSelection:Ri,getBoundingClientRect:Nt,findPosition:Qt,getPointerPosition:fn,isTextNode:Vi,emptyEl:zn,normalizeContent:Li,appendContent:vn,insertContent:Hi,isSingleLeftClick:Ot,$:ht,$$:Bi}),Fi=!1,Yo=function(){if(!1!==$n.options.autoSetup){var a=Array.prototype.slice.call(n.default.getElementsByTagName("video")),o=Array.prototype.slice.call(n.default.getElementsByTagName("audio")),i=Array.prototype.slice.call(n.default.getElementsByTagName("video-js")),e=a.concat(o,i);if(e&&e.length>0)for(var t=0,l=e.length;t<l;t++){var _=e[t];if(!_||!_.getAttribute){Zn(1);break}void 0===_.player&&null!==_.getAttribute("data-setup")&&$n(_)}else Fi||Zn(1)}};function Zn(r,a){!Dt()||(a&&($n=a),C.default.setTimeout(Yo,r))}function Wn(){Fi=!0,C.default.removeEventListener("load",Wn)}Dt()&&("complete"===n.default.readyState?Wn():C.default.addEventListener("load",Wn));var Zi,zi=function(a){var o=n.default.createElement("style");return o.className=a,o},$i=function(a,o){a.styleSheet?a.styleSheet.cssText=o:a.textContent=o},Go=3;function bt(){return Go++}C.default.WeakMap||(Zi=function(){function r(){this.vdata="vdata"+Math.floor(C.default.performance&&C.default.performance.now()||Date.now()),this.data={}}var a=r.prototype;return a.set=function(i,e){var t=i[this.vdata]||bt();return i[this.vdata]||(i[this.vdata]=t),this.data[t]=e,this},a.get=function(i){var e=i[this.vdata];if(e)return this.data[e];R("We have no data for this element",i)},a.has=function(i){return i[this.vdata]in this.data},a.delete=function(i){var e=i[this.vdata];e&&(delete this.data[e],delete i[this.vdata])},r}());var We=C.default.WeakMap?new WeakMap:new Zi;function Rt(r,a){if(We.has(r)){var o=We.get(r);0===o.handlers[a].length&&(delete o.handlers[a],r.removeEventListener?r.removeEventListener(a,o.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+a,o.dispatcher)),Object.getOwnPropertyNames(o.handlers).length<=0&&(delete o.handlers,delete o.dispatcher,delete o.disabled),0===Object.getOwnPropertyNames(o).length&&We.delete(r)}}function Re(r,a,o,i){o.forEach(function(e){r(a,e,i)})}function Pe(r){if(r.fixed_)return r;function a(){return!0}function o(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){var i=r||C.default.event;for(var e in r={},i)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&("returnValue"===e&&i.preventDefault||(r[e]=i[e]));if(r.target||(r.target=r.srcElement||n.default),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){i.preventDefault&&i.preventDefault(),r.returnValue=!1,i.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),r.cancelBubble=!0,i.cancelBubble=!0,r.isPropagationStopped=a},r.isPropagationStopped=o,r.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),r.isImmediatePropagationStopped=a,r.stopPropagation()},r.isImmediatePropagationStopped=o,null!=r.clientX){var t=n.default.documentElement,l=n.default.body;r.pageX=r.clientX+(t&&t.scrollLeft||l&&l.scrollLeft||0)-(t&&t.clientLeft||l&&l.clientLeft||0),r.pageY=r.clientY+(t&&t.scrollTop||l&&l.scrollTop||0)-(t&&t.clientTop||l&&l.clientTop||0)}r.which=r.charCode||r.keyCode,null!=r.button&&(r.button=1&r.button?0:4&r.button?1:2&r.button?2:0)}return r.fixed_=!0,r}var mn,Jo=["touchstart","touchmove"];function Qe(r,a,o){if(Array.isArray(a))return Re(Qe,r,a,o);We.has(r)||We.set(r,{});var i=We.get(r);if(i.handlers||(i.handlers={}),i.handlers[a]||(i.handlers[a]=[]),o.guid||(o.guid=bt()),i.handlers[a].push(o),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,l){if(!i.disabled){t=Pe(t);var _=i.handlers[t.type];if(_)for(var f=_.slice(0),v=0,g=f.length;v<g&&!t.isImmediatePropagationStopped();v++)try{f[v].call(r,t,l)}catch(S){R.error(S)}}}),1===i.handlers[a].length)if(r.addEventListener){var e=!1;(function(){if("boolean"!=typeof mn){mn=!1;try{var a=Object.defineProperty({},"passive",{get:function(){mn=!0}});C.default.addEventListener("test",null,a),C.default.removeEventListener("test",null,a)}catch(o){}}return mn})()&&Jo.indexOf(a)>-1&&(e={passive:!0}),r.addEventListener(a,i.dispatcher,e)}else r.attachEvent&&r.attachEvent("on"+a,i.dispatcher)}function ze(r,a,o){if(We.has(r)){var i=We.get(r);if(i.handlers){if(Array.isArray(a))return Re(ze,r,a,o);var e=function(v,g){i.handlers[g]=[],Rt(v,g)};if(void 0===a){for(var t in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},t)&&e(r,t);return}var l=i.handlers[a];if(l){if(!o)return void e(r,a);if(o.guid)for(var _=0;_<l.length;_++)l[_].guid===o.guid&&l.splice(_--,1);Rt(r,a)}}}}function Vt(r,a,o){var i=We.has(r)?We.get(r):{},e=r.parentNode||r.ownerDocument;if("string"==typeof a?a={type:a,target:r}:a.target||(a.target=r),a=Pe(a),i.dispatcher&&i.dispatcher.call(r,a,o),e&&!a.isPropagationStopped()&&!0===a.bubbles)Vt.call(null,e,a,o);else if(!e&&!a.defaultPrevented&&a.target&&a.target[a.type]){We.has(a.target)||We.set(a.target,{});var t=We.get(a.target);a.target[a.type]&&(t.disabled=!0,"function"==typeof a.target[a.type]&&a.target[a.type](),t.disabled=!1)}return!a.defaultPrevented}function gn(r,a,o){if(Array.isArray(a))return Re(gn,r,a,o);var i=function e(){ze(r,a,e),o.apply(this,arguments)};i.guid=o.guid=o.guid||bt(),Qe(r,a,i)}function Xt(r,a,o){var i=function e(){ze(r,a,e),o.apply(this,arguments)};i.guid=o.guid=o.guid||bt(),Qe(r,a,i)}var en,yn=Object.freeze({__proto__:null,fixEvent:Pe,on:Qe,off:ze,trigger:Vt,one:gn,any:Xt}),Ae=function(a,o,i){o.guid||(o.guid=bt());var e=o.bind(a);return e.guid=i?i+"_"+o.guid:o.guid,e},_t=function(a,o){var i=C.default.performance.now();return function(){var l=C.default.performance.now();l-i>=o&&(a.apply(void 0,arguments),i=l)}},He=function(){};He.prototype.allowedEvents_={},He.prototype.addEventListener=He.prototype.on=function(r,a){var o=this.addEventListener;this.addEventListener=function(){},Qe(this,r,a),this.addEventListener=o},He.prototype.removeEventListener=He.prototype.off=function(r,a){ze(this,r,a)},He.prototype.one=function(r,a){var o=this.addEventListener;this.addEventListener=function(){},gn(this,r,a),this.addEventListener=o},He.prototype.any=function(r,a){var o=this.addEventListener;this.addEventListener=function(){},Xt(this,r,a),this.addEventListener=o},He.prototype.dispatchEvent=He.prototype.trigger=function(r){var a=r.type||r;"string"==typeof r&&(r={type:a}),r=Pe(r),this.allowedEvents_[a]&&this["on"+a]&&this["on"+a](r),Vt(this,r)},He.prototype.queueTrigger=function(r){var a=this;en||(en=new Map);var o=r.type||r,i=en.get(this);i||(i=new Map,en.set(this,i));var e=i.get(o);i.delete(o),C.default.clearTimeout(e);var t=C.default.setTimeout(function(){0===i.size&&(i=null,en.delete(a)),a.trigger(r)},0);i.set(o,t)};var bn=function(a){return"function"==typeof a.name?a.name():"string"==typeof a.name?a.name:a.name_?a.name_:a.constructor&&a.constructor.name?a.constructor.name:typeof a},pt=function(a){return a instanceof He||!!a.eventBusEl_&&["on","one","off","trigger"].every(function(o){return"function"==typeof a[o]})},Yn=function(a){return"string"==typeof a&&/\S/.test(a)||Array.isArray(a)&&!!a.length},Tn=function(a,o,i){if(!a||!a.nodeName&&!pt(a))throw new Error("Invalid target for "+bn(o)+"#"+i+"; must be a DOM node or evented object.")},Wi=function(a,o,i){if(!Yn(a))throw new Error("Invalid event type for "+bn(o)+"#"+i+"; must be a non-empty string or array.")},Yi=function(a,o,i){if("function"!=typeof a)throw new Error("Invalid listener for "+bn(o)+"#"+i+"; must be a function.")},Kn=function(a,o,i){var t,l,_,e=o.length<3||o[0]===a||o[0]===a.eventBusEl_;return e?(t=a.eventBusEl_,o.length>=3&&o.shift(),l=o[0],_=o[1]):(t=o[0],l=o[1],_=o[2]),Tn(t,a,i),Wi(l,a,i),Yi(_,a,i),{isTargetingSelf:e,target:t,type:l,listener:_=Ae(a,_)}},Mt=function(a,o,i,e){Tn(a,a,o),a.nodeName?yn[o](a,i,e):a[o](i,e)},es={on:function(){for(var a=this,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];var t=Kn(this,i,"on"),l=t.isTargetingSelf,_=t.target,f=t.type,v=t.listener;if(Mt(_,"on",f,v),!l){var g=function(){return a.off(_,f,v)};g.guid=v.guid;var S=function(){return a.off("dispose",g)};S.guid=v.guid,Mt(this,"on","dispose",g),Mt(_,"on","dispose",S)}},one:function(){for(var a=this,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];var t=Kn(this,i,"one"),l=t.isTargetingSelf,_=t.target,f=t.type,v=t.listener;if(l)Mt(_,"one",f,v);else{var g=function S(){a.off(_,f,S);for(var m=arguments.length,D=new Array(m),K=0;K<m;K++)D[K]=arguments[K];v.apply(null,D)};g.guid=v.guid,Mt(_,"one",f,g)}},any:function(){for(var a=this,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];var t=Kn(this,i,"any"),l=t.isTargetingSelf,_=t.target,f=t.type,v=t.listener;if(l)Mt(_,"any",f,v);else{var g=function S(){a.off(_,f,S);for(var m=arguments.length,D=new Array(m),K=0;K<m;K++)D[K]=arguments[K];v.apply(null,D)};g.guid=v.guid,Mt(_,"any",f,g)}},off:function(a,o,i){if(!a||Yn(a))ze(this.eventBusEl_,a,o);else{var e=a,t=o;Tn(e,this,"off"),Wi(t,this,"off"),Yi(i,this,"off"),i=Ae(this,i),this.off("dispose",i),e.nodeName?(ze(e,t,i),ze(e,"dispose",i)):pt(e)&&(e.off(t,i),e.off("dispose",i))}},trigger:function(a,o){if(Tn(this.eventBusEl_,this,"trigger"),!Yn(a&&"string"!=typeof a?a.type:a)){var e="Invalid event type for "+bn(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!a)throw new Error(e);(this.log||R).error(e)}return Vt(this.eventBusEl_,a,o)}};function Gn(r,a){void 0===a&&(a={});var i=a.eventBusKey;if(i){if(!r[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');r.eventBusEl_=r[i]}else r.eventBusEl_=Ie("span",{className:"vjs-event-bus"});return ie(r,es),r.eventedCallbacks&&r.eventedCallbacks.forEach(function(e){e()}),r.on("dispose",function(){r.off(),C.default.setTimeout(function(){r.eventBusEl_=null},0)}),r}var ts={state:{},setState:function(a){var i,o=this;return"function"==typeof a&&(a=a()),ce(a,function(e,t){o.state[t]!==e&&((i=i||{})[t]={from:o.state[t],to:e}),o.state[t]=e}),i&&pt(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function Ki(r,a){return ie(r,ts),r.state=ie({},r.state,a),"function"==typeof r.handleStateChanged&&pt(r)&&r.on("statechanged",r.handleStateChanged),r}var En=function(a){return"string"!=typeof a?a:a.replace(/./,function(o){return o.toLowerCase()})},De=function(a){return"string"!=typeof a?a:a.replace(/./,function(o){return o.toUpperCase()})};function ke(){for(var r={},a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return o.forEach(function(e){!e||ce(e,function(t,l){Te(t)?(Te(r[l])||(r[l]={}),r[l]=ke(r[l],t)):r[l]=t})}),r}var os=C.default.Map?C.default.Map:function(){function r(){this.map_={}}var a=r.prototype;return a.has=function(i){return i in this.map_},a.delete=function(i){var e=this.has(i);return delete this.map_[i],e},a.set=function(i,e){return this.map_[i]=e,this},a.forEach=function(i,e){for(var t in this.map_)i.call(e,this.map_[t],t,this)},r}(),qn=C.default.Set?C.default.Set:function(){function r(){this.set_={}}var a=r.prototype;return a.has=function(i){return i in this.set_},a.delete=function(i){var e=this.has(i);return delete this.set_[i],e},a.add=function(i){return this.set_[i]=1,this},a.forEach=function(i,e){for(var t in this.set_)i.call(e,t,t,this)},r}(),w=function(){function r(o,i,e){if(this.player_=!o&&this.play?o=this:o,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ke({},this.options_),i=this.options_=ke(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var t=o&&o.id&&o.id()||"no_player";this.id_=t+"_component_"+bt()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),!1!==i.evented&&(Gn(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Ki(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new qn,this.setIntervalIds_=new qn,this.rafIds_=new qn,this.namedRafs_=new os,this.clearingTimersOnDispose_=!1,!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}var a=r.prototype;return a.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),We.has(this.el_)&&We.delete(this.el_),this.el_=null),this.player_=null}},a.isDisposed=function(){return Boolean(this.isDisposed_)},a.player=function(){return this.player_},a.options=function(i){return i?(this.options_=ke(this.options_,i),this.options_):this.options_},a.el=function(){return this.el_},a.createEl=function(i,e,t){return Ie(i,e,t)},a.localize=function(i,e,t){void 0===t&&(t=i);var l=this.player_.language&&this.player_.language(),_=this.player_.languages&&this.player_.languages(),f=_&&_[l],v=l&&l.split("-")[0],g=_&&_[v],S=t;return f&&f[i]?S=f[i]:g&&g[i]&&(S=g[i]),e&&(S=S.replace(/\{(\d+)\}/g,function(m,D){var K=e[D-1],ge=K;return void 0===K&&(ge=m),ge})),S},a.handleLanguagechange=function(){},a.contentEl=function(){return this.contentEl_||this.el_},a.id=function(){return this.id_},a.name=function(){return this.name_},a.children=function(){return this.children_},a.getChildById=function(i){return this.childIndex_[i]},a.getChild=function(i){if(i)return this.childNameIndex_[i]},a.getDescendant=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e=e.reduce(function(f,v){return f.concat(v)},[]);for(var l=this,_=0;_<e.length;_++)if(!(l=l.getChild(e[_]))||!l.getChild)return;return l},a.addChild=function(i,e,t){var l,_;if(void 0===e&&(e={}),void 0===t&&(t=this.children_.length),"string"==typeof i){_=De(i);var f=e.componentClass||_;e.name=_;var v=r.getComponent(f);if(!v)throw new Error("Component "+f+" does not exist");if("function"!=typeof v)return null;l=new v(this.player_||this,e)}else l=i;if(l.parentComponent_&&l.parentComponent_.removeChild(l),this.children_.splice(t,0,l),l.parentComponent_=this,"function"==typeof l.id&&(this.childIndex_[l.id()]=l),(_=_||l.name&&De(l.name()))&&(this.childNameIndex_[_]=l,this.childNameIndex_[En(_)]=l),"function"==typeof l.el&&l.el()){var g=null;this.children_[t+1]&&(this.children_[t+1].el_?g=this.children_[t+1].el_:jt(this.children_[t+1])&&(g=this.children_[t+1])),this.contentEl().insertBefore(l.el(),g)}return l},a.removeChild=function(i){if("string"==typeof i&&(i=this.getChild(i)),i&&this.children_){for(var e=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===i){e=!0,this.children_.splice(t,1);break}if(e){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[De(i.name())]=null,this.childNameIndex_[En(i.name())]=null;var l=i.el();l&&l.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},a.initChildren=function(){var i=this,e=this.options_.children;if(e){var _,t=this.options_,f=r.getComponent("Tech");(_=Array.isArray(e)?e:Object.keys(e)).concat(Object.keys(this.options_).filter(function(v){return!_.some(function(g){return"string"==typeof g?v===g:v===g.name})})).map(function(v){var g,S;return"string"==typeof v?S=e[g=v]||i.options_[g]||{}:(g=v.name,S=v),{name:g,opts:S}}).filter(function(v){var g=r.getComponent(v.opts.componentClass||De(v.name));return g&&!f.isTech(g)}).forEach(function(g){var S=g.name,m=g.opts;if(void 0!==t[S]&&(m=t[S]),!1!==m){!0===m&&(m={}),m.playerOptions=i.options_.playerOptions;var D=i.addChild(S,m);D&&(i[S]=D)}})}},a.buildCSSClass=function(){return""},a.ready=function(i,e){if(void 0===e&&(e=!1),i){if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(i);e?i.call(this):this.setTimeout(i,1)}},a.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},a.$=function(i,e){return ht(i,e||this.contentEl())},a.$$=function(i,e){return Bi(i,e||this.contentEl())},a.hasClass=function(i){return At(this.el_,i)},a.addClass=function(i){ut(this.el_,i)},a.removeClass=function(i){qt(this.el_,i)},a.toggleClass=function(i,e){Un(this.el_,i,e)},a.show=function(){this.removeClass("vjs-hidden")},a.hide=function(){this.addClass("vjs-hidden")},a.lockShowing=function(){this.addClass("vjs-lock-showing")},a.unlockShowing=function(){this.removeClass("vjs-lock-showing")},a.getAttribute=function(i){return Di(this.el_,i)},a.setAttribute=function(i,e){Jt(this.el_,i,e)},a.removeAttribute=function(i){pn(this.el_,i)},a.width=function(i,e){return this.dimension("width",i,e)},a.height=function(i,e){return this.dimension("height",i,e)},a.dimensions=function(i,e){this.width(i,!0),this.height(e)},a.dimension=function(i,e,t){if(void 0!==e)return(null===e||e!=e)&&(e=0),this.el_.style[i]=-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",void(t||this.trigger("componentresize"));if(!this.el_)return 0;var l=this.el_.style[i],_=l.indexOf("px");return parseInt(-1!==_?l.slice(0,_):this.el_["offset"+De(i)],10)},a.currentDimension=function(i){var e=0;if("width"!==i&&"height"!==i)throw new Error("currentDimension only accepts width or height value");if(e=Fe(this.el_,i),0===(e=parseFloat(e))||isNaN(e)){var t="offset"+De(i);e=this.el_[t]}return e},a.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},a.currentWidth=function(){return this.currentDimension("width")},a.currentHeight=function(){return this.currentDimension("height")},a.focus=function(){this.el_.focus()},a.blur=function(){this.el_.blur()},a.handleKeyDown=function(i){this.player_&&(i.stopPropagation(),this.player_.handleKeyDown(i))},a.handleKeyPress=function(i){this.handleKeyDown(i)},a.emitTapEvents=function(){var _,i=0,e=null;this.on("touchstart",function(v){1===v.touches.length&&(e={pageX:v.touches[0].pageX,pageY:v.touches[0].pageY},i=C.default.performance.now(),_=!0)}),this.on("touchmove",function(v){if(v.touches.length>1)_=!1;else if(e){var g=v.touches[0].pageX-e.pageX,S=v.touches[0].pageY-e.pageY;Math.sqrt(g*g+S*S)>10&&(_=!1)}});var f=function(){_=!1};this.on("touchleave",f),this.on("touchcancel",f),this.on("touchend",function(v){e=null,!0===_&&C.default.performance.now()-i<200&&(v.preventDefault(),this.trigger("tap"))})},a.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,i=Ae(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){i(),this.clearInterval(e),e=this.setInterval(i,250)});var t=function(_){i(),this.clearInterval(e)};this.on("touchmove",i),this.on("touchend",t),this.on("touchcancel",t)}},a.setTimeout=function(i,e){var l,t=this;return i=Ae(this,i),this.clearTimersOnDispose_(),l=C.default.setTimeout(function(){t.setTimeoutIds_.has(l)&&t.setTimeoutIds_.delete(l),i()},e),this.setTimeoutIds_.add(l),l},a.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),C.default.clearTimeout(i)),i},a.setInterval=function(i,e){i=Ae(this,i),this.clearTimersOnDispose_();var t=C.default.setInterval(i,e);return this.setIntervalIds_.add(t),t},a.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),C.default.clearInterval(i)),i},a.requestAnimationFrame=function(i){var t,e=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),i=Ae(this,i),t=C.default.requestAnimationFrame(function(){e.rafIds_.has(t)&&e.rafIds_.delete(t),i()}),this.rafIds_.add(t),t):this.setTimeout(i,1e3/60)},a.requestNamedAnimationFrame=function(i,e){var t=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),e=Ae(this,e);var l=this.requestAnimationFrame(function(){e(),t.namedRafs_.has(i)&&t.namedRafs_.delete(i)});return this.namedRafs_.set(i,l),i}},a.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},a.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),C.default.cancelAnimationFrame(i)),i):this.clearTimeout(i)},a.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var l=e[1];i[e[0]].forEach(function(_,f){return i[l](f)})}),i.clearingTimersOnDispose_=!1}))},r.registerComponent=function(i,e){if("string"!=typeof i||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var t=r.getComponent("Tech"),l=t&&t.isTech(e),_=r===e||r.prototype.isPrototypeOf(e.prototype);if(l||!_)throw new Error('Illegal component, "'+i+'"; '+(l?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");i=De(i),r.components_||(r.components_={});var v=r.getComponent("Player");if("Player"===i&&v&&v.players){var g=v.players,S=Object.keys(g);if(g&&S.length>0&&S.map(function(m){return g[m]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return r.components_[i]=e,r.components_[En(i)]=e,e},r.getComponent=function(i){if(i&&r.components_)return r.components_[i]},r}();function Lt(r,a,o,i){return function(r,a,o){if("number"!=typeof a||a<0||a>o)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+a+") is non-numeric or out of bounds (0-"+o+").")}(r,i,o.length-1),o[i][a]}function tn(r){return void 0===r||0===r.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:r.length,start:Lt.bind(null,"start",0,r),end:Lt.bind(null,"end",1,r)}}function ft(r,a){return Array.isArray(r)?tn(r):void 0===r||void 0===a?tn():tn([[r,a]])}function Jn(r,a){var i,e,o=0;if(!a)return 0;(!r||!r.length)&&(r=ft(0,0));for(var t=0;t<r.length;t++)i=r.start(t),(e=r.end(t))>a&&(e=a),o+=e-i;return o/a}function Ye(r){if(r instanceof Ye)return r;"number"==typeof r?this.code=r:"string"==typeof r?this.message=r:Ce(r)&&("number"==typeof r.code&&(this.code=r.code),ie(this,r)),this.message||(this.message=Ye.defaultMessages[this.code]||"")}w.prototype.supportsRaf_="function"==typeof C.default.requestAnimationFrame&&"function"==typeof C.default.cancelAnimationFrame,w.registerComponent("Component",w),Ye.prototype.code=0,Ye.prototype.message="",Ye.prototype.status=null,Ye.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ye.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ht=0;Ht<Ye.errorTypes.length;Ht++)Ye[Ye.errorTypes[Ht]]=Ht,Ye.prototype[Ye.errorTypes[Ht]]=Ht;function nn(r){return null!=r&&"function"==typeof r.then}function at(r){nn(r)&&r.then(null,function(a){})}var Qn=function(a){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,e,t){return a[e]&&(i[e]=a[e]),i},{cues:a.cues&&Array.prototype.map.call(a.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},Xn="vjs-modal-dialog",Bt=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).handleKeyDown_=function(l){return t.handleKeyDown(l)},t.close_=function(l){return t.close(l)},t.opened_=t.hasBeenOpened_=t.hasBeenFilled_=!1,t.closeable(!t.options_.uncloseable),t.content(t.options_.content),t.contentEl_=Ie("div",{className:Xn+"-content"},{role:"document"}),t.descEl_=Ie("p",{className:Xn+"-description vjs-control-text",id:t.el().getAttribute("aria-describedby")}),xt(t.descEl_,t.description()),t.el_.appendChild(t.descEl_),t.el_.appendChild(t.contentEl_),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},o.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,r.prototype.dispose.call(this)},o.buildCSSClass=function(){return Xn+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},o.label=function(){return this.localize(this.options_.label||"Modal Window")},o.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},o.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},o.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},o.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},o.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,l=this.getChild("closeButton");if(t&&!l){var _=this.contentEl_;this.contentEl_=this.el_,l=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=_,this.on(l,"close",this.close_)}!t&&l&&(this.off(l,"close",this.close_),this.removeChild(l),l.dispose())}return this.closeable_},o.fill=function(){this.fillWith(this.content())},o.fillWith=function(e){var t=this.contentEl(),l=t.parentNode,_=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,l.removeChild(t),this.empty(),Hi(t,e),this.trigger("modalfill"),_?l.insertBefore(t,_):l.appendChild(t);var f=this.getChild("closeButton");f&&l.appendChild(f.el_)},o.empty=function(){this.trigger("beforemodalempty"),zn(this.contentEl()),this.trigger("modalempty")},o.content=function(e){return void 0!==e&&(this.content_=e),this.content_},o.conditionalFocus_=function(){var e=n.default.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},o.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},o.handleKeyDown=function(e){if(e.stopPropagation(),x.default.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(x.default.isEventKey(e,"Tab")){for(var _,t=this.focusableEls_(),l=this.el_.querySelector(":focus"),f=0;f<t.length;f++)if(l===t[f]){_=f;break}n.default.activeElement===this.el_&&(_=0),e.shiftKey&&0===_?(t[t.length-1].focus(),e.preventDefault()):!e.shiftKey&&_===t.length-1&&(t[0].focus(),e.preventDefault())}},o.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(t){return(t instanceof C.default.HTMLAnchorElement||t instanceof C.default.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof C.default.HTMLInputElement||t instanceof C.default.HTMLSelectElement||t instanceof C.default.HTMLTextAreaElement||t instanceof C.default.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof C.default.HTMLIFrameElement||t instanceof C.default.HTMLObjectElement||t instanceof C.default.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},a}(w);Bt.prototype.options_={pauseOnOpen:!0,temporary:!0},w.registerComponent("ModalDialog",Bt);var Ut=function(r){function a(i){var e;void 0===i&&(i=[]),(e=r.call(this)||this).tracks_=[],Object.defineProperty(A.default(e),"length",{get:function(){return this.tracks_.length}});for(var t=0;t<i.length;t++)e.addTrack(i[t]);return e}j.default(a,r);var o=a.prototype;return o.addTrack=function(e){var t=this,l=this.tracks_.length;""+l in this||Object.defineProperty(this,l,{get:function(){return this.tracks_[l]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},pt(e)&&e.addEventListener("labelchange",e.labelchange_)},o.removeTrack=function(e){for(var t,l=0,_=this.length;l<_;l++)if(this[l]===e){(t=this[l]).off&&t.off(),this.tracks_.splice(l,1);break}!t||this.trigger({track:t,type:"removetrack",target:this})},o.getTrackById=function(e){for(var t=null,l=0,_=this.length;l<_;l++){var f=this[l];if(f.id===e){t=f;break}}return t},a}(He);for(var ls in Ut.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Ut.prototype.allowedEvents_)Ut.prototype["on"+ls]=null;var ei=function(a,o){for(var i=0;i<a.length;i++)!Object.keys(a[i]).length||o.id===a[i].id||(a[i].enabled=!1)},cs=function(r){function a(i){var e;void 0===i&&(i=[]);for(var t=i.length-1;t>=0;t--)if(i[t].enabled){ei(i,i[t]);break}return(e=r.call(this,i)||this).changing_=!1,e}j.default(a,r);var o=a.prototype;return o.addTrack=function(e){var t=this;e.enabled&&ei(this,e),r.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,ei(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},o.removeTrack=function(e){r.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},a}(Ut),ti=function(a,o){for(var i=0;i<a.length;i++)!Object.keys(a[i]).length||o.id===a[i].id||(a[i].selected=!1)},qi=function(r){function a(i){var e;void 0===i&&(i=[]);for(var t=i.length-1;t>=0;t--)if(i[t].selected){ti(i,i[t]);break}return(e=r.call(this,i)||this).changing_=!1,Object.defineProperty(A.default(e),"selectedIndex",{get:function(){for(var _=0;_<this.length;_++)if(this[_].selected)return _;return-1},set:function(){}}),e}j.default(a,r);var o=a.prototype;return o.addTrack=function(e){var t=this;e.selected&&ti(this,e),r.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,ti(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},o.removeTrack=function(e){r.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},a}(Ut),Xe=function(r){function a(){return r.apply(this,arguments)||this}j.default(a,r);var o=a.prototype;return o.addTrack=function(e){var t=this;r.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},o.removeTrack=function(e){r.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},a}(Ut),zs=function(){function r(o){void 0===o&&(o=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,e=o.length;i<e;i++)this.addTrackElement_(o[i])}var a=r.prototype;return a.addTrackElement_=function(i){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(i)&&this.trackElements_.push(i)},a.getTrackElementByTrack_=function(i){for(var e,t=0,l=this.trackElements_.length;t<l;t++)if(i===this.trackElements_[t].track){e=this.trackElements_[t];break}return e},a.removeTrackElement_=function(i){for(var e=0,t=this.trackElements_.length;e<t;e++)if(i===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},r}(),Ji=function(){function r(o){r.prototype.setCues_.call(this,o),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var a=r.prototype;return a.setCues_=function(i){var e=this.length||0,t=0,l=i.length;this.cues_=i,this.length_=i.length;var _=function(v){""+v in this||Object.defineProperty(this,""+v,{get:function(){return this.cues_[v]}})};if(e<l)for(t=e;t<l;t++)_.call(this,t)},a.getCueById=function(i){for(var e=null,t=0,l=this.length;t<l;t++){var _=this[t];if(_.id===i){e=_;break}}return e},r}(),vt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},us={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},P={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ni={disabled:"disabled",hidden:"hidden",showing:"showing"},ii=function(r){function a(o){var i;void 0===o&&(o={}),i=r.call(this)||this;var e={id:o.id||"vjs_track_"+bt(),kind:o.kind||"",language:o.language||""},t=o.label||"",l=function(v){Object.defineProperty(A.default(i),v,{get:function(){return e[v]},set:function(){}})};for(var _ in e)l(_);return Object.defineProperty(A.default(i),"label",{get:function(){return t},set:function(v){v!==t&&(t=v,this.trigger("labelchange"))}}),i}return j.default(a,r),a}(He),Sn=function(a){var o=["protocol","hostname","port","pathname","search","hash","host"],i=n.default.createElement("a");i.href=a;for(var e={},t=0;t<o.length;t++)e[o[t]]=i[o[t]];return"http:"===e.protocol&&(e.host=e.host.replace(/:80$/,"")),"https:"===e.protocol&&(e.host=e.host.replace(/:443$/,"")),e.protocol||(e.protocol=C.default.location.protocol),e.host||(e.host=C.default.location.host),e},Qi=function(a){if(!a.match(/^https?:\/\//)){var o=n.default.createElement("a");o.href=a,a=o.href}return a},jn=function(a){if("string"==typeof a){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(a);if(i)return i.pop().toLowerCase()}return""},xn=function(a,o){void 0===o&&(o=C.default.location);var i=Sn(a);return(":"===i.protocol?o.protocol:i.protocol)+i.host!==o.protocol+o.host},Xi=Object.freeze({__proto__:null,parseUrl:Sn,getAbsoluteURL:Qi,getFileExtension:jn,isCrossOrigin:xn}),eo=function(a,o){var i=new C.default.WebVTT.Parser(C.default,C.default.vttjs,C.default.WebVTT.StringDecoder()),e=[];i.oncue=function(t){o.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){o.trigger({type:"loadeddata",target:o})},i.parse(a),e.length>0&&(C.default.console&&C.default.console.groupCollapsed&&C.default.console.groupCollapsed("Text Track parsing errors for "+o.src),e.forEach(function(t){return R.error(t)}),C.default.console&&C.default.console.groupEnd&&C.default.console.groupEnd()),i.flush()},to=function(a,o){var i={uri:a},e=xn(a);e&&(i.cors=e);var t="use-credentials"===o.tech_.crossOrigin();t&&(i.withCredentials=t),W.default(i,Ae(this,function(l,_,f){if(l)return R.error(l,_);o.loaded_=!0,"function"!=typeof C.default.WebVTT?o.tech_&&o.tech_.any(["vttjsloaded","vttjserror"],function(v){if("vttjserror"!==v.type)return eo(f,o);R.error("vttjs failed to load, stopping trying to process "+o.src)}):eo(f,o)}))},Ft=function(r){function a(i){var e;if(void 0===i&&(i={}),!i.tech)throw new Error("A tech was not provided.");var t=ke(i,{kind:P[i.kind]||"subtitles",language:i.language||i.srclang||""}),l=ni[t.mode]||"disabled",_=t.default;("metadata"===t.kind||"chapters"===t.kind)&&(l="hidden"),(e=r.call(this,t)||this).tech_=t.tech,e.cues_=[],e.activeCues_=[],e.preload_=!1!==e.tech_.preloadTextTracks;var f=new Ji(e.cues_),v=new Ji(e.activeCues_),g=!1,S=Ae(A.default(e),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,g&&(this.trigger("cuechange"),g=!1))});return e.tech_.one("dispose",function(){e.tech_.off("timeupdate",S)}),"disabled"!==l&&e.tech_.on("timeupdate",S),Object.defineProperties(A.default(e),{default:{get:function(){return _},set:function(){}},mode:{get:function(){return l},set:function(K){!ni[K]||l!==K&&(l=K,!this.preload_&&"disabled"!==l&&0===this.cues.length&&to(this.src,this),this.tech_.off("timeupdate",S),"disabled"!==l&&this.tech_.on("timeupdate",S),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?f:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return v;for(var K=this.tech_.currentTime(),ge=[],It=0,Us=this.cues.length;It<Us;It++){var Gt=this.cues[It];(Gt.startTime<=K&&Gt.endTime>=K||Gt.startTime===Gt.endTime&&Gt.startTime<=K&&Gt.startTime+.5>=K)&&ge.push(Gt)}if(g=!1,ge.length!==this.activeCues_.length)g=!0;else for(var Fs=0;Fs<ge.length;Fs++)-1===this.activeCues_.indexOf(ge[Fs])&&(g=!0);return this.activeCues_=ge,v.setCues_(this.activeCues_),v},set:function(){}}}),t.src?(e.src=t.src,e.preload_||(e.loaded_=!0),(e.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&to(e.src,A.default(e))):e.loaded_=!0,e}j.default(a,r);var o=a.prototype;return o.addCue=function(e){var t=e;if(C.default.vttjs&&!(e instanceof C.default.vttjs.VTTCue)){for(var l in t=new C.default.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)l in t||(t[l]=e[l]);t.id=e.id,t.originalCue_=e}for(var _=this.tech_.textTracks(),f=0;f<_.length;f++)_[f]!==this&&_[f].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},o.removeCue=function(e){for(var t=this.cues_.length;t--;){var l=this.cues_[t];if(l===e||l.originalCue_&&l.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},a}(ii);Ft.prototype.allowedEvents_={cuechange:"cuechange"};var ds=function(r){function a(o){var i;void 0===o&&(o={});var e=ke(o,{kind:us[o.kind]||""});i=r.call(this,e)||this;var t=!1;return Object.defineProperty(A.default(i),"enabled",{get:function(){return t},set:function(_){"boolean"!=typeof _||_===t||(t=_,this.trigger("enabledchange"))}}),e.enabled&&(i.enabled=e.enabled),i.loaded_=!0,i}return j.default(a,r),a}(ii),no=function(r){function a(o){var i;void 0===o&&(o={});var e=ke(o,{kind:vt[o.kind]||""});i=r.call(this,e)||this;var t=!1;return Object.defineProperty(A.default(i),"selected",{get:function(){return t},set:function(_){"boolean"!=typeof _||_===t||(t=_,this.trigger("selectedchange"))}}),e.selected&&(i.selected=e.selected),i}return j.default(a,r),a}(ii),zt=function(r){function a(o){var i;void 0===o&&(o={}),i=r.call(this)||this;var e,t=new Ft(o);return i.kind=t.kind,i.src=t.src,i.srclang=t.language,i.label=t.label,i.default=t.default,Object.defineProperties(A.default(i),{readyState:{get:function(){return e}},track:{get:function(){return t}}}),e=0,t.addEventListener("loadeddata",function(){e=2,i.trigger({type:"load",target:A.default(i)})}),i}return j.default(a,r),a}(He);zt.prototype.allowedEvents_={load:"load"},zt.NONE=0,zt.LOADING=1,zt.LOADED=2,zt.ERROR=3;var tt={audio:{ListClass:cs,TrackClass:ds,capitalName:"Audio"},video:{ListClass:qi,TrackClass:no,capitalName:"Video"},text:{ListClass:Xe,TrackClass:Ft,capitalName:"Text"}};Object.keys(tt).forEach(function(r){tt[r].getterName=r+"Tracks",tt[r].privateName=r+"Tracks_"});var $t={remoteText:{ListClass:Xe,TrackClass:Ft,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:zs,TrackClass:zt,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ke=L.default({},tt,$t);$t.names=Object.keys($t),tt.names=Object.keys(tt),Ke.names=[].concat($t.names).concat(tt.names);var Oe=function(r){function a(i,e){var t;return void 0===i&&(i={}),void 0===e&&(e=function(){}),i.reportTouchActivity=!1,(t=r.call(this,null,i,e)||this).onDurationChange_=function(l){return t.onDurationChange(l)},t.trackProgress_=function(l){return t.trackProgress(l)},t.trackCurrentTime_=function(l){return t.trackCurrentTime(l)},t.stopTrackingCurrentTime_=function(l){return t.stopTrackingCurrentTime(l)},t.disposeSourceHandler_=function(l){return t.disposeSourceHandler(l)},t.hasStarted_=!1,t.on("playing",function(){this.hasStarted_=!0}),t.on("loadstart",function(){this.hasStarted_=!1}),Ke.names.forEach(function(l){var _=Ke[l];i&&i[_.getterName]&&(t[_.privateName]=i[_.getterName])}),t.featuresProgressEvents||t.manualProgressOn(),t.featuresTimeupdateEvents||t.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(l){!1===i["native"+l+"Tracks"]&&(t["featuresNative"+l+"Tracks"]=!1)}),!1===i.nativeCaptions||!1===i.nativeTextTracks?t.featuresNativeTextTracks=!1:(!0===i.nativeCaptions||!0===i.nativeTextTracks)&&(t.featuresNativeTextTracks=!0),t.featuresNativeTextTracks||t.emulateTextTracks(),t.preloadTextTracks=!1!==i.preloadTextTracks,t.autoRemoteTextTracks_=new Ke.text.ListClass,t.initTrackListeners(),i.nativeControlsForTouch||t.emitTapEvents(),t.constructor&&(t.name_=t.constructor.name||"Unknown Tech"),t}j.default(a,r);var o=a.prototype;return o.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},o.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ae(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},o.onDurationChange=function(e){this.duration_=this.duration()},o.buffered=function(){return ft(0,0)},o.bufferedPercent=function(){return Jn(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(tt.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),r.prototype.dispose.call(this)},o.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(l){for(var _=t[l+"Tracks"]()||[],f=_.length;f--;){var v=_[f];"text"===l&&t.removeRemoteTextTrack(v),_.removeTrack(v)}})},o.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;)this.removeRemoteTextTrack(e[t])},o.reset=function(){},o.crossOrigin=function(){},o.setCrossOrigin=function(){},o.error=function(e){return void 0!==e&&(this.error_=new Ye(e),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?ft(0,0):ft()},o.play=function(){},o.setScrubbing=function(){},o.scrubbing=function(){},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var e=this;tt.names.forEach(function(t){var _=function(){e.trigger(t+"trackchange")},f=e[tt[t].getterName]();f.addEventListener("removetrack",_),f.addEventListener("addtrack",_),e.on("dispose",function(){f.removeEventListener("removetrack",_),f.removeEventListener("addtrack",_)})})},o.addWebVttScript_=function(){var e=this;if(!C.default.WebVTT)if(n.default.body.contains(this.el())){if(!this.options_["vtt.js"]&&Te(fe.default)&&Object.keys(fe.default).length>0)return void this.trigger("vttjsloaded");var t=n.default.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),C.default.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var e=this,t=this.textTracks(),l=this.remoteTextTracks(),_=function(m){return t.addTrack(m.track)},f=function(m){return t.removeTrack(m.track)};l.on("addtrack",_),l.on("removetrack",f),this.addWebVttScript_();var v=function(){return e.trigger("texttrackchange")},g=function(){v();for(var m=0;m<t.length;m++){var D=t[m];D.removeEventListener("cuechange",v),"showing"===D.mode&&D.addEventListener("cuechange",v)}};g(),t.addEventListener("change",g),t.addEventListener("addtrack",g),t.addEventListener("removetrack",g),this.on("dispose",function(){l.off("addtrack",_),l.off("removetrack",f),t.removeEventListener("change",g),t.removeEventListener("addtrack",g),t.removeEventListener("removetrack",g);for(var S=0;S<t.length;S++)t[S].removeEventListener("cuechange",v)})},o.addTextTrack=function(e,t,l){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(r,a,o,i,e){void 0===e&&(e={});var t=r.textTracks();e.kind=a,o&&(e.label=o),i&&(e.language=i),e.tech=r;var l=new Ke.text.TrackClass(e);return t.addTrack(l),l}(this,e,t,l)},o.createRemoteTextTrack=function(e){var t=ke(e,{tech:this});return new $t.remoteTextEl.TrackClass(t)},o.addRemoteTextTrack=function(e,t){var l=this;void 0===e&&(e={});var _=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(R.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(_),this.remoteTextTracks().addTrack(_.track),!0!==t&&this.ready(function(){return l.autoRemoteTextTracks_.addTrack(_.track)}),_},o.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},o.getVideoPlaybackQuality=function(){return{}},o.requestPictureInPicture=function(){var e=this.options_.Promise||C.default.Promise;if(e)return e.reject()},o.disablePictureInPicture=function(){return!0},o.setDisablePictureInPicture=function(){},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},a.canPlayType=function(){return""},a.canPlaySource=function(e,t){return a.canPlayType(e.type)},a.isTech=function(e){return e.prototype instanceof a||e instanceof a||e===a},a.registerTech=function(e,t){if(a.techs_||(a.techs_={}),!a.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!a.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!a.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=De(e),a.techs_[e]=t,a.techs_[En(e)]=t,"Tech"!==e&&a.defaultTechOrder_.push(e),t},a.getTech=function(e){if(e){if(a.techs_&&a.techs_[e])return a.techs_[e];if(e=De(e),C.default&&C.default.videojs&&C.default.videojs[e])return R.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),C.default.videojs[e]}},a}(w);Ke.names.forEach(function(r){var a=Ke[r];Oe.prototype[a.getterName]=function(){return this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName]}}),Oe.prototype.featuresVolumeControl=!0,Oe.prototype.featuresMuteControl=!0,Oe.prototype.featuresFullscreenResize=!1,Oe.prototype.featuresPlaybackRate=!1,Oe.prototype.featuresProgressEvents=!1,Oe.prototype.featuresSourceset=!1,Oe.prototype.featuresTimeupdateEvents=!1,Oe.prototype.featuresNativeTextTracks=!1,Oe.withSourceHandlers=function(r){r.registerSourceHandler=function(o,i){var e=r.sourceHandlers;e||(e=r.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,o)},r.canPlayType=function(o){for(var e,i=r.sourceHandlers||[],t=0;t<i.length;t++)if(e=i[t].canPlayType(o))return e;return""},r.selectSourceHandler=function(o,i){for(var e=r.sourceHandlers||[],l=0;l<e.length;l++)if(e[l].canHandleSource(o,i))return e[l];return null},r.canPlaySource=function(o,i){var e=r.selectSourceHandler(o,i);return e?e.canHandleSource(o,i):""},["seekable","seeking","duration"].forEach(function(o){var i=this[o];"function"==typeof i&&(this[o]=function(){return this.sourceHandler_&&this.sourceHandler_[o]?this.sourceHandler_[o].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(o){var i=r.selectSourceHandler(o,this.options_);i||(r.nativeSourceHandler?i=r.nativeSourceHandler:R.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==r.nativeSourceHandler&&(this.currentSource_=o),this.sourceHandler_=i.handleSource(o,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},w.registerComponent("Tech",Oe),Oe.registerTech("Tech",Oe),Oe.defaultTechOrder_=[];var kt={},An={},sn={};function fs(r,a,o){r.setTimeout(function(){return Tt(a,kt[a.type],o,r)},1)}function so(r,a,o,i){void 0===i&&(i=null);var e="call"+De(o),t=r.reduce(ri(e),i),l=t===sn,_=l?null:a[o](t);return function(r,a,o,i){for(var e=r.length-1;e>=0;e--){var t=r[e];t[a]&&t[a](i,o)}}(r,o,_,l),_}var si={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},ms={setCurrentTime:1,setMuted:1,setVolume:1},rn={play:1,pause:1};function ri(r){return function(a,o){return a===sn?sn:o[r]?o[r](a):a}}function Tt(r,a,o,i,e,t){void 0===r&&(r={}),void 0===a&&(a=[]),void 0===e&&(e=[]),void 0===t&&(t=!1);var _=a[0],f=a.slice(1);if("string"==typeof _)Tt(r,kt[_],o,i,e,t);else if(_){var v=function(r,a){var o=An[r.id()],i=null;if(null==o)return i=a(r),An[r.id()]=[[a,i]],i;for(var e=0;e<o.length;e++){var t=o[e];t[0]===a&&(i=t[1])}return null===i&&(i=a(r),o.push([a,i])),i}(i,_);if(!v.setSource)return e.push(v),Tt(r,f,o,i,e,t);v.setSource(ie({},r),function(g,S){if(g)return Tt(r,f,o,i,e,t);e.push(v),Tt(S,r.type===S.type?f:kt[S.type],o,i,e,t)})}else f.length?Tt(r,f,o,i,e,t):t?o(r,e):Tt(r,kt["*"],o,i,e,!0)}var Zs={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},On=function(a){void 0===a&&(a="");var o=jn(a);return Zs[o.toLowerCase()]||""},Ts=function r(a){if(Array.isArray(a)){var o=[];a.forEach(function(i){i=r(i),Array.isArray(i)?o=o.concat(i):Ce(i)&&o.push(i)}),a=o}else a="string"==typeof a&&a.trim()?[ao({src:a})]:Ce(a)&&"string"==typeof a.src&&a.src&&a.src.trim()?[ao(a)]:[];return a};function ao(r){if(!r.type){var a=On(r.src);a&&(r.type=a)}return r}var Es=function(r){function a(o,i,e){var t,l=ke({createEl:!1},i);if(t=r.call(this,o,l,e)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)o.src(i.playerOptions.sources);else for(var _=0,f=i.playerOptions.techOrder;_<f.length;_++){var v=De(f[_]),g=Oe.getTech(v);if(v||(g=w.getComponent(v)),g&&g.isSupported()){o.loadTech_(v);break}}return t}return j.default(a,r),a}(w);w.registerComponent("MediaLoader",Es);var Mn=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).handleMouseOver_=function(l){return t.handleMouseOver(l)},t.handleMouseOut_=function(l){return t.handleMouseOut(l)},t.handleClick_=function(l){return t.handleClick(l)},t.handleKeyDown_=function(l){return t.handleKeyDown(l)},t.emitTapEvents(),t.enable(),t}j.default(a,r);var o=a.prototype;return o.createEl=function(e,t,l){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===l&&(l={}),t=ie({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&R.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),l=ie({role:"button"},l),this.tabIndex_=t.tabIndex;var _=r.prototype.createEl.call(this,e,t,l);return this.createControlTextEl(_),_},o.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},o.createControlTextEl=function(e){return this.controlTextEl_=Ie("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},o.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var l=this.localize(e);this.controlText_=e,xt(this.controlTextEl_,l),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&t.setAttribute("title",l)},o.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},o.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},o.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},o.handleLanguagechange=function(){this.controlText(this.controlText_)},o.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},o.handleKeyDown=function(e){x.default.isEventKey(e,"Space")||x.default.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,e)},a}(w);w.registerComponent("ClickableComponent",Mn),w.registerComponent("PosterImage",function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).update(),t.update_=function(l){return t.update(l)},i.on("posterchange",t.update_),t}j.default(a,r);var o=a.prototype;return o.dispose=function(){this.player().off("posterchange",this.update_),r.prototype.dispose.call(this)},o.createEl=function(){return Ie("div",{className:"vjs-poster",tabIndex:-1})},o.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},o.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},o.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((st||we)&&t)&&this.player_.tech(!0).focus(),this.player_.paused()?at(this.player_.play()):this.player_.pause()}},a}(Mn));var nt="#222",Cs={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ai(r,a){var o;if(4===r.length)o=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else{if(7!==r.length)throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");o=r.slice(1)}return"rgba("+parseInt(o.slice(0,2),16)+","+parseInt(o.slice(2,4),16)+","+parseInt(o.slice(4,6),16)+","+a+")"}function li(r,a,o){try{r.style[a]=o}catch(i){return}}w.registerComponent("TextTrackDisplay",function(r){function a(i,e,t){var l;l=r.call(this,i,e,t)||this;var _=function(v){return l.updateDisplay(v)};return i.on("loadstart",function(f){return l.toggleDisplay(f)}),i.on("texttrackchange",_),i.on("loadedmetadata",function(f){return l.preselectTrack(f)}),i.ready(Ae(A.default(l),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",_),i.on("playerresize",_),C.default.addEventListener("orientationchange",_),i.on("dispose",function(){return C.default.removeEventListener("orientationchange",_)});for(var f=this.options_.playerOptions.tracks||[],v=0;v<f.length;v++)this.player_.addRemoteTextTrack(f[v],!0);this.preselectTrack()}})),l}j.default(a,r);var o=a.prototype;return o.preselectTrack=function(){for(var _,f,v,e={captions:1,subtitles:1},t=this.player_.textTracks(),l=this.player_.cache_.selectedLanguage,g=0;g<t.length;g++){var S=t[g];l&&l.enabled&&l.language&&l.language===S.language&&S.kind in e?S.kind===l.kind?v=S:v||(v=S):l&&!l.enabled?(v=null,_=null,f=null):S.default&&("descriptions"!==S.kind||_?S.kind in e&&!f&&(f=S):_=S)}v?v.mode="showing":f?f.mode="showing":_&&(_.mode="showing")},o.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},o.clearDisplay=function(){"function"==typeof C.default.WebVTT&&C.default.WebVTT.processCues(C.default,[],this.el_)},o.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var l=[],_=0;_<e.length;++_){var f=e[_];"showing"===f.mode&&l.push(f)}this.updateForTrack(l)}else{for(var v=null,g=null,S=e.length;S--;){var m=e[S];"showing"===m.mode&&("descriptions"===m.kind?v=m:g=m)}g?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(g)):v&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(v))}},o.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),l=e.activeCues,_=l.length;_--;){var f=l[_];if(f){var v=f.displayState;if(t.color&&(v.firstChild.style.color=t.color),t.textOpacity&&li(v.firstChild,"color",ai(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(v.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&li(v.firstChild,"backgroundColor",ai(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?li(v,"backgroundColor",ai(t.windowColor,t.windowOpacity)):v.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?v.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+nt:"raised"===t.edgeStyle?v.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+nt:"depressed"===t.edgeStyle?v.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+nt:"uniform"===t.edgeStyle&&(v.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+nt)),t.fontPercent&&1!==t.fontPercent){var g=C.default.parseFloat(v.style.fontSize);v.style.fontSize=g*t.fontPercent+"px",v.style.height="auto",v.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?v.firstChild.style.fontVariant="small-caps":v.firstChild.style.fontFamily=Cs[t.fontFamily])}}},o.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof C.default.WebVTT&&!e.every(function(D){return!D.activeCues})){for(var t=[],l=0;l<e.length;++l)for(var _=e[l],f=0;f<_.activeCues.length;++f)t.push(_.activeCues[f]);C.default.WebVTT.processCues(C.default,t,this.el_);for(var v=0;v<e.length;++v){for(var g=e[v],S=0;S<g.activeCues.length;++S){var m=g.activeCues[S].displayState;ut(m,"vjs-text-track-cue"),ut(m,"vjs-text-track-cue-"+(g.language?g.language:v))}this.player_.textTrackSettings&&this.updateDisplayState(g)}}},a}(w)),w.registerComponent("LoadingSpinner",function(r){function a(){return r.apply(this,arguments)||this}return j.default(a,r),a.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),l=Ie("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),_=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return _.appendChild(l),_},a}(w));var lt=function(r){function a(){return r.apply(this,arguments)||this}j.default(a,r);var o=a.prototype;return o.createEl=function(e,t,l){void 0===t&&(t={}),void 0===l&&(l={}),t=ie({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),l=ie({type:"button"},l);var _=w.prototype.createEl.call(this,"button",t,l);return this.createControlTextEl(_),_},o.addChild=function(e,t){return void 0===t&&(t={}),R.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),w.prototype.addChild.call(this,e,t)},o.enable=function(){r.prototype.enable.call(this),this.el_.removeAttribute("disabled")},o.disable=function(){r.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},o.handleKeyDown=function(e){x.default.isEventKey(e,"Space")||x.default.isEventKey(e,"Enter")?e.stopPropagation():r.prototype.handleKeyDown.call(this,e)},a}(Mn);w.registerComponent("Button",lt);var uo=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).mouseused_=!1,t.on("mousedown",function(l){return t.handleMouseDown(l)}),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-big-play-button"},o.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var l=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return at(t),void(this.player_.tech(!0)&&(!st&&!we||!l)&&this.player_.tech(!0).focus())}var _=this.player_.getChild("controlBar"),f=_&&_.getChild("playToggle");if(f){var v=function(){return f.focus()};nn(t)?t.then(v,function(){}):this.setTimeout(v,1)}else this.player_.tech(!0).focus()},o.handleKeyDown=function(e){this.mouseused_=!1,r.prototype.handleKeyDown.call(this,e)},o.handleMouseDown=function(e){this.mouseused_=!0},a}(lt);uo.prototype.controlText_="Play Video",w.registerComponent("BigPlayButton",uo),w.registerComponent("CloseButton",function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).controlText(e&&e.controlText||t.localize("Close")),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},o.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},o.handleKeyDown=function(e){x.default.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,e)},a}(lt));var kn=function(r){function a(i,e){var t;return void 0===e&&(e={}),t=r.call(this,i,e)||this,e.replay=void 0===e.replay||e.replay,t.on(i,"play",function(l){return t.handlePlay(l)}),t.on(i,"pause",function(l){return t.handlePause(l)}),e.replay&&t.on(i,"ended",function(l){return t.handleEnded(l)}),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},o.handleClick=function(e){this.player_.paused()?at(this.player_.play()):this.player_.pause()},o.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},o.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},o.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},o.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(l){return t.handleSeeked(l)})},a}(lt);kn.prototype.controlText_="Play",w.registerComponent("PlayToggle",kn);var _o=function(a,o){a=a<0?0:a;var i=Math.floor(a%60),e=Math.floor(a/60%60),t=Math.floor(a/3600),l=Math.floor(o/60%60),_=Math.floor(o/3600);return(isNaN(a)||a===1/0)&&(t=e=i="-"),(t=t>0||_>0?t+":":"")+(e=((t||l>=10)&&e<10?"0"+e:e)+":")+(i<10?"0"+i:i)},ci=_o;function Zt(r,a){return void 0===a&&(a=r),ci(r,a)}var Wt=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).on(i,["timeupdate","ended"],function(l){return t.updateContent(l)}),t.updateTextNode_(),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){var e=this.buildCSSClass(),t=r.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=Ie("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t},o.dispose=function(){this.contentEl_=null,this.textNode_=null,r.prototype.dispose.call(this)},o.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=Zt(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(t.contentEl_){var l=t.textNode_;l&&t.contentEl_.firstChild!==l&&(l=null,R.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=n.default.createTextNode(t.formattedTime_),t.textNode_&&(l?t.contentEl_.replaceChild(t.textNode_,l):t.contentEl_.appendChild(t.textNode_))}}))},o.updateContent=function(e){},a}(w);Wt.prototype.labelText_="Time",Wt.prototype.controlText_="Time",w.registerComponent("TimeDisplay",Wt);var ui=function(r){function a(){return r.apply(this,arguments)||this}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-current-time"},o.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},a}(Wt);ui.prototype.labelText_="Current Time",ui.prototype.controlText_="Current Time",w.registerComponent("CurrentTimeDisplay",ui);var Pn=function(r){function a(i,e){var t,l=function(f){return t.updateContent(f)};return(t=r.call(this,i,e)||this).on(i,"durationchange",l),t.on(i,"loadstart",l),t.on(i,"loadedmetadata",l),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-duration"},o.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},a}(Wt);Pn.prototype.labelText_="Duration",Pn.prototype.controlText_="Duration",w.registerComponent("DurationDisplay",Pn),w.registerComponent("TimeDivider",function(r){function a(){return r.apply(this,arguments)||this}return j.default(a,r),a.prototype.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},a}(w));var di=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).on(i,"durationchange",function(l){return t.updateContent(l)}),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-remaining-time"},o.createEl=function(){var e=r.prototype.createEl.call(this);return e.insertBefore(Ie("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},o.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},a}(Wt);di.prototype.labelText_="Remaining Time",di.prototype.controlText_="Remaining Time",w.registerComponent("RemainingTimeDisplay",di),w.registerComponent("LiveDisplay",function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).updateShowing(),t.on(t.player(),"durationchange",function(l){return t.updateShowing(l)}),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ie("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},o.dispose=function(){this.contentEl_=null,r.prototype.dispose.call(this)},o.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},a}(w));var fo=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).updateLiveEdgeStatus(),t.player_.liveTracker&&(t.updateLiveEdgeStatusHandler_=function(l){return t.updateLiveEdgeStatus(l)},t.on(t.player_.liveTracker,"liveedgechange",t.updateLiveEdgeStatusHandler_)),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){var e=r.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Ie("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},o.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},o.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},o.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,r.prototype.dispose.call(this)},a}(lt);fo.prototype.controlText_="Seek to live, currently playing live",w.registerComponent("SeekToLive",fo);var an=function(a,o,i){return a=Number(a),Math.min(i,Math.max(o,isNaN(a)?o:a))},hi=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).handleMouseDown_=function(l){return t.handleMouseDown(l)},t.handleMouseUp_=function(l){return t.handleMouseUp(l)},t.handleKeyDown_=function(l){return t.handleKeyDown(l)},t.handleClick_=function(l){return t.handleClick(l)},t.handleMouseMove_=function(l){return t.handleMouseMove(l)},t.update_=function(l){return t.update(l)},t.bar=t.getChild(t.options_.barName),t.vertical(!!t.options_.vertical),t.enable(),t}j.default(a,r);var o=a.prototype;return o.enabled=function(){return this.enabled_},o.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},o.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},o.createEl=function(e,t,l){return void 0===t&&(t={}),void 0===l&&(l={}),t.className=t.className+" vjs-slider",t=ie({tabIndex:0},t),l=ie({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},l),r.prototype.createEl.call(this,e,t,l)},o.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"===e.type&&!Be&&e.preventDefault(),Ni(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e)},o.handleMouseMove=function(e){},o.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Ri(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},o.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",function(){var l=e.vertical()?"height":"width";e.bar.el().style[l]=(100*t).toFixed(2)+"%"})),t}},o.getProgress=function(){return Number(an(this.getPercent(),0,1).toFixed(4))},o.calculateDistance=function(e){var t=fn(this.el_,e);return this.vertical()?t.y:t.x},o.handleKeyDown=function(e){x.default.isEventKey(e,"Left")||x.default.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):x.default.isEventKey(e,"Right")||x.default.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):r.prototype.handleKeyDown.call(this,e)},o.handleClick=function(e){e.stopPropagation(),e.preventDefault()},o.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},a}(w);w.registerComponent("Slider",hi);var _i=function(a,o){return an(a/o*100,0,100).toFixed(2)+"%"};w.registerComponent("LoadProgressBar",function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).partEls_=[],t.on(i,"progress",function(l){return t.update(l)}),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),t=Ie("span",{className:"vjs-control-text"}),l=Ie("span",{textContent:this.localize("Loaded")}),_=n.default.createTextNode(": ");return this.percentageEl_=Ie("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(l),t.appendChild(_),t.appendChild(this.percentageEl_),e},o.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},o.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var l=t.player_.liveTracker,_=t.player_.buffered(),f=l&&l.isLive()?l.seekableEnd():t.player_.duration(),v=t.player_.bufferedEnd(),g=t.partEls_,S=_i(v,f);t.percent_!==S&&(t.el_.style.width=S,xt(t.percentageEl_,S),t.percent_=S);for(var m=0;m<_.length;m++){var D=_.start(m),K=_.end(m),ge=g[m];ge||(ge=t.el_.appendChild(Ie()),g[m]=ge),(ge.dataset.start!==D||ge.dataset.end!==K)&&(ge.dataset.start=D,ge.dataset.end=K,ge.style.left=_i(D,v),ge.style.width=_i(K-D,v))}for(var It=g.length;It>_.length;It--)t.el_.removeChild(g[It-1]);g.length=_.length})},a}(w)),w.registerComponent("TimeTooltip",function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).update=_t(Ae(A.default(t),t.update),30),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},o.update=function(e,t,l){var _=Qt(this.el_),f=Nt(this.player_.el()),v=e.width*t;if(f&&_){var g=e.left-f.left+v,S=e.width-v+(f.right-e.right),m=_.width/2;g<m?m+=m-g:S<m&&(m=S),m<0?m=0:m>_.width&&(m=_.width),m=Math.round(m),this.el_.style.right="-"+m+"px",this.write(l)}},o.write=function(e){xt(this.el_,e)},o.updateTime=function(e,t,l,_){var f=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var v,g=f.player_.duration();if(f.player_.liveTracker&&f.player_.liveTracker.isLive()){var S=f.player_.liveTracker.liveWindow(),m=S-t*S;v=(m<1?"":"-")+Zt(m,S)}else v=Zt(l,g);f.update(e,t,v),_&&_()})},a}(w));var fi=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).update=_t(Ae(A.default(t),t.update),30),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},o.update=function(e,t){var l=this.getChild("timeTooltip");if(l){var _=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();l.updateTime(e,t,_)}},a}(w);fi.prototype.options_={children:[]},!qe&&!de&&fi.prototype.options_.children.push("timeTooltip"),w.registerComponent("PlayProgressBar",fi);var vo=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).update=_t(Ae(A.default(t),t.update),30),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},o.update=function(e,t){var l=this,_=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,_,function(){l.el_.style.left=e.width*t+"px"})},a}(w);vo.prototype.options_={children:["timeTooltip"]},w.registerComponent("MouseTimeDisplay",vo);var In=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).setEventHandlers_(),t}j.default(a,r);var o=a.prototype;return o.setEventHandlers_=function(){var e=this;this.update_=Ae(this,this.update),this.update=_t(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in n.default&&"visibilityState"in n.default&&this.on(n.default,"visibilitychange",this.toggleVisibility_)},o.toggleVisibility_=function(e){"hidden"===n.default.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},o.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},o.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},o.update=function(e){var t=this;if("hidden"!==n.default.visibilityState){var l=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var _=t.player_.ended()?t.player_.duration():t.getCurrentTime_(),f=t.player_.liveTracker,v=t.player_.duration();f&&f.isLive()&&(v=t.player_.liveTracker.liveCurrentTime()),t.percent_!==l&&(t.el_.setAttribute("aria-valuenow",(100*l).toFixed(2)),t.percent_=l),(t.currentTime_!==_||t.duration_!==v)&&(t.el_.setAttribute("aria-valuetext",t.localize("progress bar timing: currentTime={1} duration={2}",[Zt(_,v),Zt(v,v)],"{1} of {2}")),t.currentTime_=_,t.duration_=v),t.bar&&t.bar.update(Nt(t.el()),t.getProgress())}),l}},o.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},o.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},o.getPercent=function(){var t,e=this.getCurrentTime_(),l=this.player_.liveTracker;return l&&l.isLive()?(t=(e-l.seekableStart())/l.liveWindow(),l.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},o.handleMouseDown=function(e){!Ot(e)||(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,e))},o.handleMouseMove=function(e){if(Ot(e)){var t,l=this.calculateDistance(e),_=this.player_.liveTracker;if(_&&_.isLive()){if(l>=.99)return void _.seekToLiveEdge();var f=_.seekableStart(),v=_.liveCurrentTime();if((t=f+l*_.liveWindow())>=v&&(t=v),t<=f&&(t=f+.1),t===1/0)return}else(t=l*this.player_.duration())===this.player_.duration()&&(t-=.1);this.userSeek_(t)}},o.enable=function(){r.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");!e||e.show()},o.disable=function(){r.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");!e||e.hide()},o.handleMouseUp=function(e){r.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?at(this.player_.play()):this.update_()},o.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},o.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},o.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},o.handleKeyDown=function(e){var t=this.player_.liveTracker;if(x.default.isEventKey(e,"Space")||x.default.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(x.default.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(x.default.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(x.default(e))){e.preventDefault(),e.stopPropagation();var l=10*(x.default.codes[x.default(e)]-x.default.codes[0])/100;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*l):this.userSeek_(this.player_.duration()*l)}else x.default.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):x.default.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):r.prototype.handleKeyDown.call(this,e)},o.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in n.default&&"visibilityState"in n.default&&this.off(n.default,"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},a}(hi);In.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!qe&&!de&&In.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),w.registerComponent("SeekBar",In);var go=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).handleMouseMove=_t(Ae(A.default(t),t.handleMouseMove),30),t.throttledHandleMouseSeek=_t(Ae(A.default(t),t.handleMouseSeek),30),t.handleMouseUpHandler_=function(l){return t.handleMouseUp(l)},t.handleMouseDownHandler_=function(l){return t.handleMouseDown(l)},t.enable(),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},o.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var l=t.getChild("playProgressBar"),_=t.getChild("mouseTimeDisplay");if(l||_){var f=t.el(),v=Qt(f),g=fn(f,e).x;g=an(g,0,1),_&&_.update(v,g),l&&l.update(v,t.getProgress())}}},o.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},o.enabled=function(){return this.enabled_},o.disable=function(){if(this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&at(this.player_.play())}},o.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},o.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},o.handleMouseDown=function(e){var t=this.el_.ownerDocument,l=this.getChild("seekBar");l&&l.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},o.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},a}(w);go.prototype.options_={children:["seekBar"]},w.registerComponent("ProgressControl",go);var vi=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).on(i,["enterpictureinpicture","leavepictureinpicture"],function(l){return t.handlePictureInPictureChange(l)}),t.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(l){return t.handlePictureInPictureEnabledChange(l)}),t.disable(),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-picture-in-picture-control "+r.prototype.buildCSSClass.call(this)},o.handlePictureInPictureEnabledChange=function(){n.default.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},o.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},o.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},a}(lt);vi.prototype.controlText_="Picture-in-Picture",w.registerComponent("PictureInPictureToggle",vi);var yo=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).on(i,"fullscreenchange",function(l){return t.handleFullscreenChange(l)}),!1===n.default[i.fsApi_.fullscreenEnabled]&&t.disable(),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},o.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},o.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},a}(lt);yo.prototype.controlText_="Fullscreen",w.registerComponent("FullscreenToggle",yo),w.registerComponent("VolumeLevel",function(r){function a(){return r.apply(this,arguments)||this}return j.default(a,r),a.prototype.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},a}(w)),w.registerComponent("VolumeLevelTooltip",function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).update=_t(Ae(A.default(t),t.update),30),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},o.update=function(e,t,l,_){if(!l){var f=Nt(this.el_),v=Nt(this.player_.el()),g=e.width*t;if(!v||!f)return;var S=e.left-v.left+g,m=e.width-g+(v.right-e.right),D=f.width/2;S<D?D+=D-S:m<D&&(D=m),D<0?D=0:D>f.width&&(D=f.width),this.el_.style.right="-"+D+"px"}this.write(_+"%")},o.write=function(e){xt(this.el_,e)},o.updateVolume=function(e,t,l,_,f){var v=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){v.update(e,t,l,_.toFixed(0)),f&&f()})},a}(w));var mi=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).update=_t(Ae(A.default(t),t.update),30),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},o.update=function(e,t,l){var _=this,f=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,l,f,function(){l?_.el_.style.bottom=e.height*t+"px":_.el_.style.left=e.width*t+"px"})},a}(w);mi.prototype.options_={children:["volumeLevelTooltip"]},w.registerComponent("MouseVolumeLevelDisplay",mi);var cn=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).on("slideractive",function(l){return t.updateLastVolume_(l)}),t.on(i,"volumechange",function(l){return t.updateARIAAttributes(l)}),i.ready(function(){return t.updateARIAAttributes()}),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},o.handleMouseDown=function(e){!Ot(e)||r.prototype.handleMouseDown.call(this,e)},o.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var l=this.el(),_=Nt(l),f=this.vertical(),v=fn(l,e);v=an(v=f?v.y:v.x,0,1),t.update(_,v,f)}!Ot(e)||(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},o.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},o.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},o.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},o.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},o.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},o.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},o.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},a}(hi);cn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!qe&&!de&&cn.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),cn.prototype.playerEvent="volumechange",w.registerComponent("VolumeBar",cn);var gi=function(r){function a(i,e){var t;return void 0===e&&(e={}),e.vertical=e.vertical||!1,(void 0===e.volumeBar||Te(e.volumeBar))&&(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical),t=r.call(this,i,e)||this,function(a,o){o.tech_&&!o.tech_.featuresVolumeControl&&a.addClass("vjs-hidden"),a.on(o,"loadstart",function(){o.tech_.featuresVolumeControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})}(A.default(t),i),t.throttledHandleMouseMove=_t(Ae(A.default(t),t.handleMouseMove),30),t.handleMouseUpHandler_=function(l){return t.handleMouseUp(l)},t.on("mousedown",function(l){return t.handleMouseDown(l)}),t.on("touchstart",function(l){return t.handleMouseDown(l)}),t.on("mousemove",function(l){return t.handleMouseMove(l)}),t.on(t.volumeBar,["focus","slideractive"],function(){t.volumeBar.addClass("vjs-slider-active"),t.addClass("vjs-slider-active"),t.trigger("slideractive")}),t.on(t.volumeBar,["blur","sliderinactive"],function(){t.volumeBar.removeClass("vjs-slider-active"),t.removeClass("vjs-slider-active"),t.trigger("sliderinactive")}),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},o.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},o.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},o.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},a}(w);gi.prototype.options_={children:["volumeBar"]},w.registerComponent("VolumeControl",gi);var yi=function(r){function a(i,e){var t;return t=r.call(this,i,e)||this,function(a,o){o.tech_&&!o.tech_.featuresMuteControl&&a.addClass("vjs-hidden"),a.on(o,"loadstart",function(){o.tech_.featuresMuteControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})}(A.default(t),i),t.on(i,["loadstart","volumechange"],function(l){return t.update(l)}),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},o.handleClick=function(e){var t=this.player_.volume(),l=this.player_.lastVolume_();0===t?(this.player_.volume(l<.1?.1:l),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},o.update=function(e){this.updateIcon_(),this.updateControlText_()},o.updateIcon_=function(){var e=this.player_.volume(),t=3;qe&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var l=0;l<4;l++)qt(this.el_,"vjs-vol-"+l);ut(this.el_,"vjs-vol-"+t)},o.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},a}(lt);yi.prototype.controlText_="Mute",w.registerComponent("MuteToggle",yi);var To=function(r){function a(i,e){var t;return void 0===e&&(e={}),e.inline=void 0===e.inline||e.inline,(void 0===e.volumeControl||Te(e.volumeControl))&&(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),(t=r.call(this,i,e)||this).handleKeyPressHandler_=function(l){return t.handleKeyPress(l)},t.on(i,["loadstart"],function(l){return t.volumePanelState_(l)}),t.on(t.muteToggle,"keyup",function(l){return t.handleKeyPress(l)}),t.on(t.volumeControl,"keyup",function(l){return t.handleVolumeControlKeyUp(l)}),t.on("keydown",function(l){return t.handleKeyPress(l)}),t.on("mouseover",function(l){return t.handleMouseOver(l)}),t.on("mouseout",function(l){return t.handleMouseOut(l)}),t.on(t.volumeControl,["slideractive"],t.sliderActive_),t.on(t.volumeControl,["sliderinactive"],t.sliderInactive_),t}j.default(a,r);var o=a.prototype;return o.sliderActive_=function(){this.addClass("vjs-slider-active")},o.sliderInactive_=function(){this.removeClass("vjs-slider-active")},o.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},o.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},o.dispose=function(){this.handleMouseOut(),r.prototype.dispose.call(this)},o.handleVolumeControlKeyUp=function(e){x.default.isEventKey(e,"Esc")&&this.muteToggle.focus()},o.handleMouseOver=function(e){this.addClass("vjs-hover"),Qe(n.default,"keyup",this.handleKeyPressHandler_)},o.handleMouseOut=function(e){this.removeClass("vjs-hover"),ze(n.default,"keyup",this.handleKeyPressHandler_)},o.handleKeyPress=function(e){x.default.isEventKey(e,"Esc")&&this.handleMouseOut()},a}(w);To.prototype.options_={children:["muteToggle","volumeControl"]},w.registerComponent("VolumePanel",To);var Eo=function(r){function a(i,e){var t;return t=r.call(this,i,e)||this,e&&(t.menuButton_=e.menuButton),t.focusedChild_=-1,t.on("keydown",function(l){return t.handleKeyDown(l)}),t.boundHandleBlur_=function(l){return t.handleBlur(l)},t.boundHandleTapClick_=function(l){return t.handleTapClick(l)},t}j.default(a,r);var o=a.prototype;return o.addEventListenerForItem=function(e){e instanceof w&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},o.removeEventListenerForItem=function(e){e instanceof w&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},o.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),r.prototype.removeChild.call(this,e)},o.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},o.createEl=function(){this.contentEl_=Ie(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Qe(t,"click",function(l){l.preventDefault(),l.stopImmediatePropagation()}),t},o.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,r.prototype.dispose.call(this)},o.handleBlur=function(e){var t=e.relatedTarget||n.default.activeElement;if(!this.children().some(function(_){return _.el()===t})){var l=this.menuButton_;l&&l.buttonPressed_&&t!==l.el().firstChild&&l.unpressButton()}},o.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var l=t.filter(function(_){return _.el()===e.target})[0];if(!l)return;"CaptionSettingsMenuItem"!==l.name()&&this.menuButton_.focus()}},o.handleKeyDown=function(e){x.default.isEventKey(e,"Left")||x.default.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(x.default.isEventKey(e,"Right")||x.default.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},o.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},o.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},o.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},a}(w);w.registerComponent("Menu",Eo);var Et=function(r){function a(i,e){var t;void 0===e&&(e={}),(t=r.call(this,i,e)||this).menuButton_=new lt(i,e),t.menuButton_.controlText(t.controlText_),t.menuButton_.el_.setAttribute("aria-haspopup","true");var l=lt.prototype.buildCSSClass();t.menuButton_.el_.className=t.buildCSSClass()+" "+l,t.menuButton_.removeClass("vjs-control"),t.addChild(t.menuButton_),t.update(),t.enabled_=!0;var _=function(v){return t.handleClick(v)};return t.handleMenuKeyUp_=function(f){return t.handleMenuKeyUp(f)},t.on(t.menuButton_,"tap",_),t.on(t.menuButton_,"click",_),t.on(t.menuButton_,"keydown",function(f){return t.handleKeyDown(f)}),t.on(t.menuButton_,"mouseenter",function(){t.addClass("vjs-hover"),t.menu.show(),Qe(n.default,"keyup",t.handleMenuKeyUp_)}),t.on("mouseleave",function(f){return t.handleMouseLeave(f)}),t.on("keydown",function(f){return t.handleSubmenuKeyDown(f)}),t}j.default(a,r);var o=a.prototype;return o.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},o.createMenu=function(){var e=new Eo(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=Ie("li",{className:"vjs-menu-title",innerHTML:De(this.options_.title),tabIndex:-1}),l=new w(this.player_,{el:t});e.addItem(l)}if(this.items=this.createItems(),this.items)for(var _=0;_<this.items.length;_++)e.addItem(this.items[_]);return e},o.createItems=function(){},o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},o.buildWrapperCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+lt.prototype.buildCSSClass()+" "+r.prototype.buildCSSClass.call(this)},o.buildCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+r.prototype.buildCSSClass.call(this)},o.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},o.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},o.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},o.handleMouseLeave=function(e){this.removeClass("vjs-hover"),ze(n.default,"keyup",this.handleMenuKeyUp_)},o.focus=function(){this.menuButton_.focus()},o.blur=function(){this.menuButton_.blur()},o.handleKeyDown=function(e){x.default.isEventKey(e,"Esc")||x.default.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),x.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(x.default.isEventKey(e,"Up")||x.default.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},o.handleMenuKeyUp=function(e){(x.default.isEventKey(e,"Esc")||x.default.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},o.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},o.handleSubmenuKeyDown=function(e){(x.default.isEventKey(e,"Esc")||x.default.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),x.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},o.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),qe&&Ii())return;this.menu.focus()}},o.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},o.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},o.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},a}(w);w.registerComponent("MenuButton",Et);var Ct=function(r){function a(o,i){var e,t=i.tracks;if((e=r.call(this,o,i)||this).items.length<=1&&e.hide(),!t)return A.default(e);var l=Ae(A.default(e),e.update);return t.addEventListener("removetrack",l),t.addEventListener("addtrack",l),t.addEventListener("labelchange",l),e.player_.on("ready",l),e.player_.on("dispose",function(){t.removeEventListener("removetrack",l),t.removeEventListener("addtrack",l),t.removeEventListener("labelchange",l)}),e}return j.default(a,r),a}(Et);w.registerComponent("TrackButton",Ct);var bi=["Tab","Esc","Up","Down","Right","Left"],un=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).selectable=e.selectable,t.isSelected_=e.selected||!1,t.multiSelectable=e.multiSelectable,t.selected(t.isSelected_),t.el_.setAttribute("role",t.selectable?t.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),t}j.default(a,r);var o=a.prototype;return o.createEl=function(e,t,l){return this.nonIconControl=!0,r.prototype.createEl.call(this,"li",ie({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),l)},o.handleKeyDown=function(e){bi.some(function(t){return x.default.isEventKey(e,t)})||r.prototype.handleKeyDown.call(this,e)},o.handleClick=function(e){this.selected(!0)},o.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},a}(Mn);w.registerComponent("MenuItem",un);var dn=function(r){function a(i,e){var t,l=e.track,_=i.textTracks();e.label=l.label||l.language||"Unknown",e.selected="showing"===l.mode,(t=r.call(this,i,e)||this).track=l,t.kinds=(e.kinds||[e.kind||t.track.kind]).filter(Boolean);var g,f=function(){for(var m=arguments.length,D=new Array(m),K=0;K<m;K++)D[K]=arguments[K];t.handleTracksChange.apply(A.default(t),D)},v=function(){for(var m=arguments.length,D=new Array(m),K=0;K<m;K++)D[K]=arguments[K];t.handleSelectedLanguageChange.apply(A.default(t),D)};return i.on(["loadstart","texttrackchange"],f),_.addEventListener("change",f),_.addEventListener("selectedlanguagechange",v),t.on("dispose",function(){i.off(["loadstart","texttrackchange"],f),_.removeEventListener("change",f),_.removeEventListener("selectedlanguagechange",v)}),void 0===_.onchange&&t.on(["tap","click"],function(){if("object"!=typeof C.default.Event)try{g=new C.default.Event("change")}catch(S){}g||(g=n.default.createEvent("Event")).initEvent("change",!0,!0),_.dispatchEvent(g)}),t.handleTracksChange(),t}j.default(a,r);var o=a.prototype;return o.handleClick=function(e){var t=this.track,l=this.player_.textTracks();if(r.prototype.handleClick.call(this,e),l)for(var _=0;_<l.length;_++){var f=l[_];-1!==this.kinds.indexOf(f.kind)&&(f===t?"showing"!==f.mode&&(f.mode="showing"):"disabled"!==f.mode&&(f.mode="disabled"))}},o.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},o.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},o.dispose=function(){this.track=null,r.prototype.dispose.call(this)},a}(un);w.registerComponent("TextTrackMenuItem",dn);var Co=function(r){function a(i,e){return e.track={player:i,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.track.label=e.label?e.label:e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,r.call(this,i,e)||this}j.default(a,r);var o=a.prototype;return o.handleTracksChange=function(e){for(var t=this.player().textTracks(),l=!0,_=0,f=t.length;_<f;_++){var v=t[_];if(this.options_.kinds.indexOf(v.kind)>-1&&"showing"===v.mode){l=!1;break}}l!==this.isSelected_&&this.selected(l)},o.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),l=!0,_=0,f=t.length;_<f;_++){var v=t[_];if(["captions","descriptions","subtitles"].indexOf(v.kind)>-1&&"showing"===v.mode){l=!1;break}}l&&(this.player_.cache_.selectedLanguage={enabled:!1})},a}(dn);w.registerComponent("OffTextTrackMenuItem",Co);var Yt=function(r){function a(i,e){return void 0===e&&(e={}),e.tracks=i.textTracks(),r.call(this,i,e)||this}return j.default(a,r),a.prototype.createItems=function(e,t){var l;void 0===e&&(e=[]),void 0===t&&(t=dn),this.label_&&(l=this.label_+" off"),e.push(new Co(this.player_,{kinds:this.kinds_,kind:this.kind_,label:l})),this.hideThreshold_+=1;var _=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var f=0;f<_.length;f++){var v=_[f];if(this.kinds_.indexOf(v.kind)>-1){var g=new t(this.player_,{track:v,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});g.addClass("vjs-"+v.kind+"-menu-item"),e.push(g)}}return e},a}(Ct);w.registerComponent("TextTrackButton",Yt);var Ti=function(r){function a(i,e){var t,l=e.track,_=e.cue,f=i.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=_.text,e.selected=_.startTime<=f&&f<_.endTime,(t=r.call(this,i,e)||this).track=l,t.cue=_,l.addEventListener("cuechange",Ae(A.default(t),t.update)),t}j.default(a,r);var o=a.prototype;return o.handleClick=function(e){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},o.update=function(e){var t=this.cue,l=this.player_.currentTime();this.selected(t.startTime<=l&&l<t.endTime)},a}(un);w.registerComponent("ChaptersTrackMenuItem",Ti);var Ei=function(r){function a(i,e,t){return r.call(this,i,e,t)||this}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},o.update=function(e){(!this.track_||e&&("addtrack"===e.type||"removetrack"===e.type))&&this.setTrack(this.findChaptersTrack()),r.prototype.update.call(this)},o.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);l&&l.addEventListener("load",this.updateHandler_)}}},o.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var l=e[t];if(l.kind===this.kind_)return l}},o.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(De(this.kind_))},o.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},o.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var l=0,_=t.length;l<_;l++){var v=new Ti(this.player_,{track:this.track_,cue:t[l]});e.push(v)}return e},a}(Yt);Ei.prototype.kind_="chapters",Ei.prototype.controlText_="Chapters",w.registerComponent("ChaptersButton",Ei);var Ci=function(r){function a(i,e,t){var l;l=r.call(this,i,e,t)||this;var _=i.textTracks(),f=Ae(A.default(l),l.handleTracksChange);return _.addEventListener("change",f),l.on("dispose",function(){_.removeEventListener("change",f)}),l}j.default(a,r);var o=a.prototype;return o.handleTracksChange=function(e){for(var t=this.player().textTracks(),l=!1,_=0,f=t.length;_<f;_++){var v=t[_];if(v.kind!==this.kind_&&"showing"===v.mode){l=!0;break}}l?this.disable():this.enable()},o.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},a}(Yt);Ci.prototype.kind_="descriptions",Ci.prototype.controlText_="Descriptions",w.registerComponent("DescriptionsButton",Ci);var Si=function(r){function a(i,e,t){return r.call(this,i,e,t)||this}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},a}(Yt);Si.prototype.kind_="subtitles",Si.prototype.controlText_="Subtitles",w.registerComponent("SubtitlesButton",Si);var wn=function(r){function a(i,e){var t;return e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",(t=r.call(this,i,e)||this).addClass("vjs-texttrack-settings"),t.controlText(", opens "+e.kind+" settings dialog"),t}return j.default(a,r),a.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},a}(dn);w.registerComponent("CaptionSettingsMenuItem",wn);var Dn=function(r){function a(i,e,t){return r.call(this,i,e,t)||this}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new wn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,e)},a}(Yt);Dn.prototype.kind_="captions",Dn.prototype.controlText_="Captions",w.registerComponent("CaptionsButton",Dn);var ji=function(r){function a(){return r.apply(this,arguments)||this}return j.default(a,r),a.prototype.createEl=function(e,t,l){var _='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(_+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r.prototype.createEl.call(this,e,ie({innerHTML:_+="</span>"},t),l)},a}(dn);w.registerComponent("SubsCapsMenuItem",ji);var xi=function(r){function a(i,e){var t;return void 0===e&&(e={}),(t=r.call(this,i,e)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(t.player_.language_)>-1&&(t.label_="captions"),t.menuButton_.controlText(De(t.label_)),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new wn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,e,ji)},a}(Yt);xi.prototype.kinds_=["captions","subtitles"],xi.prototype.controlText_="Subtitles",w.registerComponent("SubsCapsButton",xi);var So=function(r){function a(i,e){var t,l=e.track,_=i.audioTracks();e.label=l.label||l.language||"Unknown",e.selected=l.enabled,(t=r.call(this,i,e)||this).track=l,t.addClass("vjs-"+l.kind+"-menu-item");var f=function(){for(var g=arguments.length,S=new Array(g),m=0;m<g;m++)S[m]=arguments[m];t.handleTracksChange.apply(A.default(t),S)};return _.addEventListener("change",f),t.on("dispose",function(){_.removeEventListener("change",f)}),t}j.default(a,r);var o=a.prototype;return o.createEl=function(e,t,l){var _='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(_+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r.prototype.createEl.call(this,e,ie({innerHTML:_+="</span>"},t),l)},o.handleClick=function(e){r.prototype.handleClick.call(this,e),this.track.enabled=!0},o.handleTracksChange=function(e){this.selected(this.track.enabled)},a}(un);w.registerComponent("AudioTrackMenuItem",So);var jo=function(r){function a(i,e){return void 0===e&&(e={}),e.tracks=i.audioTracks(),r.call(this,i,e)||this}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),l=0;l<t.length;l++)e.push(new So(this.player_,{track:t[l],selectable:!0,multiSelectable:!1}));return e},a}(Ct);jo.prototype.controlText_="Audio Track",w.registerComponent("AudioTrackButton",jo);var Ai=function(r){function a(i,e){var t,l=e.rate,_=parseFloat(l,10);return e.label=l,e.selected=_===i.playbackRate(),e.selectable=!0,e.multiSelectable=!1,(t=r.call(this,i,e)||this).label=l,t.rate=_,t.on(i,"ratechange",function(f){return t.update(f)}),t}j.default(a,r);var o=a.prototype;return o.handleClick=function(e){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},o.update=function(e){this.selected(this.player().playbackRate()===this.rate)},a}(un);Ai.prototype.contentElType="button",w.registerComponent("PlaybackRateMenuItem",Ai);var xo=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).menuButton_.el_.setAttribute("aria-describedby",t.labelElId_),t.updateVisibility(),t.updateLabel(),t.on(i,"loadstart",function(l){return t.updateVisibility(l)}),t.on(i,"ratechange",function(l){return t.updateLabel(l)}),t.on(i,"playbackrateschange",function(l){return t.handlePlaybackRateschange(l)}),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){var e=r.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ie("div",{className:"vjs-playback-rate-value",id:this.labelElId_,innerHTML:"1x"}),e.appendChild(this.labelEl_),e},o.dispose=function(){this.labelEl_=null,r.prototype.dispose.call(this)},o.buildCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(){for(var e=this.playbackRates(),t=[],l=e.length-1;l>=0;l--)t.push(new Ai(this.player(),{rate:e[l]+"x"}));return t},o.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},o.handleClick=function(e){for(var t=this.player().playbackRate(),l=this.playbackRates(),_=l[0],f=0;f<l.length;f++)if(l[f]>t){_=l[f];break}this.player().playbackRate(_)},o.handlePlaybackRateschange=function(e){this.update()},o.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},o.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},o.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},o.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},a}(Et);xo.prototype.controlText_="Playback Rate",w.registerComponent("PlaybackRateMenuButton",xo);var Ao=function(r){function a(){return r.apply(this,arguments)||this}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-spacer "+r.prototype.buildCSSClass.call(this)},o.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},a}(w);w.registerComponent("Spacer",Ao),w.registerComponent("CustomControlSpacer",function(r){function a(){return r.apply(this,arguments)||this}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-custom-control-spacer "+r.prototype.buildCSSClass.call(this)},o.createEl=function(){var e=r.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="\xa0",e},a}(Ao));var Nn=function(r){function a(){return r.apply(this,arguments)||this}return j.default(a,r),a.prototype.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},a}(w);Nn.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in n.default&&Nn.prototype.options_.children.splice(Nn.prototype.options_.children.length-1,0,"pictureInPictureToggle"),w.registerComponent("ControlBar",Nn);var Oo=function(r){function a(i,e){var t;return(t=r.call(this,i,e)||this).on(i,"error",function(l){return t.open(l)}),t}j.default(a,r);var o=a.prototype;return o.buildCSSClass=function(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},o.content=function(){var e=this.player().error();return e?this.localize(e.message):""},a}(Bt);Oo.prototype.options_=L.default({},Bt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),w.registerComponent("ErrorDisplay",Oo);var Oi="vjs-text-track-settings",Mo=["#000","Black"],ko=["#00F","Blue"],Po=["#0FF","Cyan"],Io=["#0F0","Green"],wo=["#F0F","Magenta"],Do=["#F00","Red"],No=["#FFF","White"],Ro=["#FF0","Yellow"],Mi=["1","Opaque"],ki=["0.5","Semi-Transparent"],Vo=["0","Transparent"],Pt={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Mo,No,Do,Io,ko,Ro,wo,Po]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Mi,ki,Vo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[No,Mo,Do,Io,ko,Ro,wo,Po]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(a){return"1.00"===a?null:Number(a)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Mi,ki]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Vo,ki,Mi]}};function Lo(r,a){if(a&&(r=a(r)),r&&"none"!==r)return r}Pt.windowColor.options=Pt.backgroundColor.options,w.registerComponent("TextTrackSettings",function(r){function a(i,e){var t;return e.temporary=!1,(t=r.call(this,i,e)||this).updateDisplay=t.updateDisplay.bind(A.default(t)),t.fill(),t.hasBeenOpened_=t.hasBeenFilled_=!0,t.endDialog=Ie("p",{className:"vjs-control-text",textContent:t.localize("End of dialog window.")}),t.el().appendChild(t.endDialog),t.setDefaults(),void 0===e.persistTextTrackSettings&&(t.options_.persistTextTrackSettings=t.options_.playerOptions.persistTextTrackSettings),t.on(t.$(".vjs-done-button"),"click",function(){t.saveSettings(),t.close()}),t.on(t.$(".vjs-default-button"),"click",function(){t.setDefaults(),t.updateDisplay()}),ce(Pt,function(l){t.on(t.$(l.selector),"change",t.updateDisplay)}),t.options_.persistTextTrackSettings&&t.restoreSettings(),t}j.default(a,r);var o=a.prototype;return o.dispose=function(){this.endDialog=null,r.prototype.dispose.call(this)},o.createElSelect_=function(e,t,l){var _=this;void 0===t&&(t=""),void 0===l&&(l="label");var f=Pt[e],v=f.id.replace("%s",this.id_),g=[t,v].join(" ").trim();return["<"+l+' id="'+v+'" class="'+("label"===l?"vjs-label":"")+'">',this.localize(f.label),"</"+l+">",'<select aria-labelledby="'+g+'">'].concat(f.options.map(function(S){var m=v+"-"+S[1].replace(/\W+/g,"");return['<option id="'+m+'" value="'+S[0]+'" ','aria-labelledby="'+g+" "+m+'">',_.localize(S[1]),"</option>"].join("")})).concat("</select>").join("")},o.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},o.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},o.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},o.createElColors_=function(){return Ie("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},o.createElFont_=function(){return Ie("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},o.createElControls_=function(){var e=this.localize("restore all settings to the default values");return Ie("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},o.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},o.label=function(){return this.localize("Caption Settings Dialog")},o.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},o.buildCSSClass=function(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},o.getValues=function(){var e=this;return function(r,a,o){return void 0===o&&(o=0),z(r).reduce(function(i,e){return a(i,r[e],e)},o)}(Pt,function(t,l,_){var f=function(r,a){return Lo(r.options[r.options.selectedIndex].value,a)}(e.$(l.selector),l.parser);return void 0!==f&&(t[_]=f),t},{})},o.setValues=function(e){var t=this;ce(Pt,function(l,_){!function(r,a,o){if(a)for(var i=0;i<r.options.length;i++)if(Lo(r.options[i].value,o)===a){r.selectedIndex=i;break}}(t.$(l.selector),e[_],l.parser)})},o.setDefaults=function(){var e=this;ce(Pt,function(t){var l=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=l})},o.restoreSettings=function(){var e;try{e=JSON.parse(C.default.localStorage.getItem(Oi))}catch(t){R.warn(t)}e&&this.setValues(e)},o.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?C.default.localStorage.setItem(Oi,JSON.stringify(e)):C.default.localStorage.removeItem(Oi)}catch(t){R.warn(t)}}},o.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},o.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,l=e&&e.captionsButton;t?t.focus():l&&l.focus()},a}(Bt)),w.registerComponent("ResizeManager",function(r){function a(i,e){var t,l=e.ResizeObserver||C.default.ResizeObserver;null===e.ResizeObserver&&(l=!1);var _=ke({createEl:!l,reportTouchActivity:!1},e);return(t=r.call(this,i,_)||this).ResizeObserver=e.ResizeObserver||C.default.ResizeObserver,t.loadListener_=null,t.resizeObserver_=null,t.debouncedHandler_=function(a,o,i,e){void 0===e&&(e=C.default);var t,_=function(){var v=this,g=arguments,S=function(){t=null,S=null,a.apply(v,g)};e.clearTimeout(t),t=e.setTimeout(S,100)};return _.cancel=function(){e.clearTimeout(t),t=null},_}(function(){t.resizeHandler()},0,0,A.default(t)),l?(t.resizeObserver_=new t.ResizeObserver(t.debouncedHandler_),t.resizeObserver_.observe(i.el())):(t.loadListener_=function(){if(t.el_&&t.el_.contentWindow){var f=t.debouncedHandler_,v=t.unloadListener_=function(){ze(this,"resize",f),ze(this,"unload",v),v=null};Qe(t.el_.contentWindow,"unload",v),Qe(t.el_.contentWindow,"resize",f)}},t.one("load",t.loadListener_)),t}j.default(a,r);var o=a.prototype;return o.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},o.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},o.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},a}(w));var Vs={trackingThreshold:30,liveTolerance:15};w.registerComponent("LiveTracker",function(r){function a(i,e){var t,l=ke(Vs,e,{createEl:!1});return(t=r.call(this,i,l)||this).handleVisibilityChange_=function(_){return t.handleVisibilityChange(_)},t.trackLiveHandler_=function(){return t.trackLive_()},t.handlePlay_=function(_){return t.handlePlay(_)},t.handleFirstTimeupdate_=function(_){return t.handleFirstTimeupdate(_)},t.handleSeeked_=function(_){return t.handleSeeked(_)},t.seekToLiveEdge_=function(_){return t.seekToLiveEdge(_)},t.reset_(),t.on(t.player_,"durationchange",function(_){return t.handleDurationchange(_)}),t.one(t.player_,"canplay",function(){return t.toggleTracking()}),st&&"hidden"in n.default&&"visibilityState"in n.default&&t.on(n.default,"visibilitychange",t.handleVisibilityChange_),t}j.default(a,r);var o=a.prototype;return o.handleVisibilityChange=function(){this.player_.duration()===1/0&&(n.default.hidden?this.stopTracking():this.startTracking())},o.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(C.default.performance.now().toFixed(4)),l=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+l;var _=this.liveCurrentTime(),f=this.player_.currentTime(),v=this.player_.paused()||this.seekedBehindLive_||Math.abs(_-f)>this.options_.liveTolerance;(!this.timeupdateSeen_||_===1/0)&&(v=!1),v!==this.behindLiveEdge_&&(this.behindLiveEdge_=v,this.trigger("liveedgechange"))}},o.handleDurationchange=function(){this.toggleTracking()},o.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},o.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},o.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},o.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},o.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},o.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},o.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},o.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},o.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],l=e?e.length:0;l--;)t.push(e.end(l));return t.length?t.sort()[t.length-1]:1/0},o.seekableStart=function(){for(var e=this.player_.seekable(),t=[],l=e?e.length:0;l--;)t.push(e.start(l));return t.length?t.sort()[0]:0},o.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},o.isLive=function(){return this.isTracking()},o.atLiveEdge=function(){return!this.behindLiveEdge()},o.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},o.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},o.behindLiveEdge=function(){return this.behindLiveEdge_},o.isTracking=function(){return"number"==typeof this.trackingInterval_},o.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},o.dispose=function(){this.off(n.default,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),r.prototype.dispose.call(this)},a}(w));var p,Pi=function(a){var o=a.el();if(o.hasAttribute("src"))return a.triggerSourceset(o.src),!0;var i=a.$$("source"),e=[],t="";if(!i.length)return!1;for(var l=0;l<i.length;l++){var _=i[l].src;_&&-1===e.indexOf(_)&&e.push(_)}return!!e.length&&(1===e.length&&(t=e[0]),a.triggerSourceset(t),!0)},Bo=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(a){var o=n.default.createElement(this.nodeName.toLowerCase());o.innerHTML=a;for(var i=n.default.createDocumentFragment();o.childNodes.length;)i.appendChild(o.childNodes[0]);return this.innerText="",C.default.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Uo=function(a,o){for(var i={},e=0;e<a.length&&!((i=Object.getOwnPropertyDescriptor(a[e],o))&&i.set&&i.get);e++);return i.enumerable=!0,i.configurable=!0,i},Fo=function(a){var o=a.el();if(!o.resetSourceWatch_){var i={},e=function(a){return Uo([a.el(),C.default.HTMLMediaElement.prototype,C.default.Element.prototype,Bo],"innerHTML")}(a),t=function(_){return function(){for(var f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];var S=_.apply(o,v);return Pi(a),S}};["append","appendChild","insertAdjacentHTML"].forEach(function(l){!o[l]||(i[l]=o[l],o[l]=t(i[l]))}),Object.defineProperty(o,"innerHTML",ke(e,{set:t(e.set)})),o.resetSourceWatch_=function(){o.resetSourceWatch_=null,Object.keys(i).forEach(function(l){o[l]=i[l]}),Object.defineProperty(o,"innerHTML",e)},a.one("sourceset",o.resetSourceWatch_)}},d=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Qi(C.default.Element.prototype.getAttribute.call(this,"src")):""},set:function(a){return C.default.Element.prototype.setAttribute.call(this,"src",a),a}}),c=function(a,o,i,e){void 0===e&&(e=!0);var t=function(f){return Object.defineProperty(a,o,{value:f,enumerable:!0,writable:!0})},l={configurable:!0,enumerable:!0,get:function(){var f=i();return t(f),f}};return e&&(l.set=t),Object.defineProperty(a,o,l)},u=function(r){function a(i,e){var t;t=r.call(this,i,e)||this;var l=i.source,_=!1;if(l&&(t.el_.currentSrc!==l.src||i.tag&&3===i.tag.initNetworkState_)?t.setSource(l):t.handleLateInit_(t.el_),i.enableSourceset&&t.setupSourcesetHandling_(),t.isScrubbing_=!1,t.el_.hasChildNodes()){for(var f=t.el_.childNodes,v=f.length,g=[];v--;){var S=f[v];"track"===S.nodeName.toLowerCase()&&(t.featuresNativeTextTracks?(t.remoteTextTrackEls().addTrackElement_(S),t.remoteTextTracks().addTrack(S.track),t.textTracks().addTrack(S.track),!_&&!t.el_.hasAttribute("crossorigin")&&xn(S.src)&&(_=!0)):g.push(S))}for(var D=0;D<g.length;D++)t.el_.removeChild(g[D])}return t.proxyNativeTracks_(),t.featuresNativeTextTracks&&_&&R.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),t.restoreMetadataTracksInIOSNativePlayer_(),(yt||Vn||Ee)&&!0===i.nativeControlsForTouch&&t.setControls(!0),t.proxyWebkitFullscreen_(),t.triggerReady(),t}j.default(a,r);var o=a.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),a.disposeMediaElement(this.el_),this.options_=null,r.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){!function(a){if(a.featuresSourceset){var o=a.el();if(!o.resetSourceset_){var i=function(a){return Uo([a.el(),C.default.HTMLMediaElement.prototype,d],"src")}(a),e=o.setAttribute,t=o.load;Object.defineProperty(o,"src",ke(i,{set:function(_){var f=i.set.call(o,_);return a.triggerSourceset(o.src),f}})),o.setAttribute=function(l,_){var f=e.call(o,l,_);return/src/i.test(l)&&a.triggerSourceset(o.src),f},o.load=function(){var l=t.call(o);return Pi(a)||(a.triggerSourceset(""),Fo(a)),l},o.currentSrc?a.triggerSourceset(o.currentSrc):Pi(a)||Fo(a),o.resetSourceset_=function(){o.resetSourceset_=null,o.load=t,o.setAttribute=e,Object.defineProperty(o,"src",i),o.resetSourceWatch_&&o.resetSourceWatch_()}}}}(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),l=function(){t=[];for(var v=0;v<e.length;v++){var g=e[v];"metadata"===g.kind&&t.push({track:g,storedMode:g.mode})}};l(),e.addEventListener("change",l),this.on("dispose",function(){return e.removeEventListener("change",l)});var _=function f(){for(var v=0;v<t.length;v++){var g=t[v];"disabled"===g.track.mode&&g.track.mode!==g.storedMode&&(g.track.mode=g.storedMode)}e.removeEventListener("change",f)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",l),e.removeEventListener("change",_),e.addEventListener("change",_)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",l),e.addEventListener("change",l),e.removeEventListener("change",_)})},o.overrideNative_=function(e,t){var l=this;if(t===this["featuresNative"+e+"Tracks"]){var _=e.toLowerCase();this[_+"TracksListeners_"]&&Object.keys(this[_+"TracksListeners_"]).forEach(function(f){l.el()[_+"Tracks"].removeEventListener(f,l[_+"TracksListeners_"][f])}),this["featuresNative"+e+"Tracks"]=!t,this[_+"TracksListeners_"]=null,this.proxyNativeTracksForType_(_)}},o.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},o.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},o.proxyNativeTracksForType_=function(e){var t=this,l=tt[e],_=this.el()[l.getterName],f=this[l.getterName]();if(this["featuresNative"+l.capitalName+"Tracks"]&&_&&_.addEventListener){var v={change:function(m){var D={type:"change",target:f,currentTarget:f,srcElement:f};f.trigger(D),"text"===e&&t[$t.remoteText.getterName]().trigger(D)},addtrack:function(m){f.addTrack(m.track)},removetrack:function(m){f.removeTrack(m.track)}},g=function(){for(var m=[],D=0;D<f.length;D++){for(var K=!1,ge=0;ge<_.length;ge++)if(_[ge]===f[D]){K=!0;break}K||m.push(f[D])}for(;m.length;)f.removeTrack(m.shift())};this[l.getterName+"Listeners_"]=v,Object.keys(v).forEach(function(S){var m=v[S];_.addEventListener(S,m),t.on("dispose",function(D){return _.removeEventListener(S,m)})}),this.on("loadstart",g),this.on("dispose",function(S){return t.off("loadstart",g)})}},o.proxyNativeTracks_=function(){var e=this;tt.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},o.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),a.disposeMediaElement(e),e=t}else{e=n.default.createElement("video");var _=ke({},this.options_.tag&&dt(this.options_.tag));(!yt||!0!==this.options_.nativeControlsForTouch)&&delete _.controls,Fn(e,ie(_,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&Jt(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var f=["loop","muted","playsinline","autoplay"],v=0;v<f.length;v++){var g=f[v],S=this.options_[g];void 0!==S&&(S?Jt(e,g,g):pn(e,g),e[g]=S)}return e},o.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,l=function(){t=!0};this.on("loadstart",l);var _=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",_),void this.ready(function(){this.off("loadstart",l),this.off("loadedmetadata",_),t||this.trigger("loadstart")})}var f=["loadstart"];f.push("loadedmetadata"),e.readyState>=2&&f.push("loadeddata"),e.readyState>=3&&f.push("canplay"),e.readyState>=4&&f.push("canplaythrough"),this.ready(function(){f.forEach(function(v){this.trigger(v)},this)})}},o.setScrubbing=function(e){this.isScrubbing_=e},o.scrubbing=function(){return this.isScrubbing_},o.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&_n?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){R(t,"Video is not ready. (Video.js)")}},o.duration=function(){var e=this;return this.el_.duration===1/0&&de&&Be&&0===this.el_.currentTime?(this.on("timeupdate",function l(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",l))}),NaN):this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},l=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",l),this.on("dispose",function(){e.off("webkitbeginfullscreen",l),e.off("webkitendfullscreen",t)})}},o.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=C.default.navigator&&C.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},o.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)at(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},o.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},o.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},o.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},o.reset=function(){a.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(e){this.el_.controls=!!e},o.addTextTrack=function(e,t,l){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,l):r.prototype.addTextTrack.call(this,e,t,l)},o.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return r.prototype.createRemoteTextTrack.call(this,e);var t=n.default.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},o.addRemoteTextTrack=function(e,t){var l=r.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(l),l},o.removeRemoteTextTrack=function(e){if(r.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),l=t.length;l--;)(e===t[l]||e===t[l].track)&&this.el().removeChild(t[l])},o.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),C.default.performance&&"function"==typeof C.default.performance.now?e.creationTime=C.default.performance.now():C.default.performance&&C.default.performance.timing&&"number"==typeof C.default.performance.timing.navigationStart&&(e.creationTime=C.default.Date.now()-C.default.performance.timing.navigationStart),e},a}(Oe);c(u,"TEST_VID",function(){if(Dt()){var r=n.default.createElement("video"),a=n.default.createElement("track");return a.kind="captions",a.srclang="en",a.label="English",r.appendChild(a),r}}),u.isSupported=function(){try{u.TEST_VID.volume=.5}catch(r){return!1}return!(!u.TEST_VID||!u.TEST_VID.canPlayType)},u.canPlayType=function(r){return u.TEST_VID.canPlayType(r)},u.canPlaySource=function(r,a){return u.canPlayType(r.type)},u.canControlVolume=function(){try{var r=u.TEST_VID.volume;return u.TEST_VID.volume=r/2+.1,r!==u.TEST_VID.volume}catch(a){return!1}},u.canMuteVolume=function(){try{var r=u.TEST_VID.muted;return u.TEST_VID.muted=!r,u.TEST_VID.muted?Jt(u.TEST_VID,"muted","muted"):pn(u.TEST_VID,"muted"),r!==u.TEST_VID.muted}catch(a){return!1}},u.canControlPlaybackRate=function(){if(de&&Be&&gt<58)return!1;try{var r=u.TEST_VID.playbackRate;return u.TEST_VID.playbackRate=r/2+.1,r!==u.TEST_VID.playbackRate}catch(a){return!1}},u.canOverrideAttributes=function(){try{var r=function(){};Object.defineProperty(n.default.createElement("video"),"src",{get:r,set:r}),Object.defineProperty(n.default.createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(n.default.createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(n.default.createElement("audio"),"innerHTML",{get:r,set:r})}catch(a){return!1}return!0},u.supportsNativeTextTracks=function(){return _n||qe&&Be},u.supportsNativeVideoTracks=function(){return!(!u.TEST_VID||!u.TEST_VID.videoTracks)},u.supportsNativeAudioTracks=function(){return!(!u.TEST_VID||!u.TEST_VID.audioTracks)},u.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(r){var o=r[1];c(u.prototype,r[0],function(){return u[o]()},!0)}),u.prototype.movingMediaElementInDOM=!qe,u.prototype.featuresFullscreenResize=!0,u.prototype.featuresProgressEvents=!0,u.prototype.featuresTimeupdateEvents=!0,u.patchCanPlayType=function(){ye>=4&&!Ze&&!Be&&(p=u.TEST_VID&&u.TEST_VID.constructor.prototype.canPlayType,u.TEST_VID.constructor.prototype.canPlayType=function(r){return r&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(r)?"maybe":p.call(this,r)})},u.unpatchCanPlayType=function(){var r=u.TEST_VID.constructor.prototype.canPlayType;return p&&(u.TEST_VID.constructor.prototype.canPlayType=p),r},u.patchCanPlayType(),u.disposeMediaElement=function(r){if(r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),"function"==typeof r.load&&function(){try{r.load()}catch(a){}}()}},u.resetMediaElement=function(r){if(r){for(var a=r.querySelectorAll("source"),o=a.length;o--;)r.removeChild(a[o]);r.removeAttribute("src"),"function"==typeof r.load&&function(){try{r.load()}catch(i){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){u.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){u.prototype["set"+De(r)]=function(a){this.el_[r]=a,a?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){u.prototype[r]=function(){return this.el_[r]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){u.prototype["set"+De(r)]=function(a){this.el_[r]=a}}),["pause","load","play"].forEach(function(r){u.prototype[r]=function(){return this.el_[r]()}}),Oe.withSourceHandlers(u),u.nativeSourceHandler={},u.nativeSourceHandler.canPlayType=function(r){try{return u.TEST_VID.canPlayType(r)}catch(a){return""}},u.nativeSourceHandler.canHandleSource=function(r,a){if(r.type)return u.nativeSourceHandler.canPlayType(r.type);if(r.src){var o=jn(r.src);return u.nativeSourceHandler.canPlayType("video/"+o)}return""},u.nativeSourceHandler.handleSource=function(r,a,o){a.setSrc(r.src)},u.nativeSourceHandler.dispose=function(){},u.registerSourceHandler(u.nativeSourceHandler),Oe.registerTech("Html5",u);var y=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],O={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},M=["tiny","xsmall","small","medium","large","xlarge","huge"],V={};M.forEach(function(r){var a="x"===r.charAt(0)?"x-"+r.substring(1):r;V[r]="vjs-layout-"+a});var Q={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},J=function(r){function a(i,e,t){var l;if(i.id=i.id||e.id||"vjs_video_"+bt(),(e=ie(a.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var _=i.closest("[lang]");_&&_.getAttribute&&(e.language=_.getAttribute("lang"))}else for(var f=i;f&&1===f.nodeType;){if(dt(f).hasOwnProperty("lang")){e.language=f.getAttribute("lang");break}f=f.parentNode}if((l=r.call(this,null,e,t)||this).boundDocumentFullscreenChange_=function(m){return l.documentFullscreenChange_(m)},l.boundFullWindowOnEscKey_=function(m){return l.fullWindowOnEscKey(m)},l.boundUpdateStyleEl_=function(m){return l.updateStyleEl_(m)},l.boundApplyInitTime_=function(m){return l.applyInitTime_(m)},l.boundUpdateCurrentBreakpoint_=function(m){return l.updateCurrentBreakpoint_(m)},l.boundHandleTechClick_=function(m){return l.handleTechClick_(m)},l.boundHandleTechDoubleClick_=function(m){return l.handleTechDoubleClick_(m)},l.boundHandleTechTouchStart_=function(m){return l.handleTechTouchStart_(m)},l.boundHandleTechTouchMove_=function(m){return l.handleTechTouchMove_(m)},l.boundHandleTechTouchEnd_=function(m){return l.handleTechTouchEnd_(m)},l.boundHandleTechTap_=function(m){return l.handleTechTap_(m)},l.isFullscreen_=!1,l.log=re(l.id_),l.fsApi_=Le,l.isPosterFromTech_=!1,l.queuedCallbacks_=[],l.isReady_=!1,l.hasStarted_=!1,l.userActive_=!1,l.debugEnabled_=!1,!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=i,l.tagAttributes=i&&dt(i),l.language(l.options_.language),e.languages){var v={};Object.getOwnPropertyNames(e.languages).forEach(function(m){v[m.toLowerCase()]=e.languages[m]}),l.languages_=v}else l.languages_=a.prototype.options_.languages;l.resetCache_(),l.poster_=e.poster||"",l.controls_=!!e.controls,i.controls=!1,i.removeAttribute("controls"),l.changingSrc_=!1,l.playCallbacks_=[],l.playTerminatedQueue_=[],i.hasAttribute("autoplay")?l.autoplay(!0):l.autoplay(l.options_.autoplay),e.plugins&&Object.keys(e.plugins).forEach(function(m){if("function"!=typeof l[m])throw new Error('plugin "'+m+'" does not exist')}),l.scrubbing_=!1,l.el_=l.createEl(),Gn(A.default(l),{eventBusKey:"el_"}),l.fsApi_.requestFullscreen&&(Qe(n.default,l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_),l.on(l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_)),l.fluid_&&l.on(["playerreset","resize"],l.boundUpdateStyleEl_);var g=ke(l.options_);e.plugins&&Object.keys(e.plugins).forEach(function(m){l[m](e.plugins[m])}),e.debug&&l.debug(!0),l.options_.playerOptions=g,l.middleware_=[],l.playbackRates(e.playbackRates),l.initChildren(),l.isAudio("audio"===i.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label",l.localize("Audio Player")):l.el_.setAttribute("aria-label",l.localize("Video Player")),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),yt&&l.addClass("vjs-touch-enabled"),qe||l.addClass("vjs-workinghover"),a.players[l.id_]=A.default(l);var S="7.14.3".split(".")[0];return l.addClass("vjs-v"+S),l.userActive(!0),l.reportUserActivity(),l.one("play",function(m){return l.listenForUserActivity_(m)}),l.on("stageclick",function(m){return l.handleStageClick_(m)}),l.on("keydown",function(m){return l.handleKeyDown(m)}),l.on("languagechange",function(m){return l.handleLanguagechange(m)}),l.breakpoints(l.options_.breakpoints),l.responsive(l.options_.responsive),l}j.default(a,r);var o=a.prototype;return o.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),ze(n.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ze(n.default,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),a.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(r){An[r.id()]=null}(this),Ke.names.forEach(function(t){var _=e[Ke[t].getterName]();_&&_.off&&_.off()}),r.prototype.dispose.call(this)},o.createEl=function(){var t,e=this.tag,l=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),_="video-js"===this.tag.tagName.toLowerCase();l?t=this.el_=e.parentNode:_||(t=this.el_=r.prototype.createEl.call(this,"div"));var f=dt(e);if(_){for(t=this.el_=e,e=this.tag=n.default.createElement("video");t.children.length;)e.appendChild(t.firstChild);At(t,"video-js")||ut(t,"video-js"),t.appendChild(e),l=this.playerElIngest_=t,Object.keys(t).forEach(function(K){try{e[K]=t[K]}catch(ge){}})}if(e.setAttribute("tabindex","-1"),f.tabindex="-1",(st||Be&&hn)&&(e.setAttribute("role","application"),f.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in f&&delete f.width,"height"in f&&delete f.height,Object.getOwnPropertyNames(f).forEach(function(K){_&&"class"===K||t.setAttribute(K,f[K]),_&&e.setAttribute(K,f[K])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),!0!==C.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=zi("vjs-styles-dimensions");var v=ht(".vjs-styles-defaults"),g=ht("head");g.insertBefore(this.styleEl_,v?v.nextSibling:g.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var S=e.getElementsByTagName("a"),m=0;m<S.length;m++){var D=S.item(m);ut(D,"vjs-hidden"),D.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!l&&e.parentNode.insertBefore(t,e),Bn(e,t),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=t,t},o.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):R.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},o.width=function(e){return this.dimension("width",e)},o.height=function(e){return this.dimension("height",e)},o.dimension=function(e,t){var l=e+"_";if(void 0===t)return this[l]||0;if(""===t||"auto"===t)return this[l]=void 0,void this.updateStyleEl_();var _=parseFloat(t);isNaN(_)?R.error('Improper value "'+t+'" supplied for for '+e):(this[l]=_,this.updateStyleEl_())},o.fluid=function(e){var t=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,pt(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),function(a,o){pt(a)?o():(a.eventedCallbacks||(a.eventedCallbacks=[]),a.eventedCallbacks.push(o))}(this,function(){t.on(["playerreset","resize"],t.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},o.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},o.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},o.updateStyleEl_=function(){if(!0!==C.default.VIDEOJS_NO_DYNAMIC_STYLE){var _,f,g,S=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),m=S[1]/S[0];_=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/m:this.videoWidth()||300,f=void 0!==this.height_?this.height_:_*m,g=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(g),$i(this.styleEl_,"\n      ."+g+" {\n        width: "+_+"px;\n        height: "+f+"px;\n      }\n\n      ."+g+".vjs-fluid {\n        padding-top: "+100*m+"%;\n      }\n    ")}else{var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(e>=0&&(l.width=e),t>=0&&(l.height=t))}},o.loadTech_=function(e,t){var l=this;this.tech_&&this.unloadTech_();var _=De(e),f=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==_&&this.tag&&(Oe.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=_,this.isReady_=!1;var v=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(v=!1);var g={source:t,autoplay:v,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+f+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Ke.names.forEach(function(m){var D=Ke[m];g[D.getterName]=l[D.privateName]}),ie(g,this.options_[_]),ie(g,this.options_[f]),ie(g,this.options_[e.toLowerCase()]),this.tag&&(g.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(g.startTime=this.cache_.currentTime);var S=Oe.getTech(e);if(!S)throw new Error("No Tech named '"+_+"' exists! '"+_+"' should be registered using videojs.registerTech()'");this.tech_=new S(g),this.tech_.ready(Ae(this,this.handleTechReady_),!0),function(a,o){a.forEach(function(i){var e=o.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(t){return e.addCue(t)})}),o.textTracks()}(this.textTracksJson_||[],this.tech_),y.forEach(function(m){l.on(l.tech_,m,function(D){return l["handleTech"+De(m)+"_"](D)})}),Object.keys(O).forEach(function(m){l.on(l.tech_,m,function(D){0===l.tech_.playbackRate()&&l.tech_.seeking()?l.queuedCallbacks_.push({callback:l["handleTech"+O[m]+"_"].bind(l),event:D}):l["handleTech"+O[m]+"_"](D)})}),this.on(this.tech_,"loadstart",function(m){return l.handleTechLoadStart_(m)}),this.on(this.tech_,"sourceset",function(m){return l.handleTechSourceset_(m)}),this.on(this.tech_,"waiting",function(m){return l.handleTechWaiting_(m)}),this.on(this.tech_,"ended",function(m){return l.handleTechEnded_(m)}),this.on(this.tech_,"seeking",function(m){return l.handleTechSeeking_(m)}),this.on(this.tech_,"play",function(m){return l.handleTechPlay_(m)}),this.on(this.tech_,"firstplay",function(m){return l.handleTechFirstPlay_(m)}),this.on(this.tech_,"pause",function(m){return l.handleTechPause_(m)}),this.on(this.tech_,"durationchange",function(m){return l.handleTechDurationChange_(m)}),this.on(this.tech_,"fullscreenchange",function(m,D){return l.handleTechFullscreenChange_(m,D)}),this.on(this.tech_,"fullscreenerror",function(m,D){return l.handleTechFullscreenError_(m,D)}),this.on(this.tech_,"enterpictureinpicture",function(m){return l.handleTechEnterPictureInPicture_(m)}),this.on(this.tech_,"leavepictureinpicture",function(m){return l.handleTechLeavePictureInPicture_(m)}),this.on(this.tech_,"error",function(m){return l.handleTechError_(m)}),this.on(this.tech_,"posterchange",function(m){return l.handleTechPosterChange_(m)}),this.on(this.tech_,"textdata",function(m){return l.handleTechTextData_(m)}),this.on(this.tech_,"ratechange",function(m){return l.handleTechRateChange_(m)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&("Html5"!==_||!this.tag)&&Bn(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},o.unloadTech_=function(){var e=this;Ke.names.forEach(function(t){var l=Ke[t];e[l.privateName]=e[l.getterName]()}),this.textTracksJson_=function(a){var o=a.$$("track"),i=Array.prototype.map.call(o,function(t){return t.track});return Array.prototype.map.call(o,function(t){var l=Qn(t.track);return t.src&&(l.src=t.src),l}).concat(Array.prototype.filter.call(a.textTracks(),function(t){return-1===i.indexOf(t)}).map(Qn))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},o.tech=function(e){return void 0===e&&R.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},o.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},o.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"mouseup",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},o.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},o.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},o.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var _,l=function(){var v=t.muted();t.muted(!0);var g=function(){t.muted(v)};t.playTerminatedQueue_.push(g);var S=t.play();if(nn(S))return S.catch(function(m){throw g(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(m||""))})};if("any"!==e||this.muted()?_="muted"!==e||this.muted()?this.play():l():nn(_=this.play())&&(_=_.catch(l)),nn(_))return _.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){t.trigger({type:"autoplay-failure",autoplay:e})})}},o.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,l="";"string"!=typeof t&&(t=e.src,l=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!l&&(l=function(a,o){if(!o)return"";if(a.cache_.source.src===o&&a.cache_.source.type)return a.cache_.source.type;var i=a.cache_.sources.filter(function(_){return _.src===o});if(i.length)return i[0].type;for(var e=a.$$("source"),t=0;t<e.length;t++){var l=e[t];if(l.type&&l.src&&l.src===o)return l.type}return On(o)}(this,t)),this.cache_.source=ke({},e,{src:t,type:l});for(var _=this.cache_.sources.filter(function(D){return D.src&&D.src===t}),f=[],v=this.$$("source"),g=[],S=0;S<v.length;S++){var m=dt(v[S]);f.push(m),m.src&&m.src===t&&g.push(m.src)}g.length&&!_.length?this.cache_.sources=f:_.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},o.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var l=function(g){return t.updateSourceCaches_(g)},_=this.currentSource().src,f=e.src;_&&!/^blob:/.test(_)&&/^blob:/.test(f)&&(!this.lastSource_||this.lastSource_.tech!==f&&this.lastSource_.player!==_)&&(l=function(){}),l(f),e.src||this.tech_.any(["sourceset","loadstart"],function(v){if("sourceset"!==v.type){var g=t.techGet("currentSrc");t.lastSource_.tech=g,t.updateSourceCaches_(g)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},o.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},o.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},o.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},o.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",function _(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",_))})},o.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},o.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},o.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},o.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},o.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},o.handleTechFirstPlay_=function(){this.options_.starttime&&(R.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},o.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},o.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},o.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},o.handleTechClick_=function(e){!Ot(e)||!this.controls_||(this.paused()?at(this.play()):this.pause())},o.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(l){return l.contains(e.target)})||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.doubleClick||!1!==this.options_.userActions.doubleClick)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},o.handleTechTap_=function(){this.userActive(!this.userActive())},o.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},o.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},o.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},o.handleStageClick_=function(){this.reportUserActivity()},o.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},o.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var l=this.el(),_=n.default[this.fsApi_.fullscreenElement]===l;!_&&l.matches?_=l.matches(":"+this.fsApi_.fullscreen):!_&&l.msMatchesSelector&&(_=l.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(_)}},o.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen))},o.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},o.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},o.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},o.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},o.handleTechError_=function(){var e=this.tech_.error();this.error(e)},o.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},o.getCache=function(){return this.cache_},o.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},o.techCall_=function(e,t){this.ready(function(){if(e in ms)return function(r,a,o,i){return a[o](r.reduce(ri(o),i))}(this.middleware_,this.tech_,e,t);if(e in rn)return so(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(l){throw R(l),l}},!0)},o.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in si)return function(r,a,o){return r.reduceRight(ri(o),a[o]())}(this.middleware_,this.tech_,e);if(e in rn)return so(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?(R("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t):"TypeError"===t.name?(R("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t):(R(t),t)}}},o.play=function(){var e=this,t=this.options_.Promise||C.default.Promise;return t?new t(function(l){e.play_(l)}):this.play_()},o.play_=function(e){var t=this;void 0===e&&(e=at),this.playCallbacks_.push(e);var l=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!l)return this.waitToPlay_=function(f){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!l&&(_n||qe)&&this.load());var _=this.techGet_("play");null===_?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(_)},o.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(t){t()})},o.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(l){l(e)})},o.pause=function(){this.techCall_("pause")},o.paused=function(){return!1!==this.techGet_("paused")},o.played=function(){return this.techGet_("played")||ft(0,0)},o.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},o.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},o.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},o.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},o.remainingTime=function(){return this.duration()-this.currentTime()},o.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},o.buffered=function(){var e=this.techGet_("buffered");return(!e||!e.length)&&(e=ft(0,0)),e},o.bufferedPercent=function(){return Jn(this.buffered(),this.duration())},o.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),l=e.end(e.length-1);return l>t&&(l=t),l},o.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},o.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},o.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},o.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},o.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},o.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},o.requestFullscreen=function(e){var t=this.options_.Promise||C.default.Promise;if(t){var l=this;return new t(function(_,f){function v(){l.off("fullscreenerror",S),l.off("fullscreenchange",g)}function g(){v(),_()}function S(D,K){v(),f(K)}l.one("fullscreenchange",g),l.one("fullscreenerror",S);var m=l.requestFullscreenHelper_(e);m&&(m.then(v,v),m.then(_,f))})}return this.requestFullscreenHelper_()},o.requestFullscreenHelper_=function(e){var l,t=this;if(this.fsApi_.prefixed||(l=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(l=e)),this.fsApi_.requestFullscreen){var _=this.el_[this.fsApi_.requestFullscreen](l);return _&&_.then(function(){return t.isFullscreen(!0)},function(){return t.isFullscreen(!1)}),_}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},o.exitFullscreen=function(){var e=this.options_.Promise||C.default.Promise;if(e){var t=this;return new e(function(l,_){function f(){t.off("fullscreenerror",g),t.off("fullscreenchange",v)}function v(){f(),l()}function g(m,D){f(),_(D)}t.one("fullscreenchange",v),t.one("fullscreenerror",g);var S=t.exitFullscreenHelper_();S&&(S.then(f,f),S.then(l,_))})}return this.exitFullscreenHelper_()},o.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=n.default[this.fsApi_.exitFullscreen]();return t&&at(t.then(function(){return e.isFullscreen(!1)})),t}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},o.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=n.default.documentElement.style.overflow,Qe(n.default,"keydown",this.boundFullWindowOnEscKey_),n.default.documentElement.style.overflow="hidden",ut(n.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},o.fullWindowOnEscKey=function(e){x.default.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},o.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,ze(n.default,"keydown",this.boundFullWindowOnEscKey_),n.default.documentElement.style.overflow=this.docOrigOverflow,qt(n.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},o.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},o.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},o.requestPictureInPicture=function(){if("pictureInPictureEnabled"in n.default&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},o.exitPictureInPicture=function(){if("pictureInPictureEnabled"in n.default)return n.default.exitPictureInPicture()},o.handleKeyDown=function(e){var f,v,t=this.options_.userActions;t&&t.hotkeys&&(v=(f=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),f.isContentEditable||("input"===v?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(f.type):-1!==["textarea"].indexOf(v))||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))},o.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},l=t.fullscreenKey,f=t.muteKey,v=void 0===f?function(ge){return x.default.isEventKey(ge,"m")}:f,g=t.playPauseKey,S=void 0===g?function(ge){return x.default.isEventKey(ge,"k")||x.default.isEventKey(ge,"Space")}:g;if((void 0===l?function(ge){return x.default.isEventKey(ge,"f")}:l).call(this,e)){e.preventDefault(),e.stopPropagation();var m=w.getComponent("FullscreenToggle");!1!==n.default[this.fsApi_.fullscreenEnabled]&&m.prototype.handleClick.call(this,e)}else v.call(this,e)?(e.preventDefault(),e.stopPropagation(),w.getComponent("MuteToggle").prototype.handleClick.call(this,e)):S.call(this,e)&&(e.preventDefault(),e.stopPropagation(),w.getComponent("PlayToggle").prototype.handleClick.call(this,e))},o.canPlayType=function(e){for(var t,l=0,_=this.options_.techOrder;l<_.length;l++){var f=_[l],v=Oe.getTech(f);if(v||(v=w.getComponent(f)),v){if(v.isSupported()&&(t=v.canPlayType(e)))return t}else R.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.')}return""},o.selectSource=function(e){var m,t=this,l=this.options_.techOrder.map(function(S){return[S,Oe.getTech(S)]}).filter(function(S){var m=S[0],D=S[1];return D?D.isSupported():(R.error('The "'+m+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),_=function(m,D,K){var ge;return m.some(function(It){return D.some(function(Us){if(ge=K(It,Us))return!0})}),ge},g=function(m,D){var K=m[0];if(m[1].canPlaySource(D,t.options_[K.toLowerCase()]))return{source:D,tech:K}};return(this.options_.sourceOrder?_(e,l,(m=g,function(D,K){return m(K,D)})):_(l,e,g))||!1},o.handleSrc_=function(e,t){var l=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var _=Ts(e);if(_.length){if(this.changingSrc_=!0,t||(this.cache_.sources=_),this.updateSourceCaches_(_[0]),fs(this,_[0],function(g,S){if(l.middleware_=S,t||(l.cache_.sources=_),l.updateSourceCaches_(g),l.src_(g))return _.length>1?l.handleSrc_(_.slice(1)):(l.changingSrc_=!1,l.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void l.triggerReady());!function(r,a){r.forEach(function(o){return o.setTech&&o.setTech(a)})}(S,l.tech_)}),this.options_.retryOnError&&_.length>1){var f=function(){l.error(null),l.handleSrc_(_.slice(1),!0)},v=function(){l.off("error",f)};this.one("error",f),this.one("playing",v),this.resetRetryOnError_=function(){l.off("error",f),l.off("playing",v)}}}else this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},o.src=function(e){return this.handleSrc_(e,!1)},o.src_=function(e){var t=this,l=this.selectSource([e]);return!l||(function(a,o){return De(a)===De(o)}(l.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(l.tech,l.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1))},o.load=function(){this.techCall_("load")},o.reset=function(){var e=this,t=this.options_.Promise||C.default.Promise;this.paused()||!t?this.doReset_():at(this.play().then(function(){return e.doReset_()}))},o.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),pt(this)&&this.trigger("playerreset")},o.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},o.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,l=e.remainingTimeDisplay;t&&t.updateContent(),l&&l.updateContent()},o.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},o.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},o.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},o.currentSource=function(){return this.cache_.source||{}},o.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},o.currentType=function(){return this.currentSource()&&this.currentSource().type||""},o.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},o.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},o.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},o.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},o.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},o.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},o.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},o.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},o.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Ye(e),this.addClass("vjs-error"),R.error("(CODE:"+this.error_.code+" "+Ye.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},o.reportUserActivity=function(e){this.userActivity_=!0},o.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},o.listenForUserActivity_=function(){var e,t,l,_=Ae(this,this.reportUserActivity),g=function(K){_(),this.clearInterval(e)};this.on("mousedown",function(){_(),this.clearInterval(e),e=this.setInterval(_,250)}),this.on("mousemove",function(K){(K.screenX!==t||K.screenY!==l)&&(t=K.screenX,l=K.screenY,_())}),this.on("mouseup",g),this.on("mouseleave",g);var m,S=this.getChild("controlBar");S&&!qe&&!de&&(S.on("mouseenter",function(D){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),S.on("mouseleave",function(D){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",_),this.on("keyup",_),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(m);var D=this.options_.inactivityTimeout;D<=0||(m=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},D))}},250)},o.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},o.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},o.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},o.addTextTrack=function(e,t,l){if(this.tech_)return this.tech_.addTextTrack(e,t,l)},o.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},o.removeRemoteTextTrack=function(e){void 0===e&&(e={});var l=e.track;if(l||(l=e),this.tech_)return this.tech_.removeRemoteTextTrack(l)},o.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},o.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},o.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},o.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),pt(this)&&this.trigger("languagechange"))},o.languages=function(){return ke(a.prototype.options_.languages,this.languages_)},o.toJSON=function(){var e=ke(this.options_),t=e.tracks;e.tracks=[];for(var l=0;l<t.length;l++){var _=t[l];(_=ke(_)).player=void 0,e.tracks[l]=_}return e},o.createModal=function(e,t){var l=this;(t=t||{}).content=e||"";var _=new Bt(this,t);return this.addChild(_),_.on("dispose",function(){l.removeChild(_)}),_.open(),_},o.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),l=0;l<M.length;l++){var _=M[l];if(t<=this.breakpoints_[_]){if(e===_)return;e&&this.removeClass(V[e]),this.addClass(V[_]),this.breakpoint_=_;break}}},o.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},o.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=ie({},Q,e),this.updateCurrentBreakpoint_()),ie(this.breakpoints_)},o.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},o.currentBreakpoint=function(){return this.breakpoint_},o.currentBreakpointClass=function(){return V[this.breakpoint_]||""},o.loadMedia=function(e,t){var l=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=ke(e);var _=this.cache_.media,v=_.poster,g=_.src,S=_.textTracks;!_.artwork&&v&&(this.cache_.media.artwork=[{src:v,type:On(v)}]),g&&this.src(g),v&&this.poster(v),Array.isArray(S)&&S.forEach(function(m){return l.addRemoteTextTrack(m,!1)}),this.ready(t)}},o.getMedia=function(){if(!this.cache_.media){var e=this.poster(),_={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(f){return{kind:f.kind,label:f.label,language:f.language,src:f.src}})};return e&&(_.poster=e,_.artwork=[{src:_.poster,type:On(_.poster)}]),_}return ke(this.cache_.media)},a.getTagSettings=function(e){var t={sources:[],tracks:[]},l=dt(e),_=l["data-setup"];if(At(e,"vjs-fill")&&(l.fill=!0),At(e,"vjs-fluid")&&(l.fluid=!0),null!==_){var f=k.default(_||"{}"),v=f[0],g=f[1];v&&R.error(v),ie(l,g)}if(ie(t,l),e.hasChildNodes())for(var S=e.childNodes,m=0,D=S.length;m<D;m++){var K=S[m],ge=K.nodeName.toLowerCase();"source"===ge?t.sources.push(dt(K)):"track"===ge&&t.tracks.push(dt(K))}return t},o.flexNotSupported_=function(){var e=n.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},o.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},o.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;!Array.isArray(e)||!e.every(function(t){return"number"==typeof t})||(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},a}(w);Ke.names.forEach(function(r){var a=Ke[r];J.prototype[a.getterName]=function(){return this.tech_?this.tech_[a.getterName]():(this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName])}}),J.prototype.crossorigin=J.prototype.crossOrigin,J.players={};var _e=C.default.navigator;J.prototype.options_={techOrder:Oe.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:_e&&(_e.languages&&_e.languages[0]||_e.userLanguage||_e.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(r){J.prototype[r]=function(){return this.techGet_(r)}}),y.forEach(function(r){J.prototype["handleTech"+De(r)+"_"]=function(){return this.trigger(r)}}),w.registerComponent("Player",J);var be="plugin",je="activePlugins_",Je={},Ne=function(a){return Je.hasOwnProperty(a)},Ve=function(a){return Ne(a)?Je[a]:void 0},Ge=function(a,o){a[je]=a[je]||{},a[je][o]=!0},xe=function(a,o,i){var e=(i?"before":"")+"pluginsetup";a.trigger(e,o),a.trigger(e+":"+o.name,o)},Rn=function(a,o){return o.prototype.name=a,function(){xe(this,{name:a,plugin:o,instance:null},!0);for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var l=ee.default(o,[this].concat(e));return this[a]=function(){return l},xe(this,l.getEventHash()),l}},it=function(){function r(o){if(this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=o,this.log||(this.log=this.player.log.createLogger(this.name)),Gn(this),delete this.trigger,Ki(this,this.constructor.defaultState),Ge(o,this.name),this.dispose=this.dispose.bind(this),o.on("dispose",this.dispose)}var a=r.prototype;return a.version=function(){return this.constructor.VERSION},a.getEventHash=function(i){return void 0===i&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},a.trigger=function(i,e){return void 0===e&&(e={}),Vt(this.eventBusEl_,i,this.getEventHash(e))},a.handleStateChanged=function(i){},a.dispose=function(){var i=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[je][i]=!1,this.player=this.state=null,e[i]=Rn(i,Je[i])},r.isBasic=function(i){var e="string"==typeof i?Ve(i):i;return"function"==typeof e&&!r.prototype.isPrototypeOf(e.prototype)},r.registerPlugin=function(i,e){if("string"!=typeof i)throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(Ne(i))R.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(J.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof e+".");return Je[i]=e,i!==be&&(J.prototype[i]=r.isBasic(e)?function(a,o){var i=function(){xe(this,{name:a,plugin:o,instance:null},!0);var t=o.apply(this,arguments);return Ge(this,a),xe(this,{name:a,plugin:o,instance:t}),t};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i}(i,e):Rn(i,e)),e},r.deregisterPlugin=function(i){if(i===be)throw new Error("Cannot de-register base plugin.");Ne(i)&&(delete Je[i],delete J.prototype[i])},r.getPlugins=function(i){var e;return void 0===i&&(i=Object.keys(Je)),i.forEach(function(t){var l=Ve(t);l&&((e=e||{})[t]=l)}),e},r.getPluginVersion=function(i){var e=Ve(i);return e&&e.VERSION||""},r}();it.getPlugin=Ve,it.BASE_PLUGIN_NAME=be,it.registerPlugin(be,it),J.prototype.usingPlugin=function(r){return!!this[je]&&!0===this[je][r]},J.prototype.hasPlugin=function(r){return!!Ne(r)};var $o=function(a){return 0===a.indexOf("#")?a.slice(1):a};function $(r,a,o){var i=$.getPlayer(r);if(i)return a&&R.warn('Player "'+r+'" is already initialised. Options will not be applied.'),o&&i.ready(o),i;var e="string"==typeof r?ht("#"+$o(r)):r;if(!jt(e))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!e.ownerDocument.defaultView||!e.ownerDocument.body.contains(e))&&R.warn("The element supplied is not included in the DOM"),a=a||{},$.hooks("beforesetup").forEach(function(l){var _=l(e,ke(a));Ce(_)&&!Array.isArray(_)?a=ke(a,_):R.error("please return an object in beforesetup hooks")});var t=w.getComponent("Player");return i=new t(e,a,o),$.hooks("setup").forEach(function(l){return l(i)}),i}if($.hooks_={},$.hooks=function(r,a){return $.hooks_[r]=$.hooks_[r]||[],a&&($.hooks_[r]=$.hooks_[r].concat(a)),$.hooks_[r]},$.hook=function(r,a){$.hooks(r,a)},$.hookOnce=function(r,a){$.hooks(r,[].concat(a).map(function(o){return function e(){return $.removeHook(r,e),o.apply(void 0,arguments)}}))},$.removeHook=function(r,a){var o=$.hooks(r).indexOf(a);return!(o<=-1||(($.hooks_[r]=$.hooks_[r].slice()).splice(o,1),0))},!0!==C.default.VIDEOJS_NO_DYNAMIC_STYLE&&Dt()){var Zo=ht(".vjs-styles-defaults");if(!Zo){Zo=zi("vjs-styles-defaults");var Bs=ht("head");Bs&&Bs.insertBefore(Zo,Bs.firstChild),$i(Zo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Zn(1,$),$.VERSION="7.14.3",$.options=J.prototype.options_,$.getPlayers=function(){return J.players},$.getPlayer=function(r){var o,a=J.players;if("string"==typeof r){var i=$o(r),e=a[i];if(e)return e;o=ht("#"+i)}else o=r;if(jt(o)){var l=o.player,_=o.playerId;if(l||a[_])return l||a[_]}},$.getAllPlayers=function(){return Object.keys(J.players).map(function(r){return J.players[r]}).filter(Boolean)},$.players=J.players,$.getComponent=w.getComponent,$.registerComponent=function(r,a){Oe.isTech(a)&&R.warn("The "+r+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),w.registerComponent.call(w,r,a)},$.getTech=Oe.getTech,$.registerTech=Oe.registerTech,$.use=function(r,a){kt[r]=kt[r]||[],kt[r].push(a)},Object.defineProperty($,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty($.middleware,"TERMINATOR",{value:sn,writeable:!1,enumerable:!0}),$.browser=Wo,$.TOUCH_ENABLED=yt,$.extend=function(a,o){void 0===o&&(o={});var i=function(){a.apply(this,arguments)},e={};for(var t in"object"==typeof o?(o.constructor!==Object.prototype.constructor&&(i=o.constructor),e=o):"function"==typeof o&&(i=o),Me.default(i,a),a&&(i.super_=a),e)e.hasOwnProperty(t)&&(i.prototype[t]=e[t]);return i},$.mergeOptions=ke,$.bind=Ae,$.registerPlugin=it.registerPlugin,$.deregisterPlugin=it.deregisterPlugin,$.plugin=function(r,a){return R.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),it.registerPlugin(r,a)},$.getPlugins=it.getPlugins,$.getPlugin=it.getPlugin,$.getPluginVersion=it.getPluginVersion,$.addLanguage=function(r,a){var o;return r=(""+r).toLowerCase(),($.options.languages=ke($.options.languages,((o={})[r]=a,o)))[r]},$.log=R,$.createLogger=re,$.createTimeRange=$.createTimeRanges=ft,$.formatTime=Zt,$.setFormatTime=function(r){ci=r},$.resetFormatTime=function(){ci=_o},$.parseUrl=Sn,$.isCrossOrigin=xn,$.EventTarget=He,$.on=Qe,$.one=gn,$.off=ze,$.trigger=Vt,$.xhr=W.default,$.TextTrack=Ft,$.AudioTrack=ds,$.VideoTrack=no,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(r){$[r]=function(){return R.warn("videojs."+r+"() is deprecated; use videojs.dom."+r+"() instead"),Ui[r].apply(null,arguments)}}),$.computedStyle=Fe,$.dom=Ui,$.url=Xi,$.defineLazyProperty=c,$.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"}),F.exports=$},14310:function(F,ae,E){var U,ne,le;le=function(I){"use strict";"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.27"}),(I.registerPlugin||I.plugin)("hotkeys",function(G){var B=this,Z=B.el(),he=document,x=(G=(I.mergeOptions||I.util.mergeOptions)({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(de){return 32===de.which||179===de.which},rewindKey:function(de){return 37===de.which||177===de.which},forwardKey:function(de){return 39===de.which||176===de.which},volumeUpKey:function(de){return 38===de.which},volumeDownKey:function(de){return 40===de.which},muteKey:function(de){return 77===de.which},fullscreenKey:function(de){return 70===de.which},customKeys:{}},G||{})).volumeStep,W=G.seekStep,fe=G.enableMute,ee=G.enableVolumeScroll,Me=G.enableHoverScroll,ot=G.enableFullscreen,Le=G.enableNumbers,T=G.enableJogStyle,b=G.alwaysCaptureHotkeys,N=G.captureDocumentHotkeys,te=G.documentHotkeysFocusElementFilter,q=G.enableModifiersForNumbers,Y=G.enableInactiveFocus,oe=G.skipInitialFocus,ue=I.VERSION;Z.hasAttribute("tabIndex")||Z.setAttribute("tabIndex","-1"),Z.style.outline="none",(b||!B.autoplay())&&(oe||B.one("play",function(){Z.focus()})),Y&&B.on("userinactive",function(){var de=function(){clearTimeout(ye)},ye=setTimeout(function(){B.off("useractive",de);var Ee=he.activeElement,Ze=Z.querySelector(".vjs-control-bar");Ee&&Ee.parentElement==Ze&&Z.focus()},10);B.one("useractive",de)}),B.on("play",function(){var de=Z.querySelector(".iframeblocker");de&&""===de.style.display&&(de.style.display="block",de.style.bottom="39px")});var R=function(ye){var Ze,we,Ee=ye.which,Be=ye.preventDefault.bind(ye),gt=B.duration();if(B.controls()){var st=he.activeElement;if(b||N&&te(st)||st==Z||st==Z.querySelector(".vjs-tech")||st==Z.querySelector(".vjs-control-bar")||st==Z.querySelector(".iframeblocker"))switch(Se(ye,B)){case 1:Be(),(b||N)&&ye.stopPropagation(),B.paused()?mt(B.play()):B.pause();break;case 2:Ze=!B.paused(),Be(),Ze&&B.pause(),(we=B.currentTime()-et(ye))<=0&&(we=0),B.currentTime(we),Ze&&mt(B.play());break;case 3:Ze=!B.paused(),Be(),Ze&&B.pause(),(we=B.currentTime()+et(ye))>=gt&&(we=Ze?gt-.001:gt),B.currentTime(we),Ze&&mt(B.play());break;case 5:Be(),T?(we=B.currentTime()-1,B.currentTime()<=1&&(we=0),B.currentTime(we)):B.volume(B.volume()-x);break;case 4:Be(),T?((we=B.currentTime()+1)>=gt&&(we=gt),B.currentTime(we)):B.volume(B.volume()+x);break;case 6:fe&&B.muted(!B.muted());break;case 7:ot&&(B.isFullscreen()?B.exitFullscreen():B.requestFullscreen());break;default:if((Ee>47&&Ee<59||Ee>95&&Ee<106)&&(q||!(ye.metaKey||ye.ctrlKey||ye.altKey))&&Le){var wt=48;Ee>95&&(wt=96);var hn=Ee-wt;Be(),B.currentTime(B.duration()*hn*.1)}for(var yt in G.customKeys){var ct=G.customKeys[yt];ct&&ct.key&&ct.handler&&ct.key(ye)&&(Be(),ct.handler(B,G,ye))}}}},X=!1,z=Z.querySelector(".vjs-volume-menu-button")||Z.querySelector(".vjs-volume-panel");null!=z&&(z.onmouseover=function(){X=!0},z.onmouseout=function(){X=!1});var ce=function(ye){if(Me)var Ee=0;else Ee=he.activeElement;if(B.controls()&&(b||Ee==Z||Ee==Z.querySelector(".vjs-tech")||Ee==Z.querySelector(".iframeblocker")||Ee==Z.querySelector(".vjs-control-bar")||X)&&ee){ye=window.event||ye;var Ze=Math.max(-1,Math.min(1,ye.wheelDelta||-ye.detail));ye.preventDefault(),1==Ze?B.volume(B.volume()+x):-1==Ze&&B.volume(B.volume()-x)}},Se=function(ye,Ee){return G.playPauseKey(ye,Ee)?1:G.rewindKey(ye,Ee)?2:G.forwardKey(ye,Ee)?3:G.volumeUpKey(ye,Ee)?4:G.volumeDownKey(ye,Ee)?5:G.muteKey(ye,Ee)?6:G.fullscreenKey(ye,Ee)?7:void 0};function et(de){return"function"==typeof W?W(de):W}function mt(de){null!=de&&"function"==typeof de.then&&de.then(null,function(ye){})}return B.on("keydown",R),B.on("dblclick",function(ye){if(null!=ue&&ue<="7.1.0"&&B.controls()){var Ee=ye.relatedTarget||ye.toElement||he.activeElement;(Ee==Z||Ee==Z.querySelector(".vjs-tech")||Ee==Z.querySelector(".iframeblocker"))&&ot&&(B.isFullscreen()?B.exitFullscreen():B.requestFullscreen())}}),B.on("mousewheel",ce),B.on("DOMMouseScroll",ce),N&&document.addEventListener("keydown",function(de){R(de)}),this})},"undefined"!=typeof window&&window.videojs?le(window.videojs):(U=[E(22511)],void 0!==(ne=function(pe){return le(pe.default||pe)}.apply(ae,U))&&(F.exports=ne))},59672:(F,ae,E)=>{var U=E(12499),ne=F.exports={WebVTT:E(7044),VTTCue:E(13753),VTTRegion:E(26171)};U.vttjs=ne,U.WebVTT=ne.WebVTT;var I=ne.VTTCue,le=ne.VTTRegion,pe=U.VTTCue,G=U.VTTRegion;ne.shim=function(){U.VTTCue=I,U.VTTRegion=le},ne.restore=function(){U.VTTCue=pe,U.VTTRegion=G},U.VTTCue||ne.shim()},7044:(F,ae,E)=>{var U=E(48530),ne=Object.create||function(){function T(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return T.prototype=b,new T}}();function I(T,b){this.name="ParsingError",this.code=T.code,this.message=b||T.message}function le(T){function b(te,q,Y,oe){return 3600*(0|te)+60*(0|q)+(0|Y)+(0|oe)/1e3}var N=T.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return N?N[3]?b(N[1],N[2],N[3].replace(":",""),N[4]):N[1]>59?b(N[1],N[2],0,N[4]):b(0,N[1],N[2],N[4]):null}function pe(){this.values=ne(null)}function G(T,b,N,te){var q=te?T.split(te):[T];for(var Y in q)if("string"==typeof q[Y]){var oe=q[Y].split(N);2===oe.length&&b(oe[0],oe[1])}}function B(T,b,N){var te=T;function q(){var ue=le(T);if(null===ue)throw new I(I.Errors.BadTimeStamp,"Malformed timestamp: "+te);return T=T.replace(/^[^\sa-zA-Z-]+/,""),ue}function oe(){T=T.replace(/^\s+/,"")}if(oe(),b.startTime=q(),oe(),"--\x3e"!==T.substr(0,3))throw new I(I.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+te);T=T.substr(3),oe(),b.endTime=q(),oe(),function(ue,R){var re=new pe;G(ue,function(X,z){switch(X){case"region":for(var ce=N.length-1;ce>=0;ce--)if(N[ce].id===z){re.set(X,N[ce].region);break}break;case"vertical":re.alt(X,z,["rl","lr"]);break;case"line":var Se=z.split(","),ie=Se[0];re.integer(X,ie),re.percent(X,ie)&&re.set("snapToLines",!1),re.alt(X,ie,["auto"]),2===Se.length&&re.alt("lineAlign",Se[1],["start","center","end"]);break;case"position":Se=z.split(","),re.percent(X,Se[0]),2===Se.length&&re.alt("positionAlign",Se[1],["start","center","end"]);break;case"size":re.percent(X,z);break;case"align":re.alt(X,z,["start","center","end","left","right"])}},/:/,/\s/),R.region=re.get("region",null),R.vertical=re.get("vertical","");try{R.line=re.get("line","auto")}catch(X){}R.lineAlign=re.get("lineAlign","start"),R.snapToLines=re.get("snapToLines",!0),R.size=re.get("size",100);try{R.align=re.get("align","center")}catch(X){R.align=re.get("align","middle")}try{R.position=re.get("position","auto")}catch(X){R.position=re.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},R.align)}R.positionAlign=re.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},R.align)}(T,b)}(I.prototype=ne(Error.prototype)).constructor=I,I.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},pe.prototype={set:function(T,b){!this.get(T)&&""!==b&&(this.values[T]=b)},get:function(T,b,N){return N?this.has(T)?this.values[T]:b[N]:this.has(T)?this.values[T]:b},has:function(T){return T in this.values},alt:function(T,b,N){for(var te=0;te<N.length;++te)if(b===N[te]){this.set(T,b);break}},integer:function(T,b){/^-?\d+$/.test(b)&&this.set(T,parseInt(b,10))},percent:function(T,b){return!!(b.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(b=parseFloat(b),b>=0&&b<=100))&&(this.set(T,b),!0)}};var Z=U.createElement&&U.createElement("textarea"),he={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},se={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},ve={v:"title",lang:"lang"},H={rt:"ruby"};function C(T,b){function N(){if(!b)return null;var Te,Ce=b.match(/^([^<]*)(<[^>]*>?)?/);return b=b.substr((Te=Ce[1]?Ce[1]:Ce[2]).length),Te}function te(ie){return Z.innerHTML=ie,ie=Z.textContent,Z.textContent="",ie}function Y(ie,Ce){var Te=he[ie];if(!Te)return null;var Fe=T.document.createElement(Te),me=ve[ie];return me&&Ce&&(Fe[me]=Ce.trim()),Fe}for(var R,oe=T.document.createElement("div"),ue=oe,re=[];null!==(R=N());)if("<"!==R[0])ue.appendChild(T.document.createTextNode(te(R)));else{if("/"===R[1]){re.length&&re[re.length-1]===R.substr(2).replace(">","")&&(re.pop(),ue=ue.parentNode);continue}var z,X=le(R.substr(1,R.length-2));if(X){z=T.document.createProcessingInstruction("timestamp",X),ue.appendChild(z);continue}var ce=R.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!ce||!(z=Y(ce[1],ce[3]))||H[(Ce=z).localName]&&H[Ce.localName]!==ue.localName)continue;if(ce[2]){var Se=ce[2].split(".");Se.forEach(function(ie){var Ce=/^bg_/.test(ie),Te=Ce?ie.slice(3):ie;se.hasOwnProperty(Te)&&(z.style[Ce?"background-color":"color"]=se[Te])}),z.className=Se.join(" ")}re.push(ce[1]),ue.appendChild(z),ue=z}var Ce;return oe}var n=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function L(T){for(var b=0;b<n.length;b++){var N=n[b];if(T>=N[0]&&T<=N[1])return!0}return!1}function A(T){var b=[],N="";if(!T||!T.childNodes)return"ltr";function q(ue,R){for(var re=R.childNodes.length-1;re>=0;re--)ue.push(R.childNodes[re])}function Y(ue){if(!ue||!ue.length)return null;var R=ue.pop(),re=R.textContent||R.innerText;if(re){var X=re.match(/^.*(\n|\r)/);return X?(ue.length=0,X[0]):re}return"ruby"===R.tagName?Y(ue):R.childNodes?(q(ue,R),Y(ue)):void 0}for(q(b,T);N=Y(b);)for(var oe=0;oe<N.length;oe++)if(L(N.charCodeAt(oe)))return"rtl";return"ltr"}function k(){}function x(T,b,N){k.call(this),this.cue=b,this.cueDiv=C(T,b.text);var te={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(te,this.cueDiv),this.div=T.document.createElement("div"),te={direction:A(this.cueDiv),writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===b.align?"center":b.align,font:N.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(te),this.div.appendChild(this.cueDiv);var q=0;switch(b.positionAlign){case"start":q=b.position;break;case"center":q=b.position-b.size/2;break;case"end":q=b.position-b.size}this.applyStyles(""===b.vertical?{left:this.formatStyle(q,"%"),width:this.formatStyle(b.size,"%")}:{top:this.formatStyle(q,"%"),height:this.formatStyle(b.size,"%")}),this.move=function(Y){this.applyStyles({top:this.formatStyle(Y.top,"px"),bottom:this.formatStyle(Y.bottom,"px"),left:this.formatStyle(Y.left,"px"),right:this.formatStyle(Y.right,"px"),height:this.formatStyle(Y.height,"px"),width:this.formatStyle(Y.width,"px")})}}function W(T){var b,N,te,q;if(T.div){N=T.div.offsetHeight,te=T.div.offsetWidth,q=T.div.offsetTop;var Y=(Y=T.div.childNodes)&&(Y=Y[0])&&Y.getClientRects&&Y.getClientRects();T=T.div.getBoundingClientRect(),b=Y?Math.max(Y[0]&&Y[0].height||0,T.height/Y.length):0}this.left=T.left,this.right=T.right,this.top=T.top||q,this.height=T.height||N,this.bottom=T.bottom||q+(T.height||N),this.width=T.width||te,this.lineHeight=void 0!==b?b:T.lineHeight}function fe(T,b,N,te){var Y=new W(b),oe=b.cue,ue=function(T){if("number"==typeof T.line&&(T.snapToLines||T.line>=0&&T.line<=100))return T.line;if(!T.track||!T.track.textTrackList||!T.track.textTrackList.mediaElement)return-1;for(var b=T.track,N=b.textTrackList,te=0,q=0;q<N.length&&N[q]!==b;q++)"showing"===N[q].mode&&te++;return-1*++te}(oe),R=[];if(oe.snapToLines){var re;switch(oe.vertical){case"":R=["+y","-y"],re="height";break;case"rl":R=["+x","-x"],re="width";break;case"lr":R=["-x","+x"],re="width"}var X=Y.lineHeight,z=X*Math.round(ue),ce=N[re]+X,Se=R[0];Math.abs(z)>ce&&(z=z<0?-1:1,z*=Math.ceil(ce/X)*X),ue<0&&(z+=""===oe.vertical?N.height:N.width,R=R.reverse()),Y.move(Se,z)}else{var ie=Y.lineHeight/N.height*100;switch(oe.lineAlign){case"center":ue-=ie/2;break;case"end":ue-=ie}switch(oe.vertical){case"":b.applyStyles({top:b.formatStyle(ue,"%")});break;case"rl":b.applyStyles({left:b.formatStyle(ue,"%")});break;case"lr":b.applyStyles({right:b.formatStyle(ue,"%")})}R=["+y","-x","+x","-y"],Y=new W(b)}var Ce=function(Te,Fe){for(var me,St=new W(Te),$e=1,et=0;et<Fe.length;et++){for(;Te.overlapsOppositeAxis(N,Fe[et])||Te.within(N)&&Te.overlapsAny(te);)Te.move(Fe[et]);if(Te.within(N))return Te;var mt=Te.intersectPercentage(N);$e>mt&&(me=new W(Te),$e=mt),Te=new W(St)}return me||St}(Y,R);b.move(Ce.toCSSCompatValues(N))}function ee(){}k.prototype.applyStyles=function(T,b){for(var N in b=b||this.div,T)T.hasOwnProperty(N)&&(b.style[N]=T[N])},k.prototype.formatStyle=function(T,b){return 0===T?0:T+b},(x.prototype=ne(k.prototype)).constructor=x,W.prototype.move=function(T,b){switch(b=void 0!==b?b:this.lineHeight,T){case"+x":this.left+=b,this.right+=b;break;case"-x":this.left-=b,this.right-=b;break;case"+y":this.top+=b,this.bottom+=b;break;case"-y":this.top-=b,this.bottom-=b}},W.prototype.overlaps=function(T){return this.left<T.right&&this.right>T.left&&this.top<T.bottom&&this.bottom>T.top},W.prototype.overlapsAny=function(T){for(var b=0;b<T.length;b++)if(this.overlaps(T[b]))return!0;return!1},W.prototype.within=function(T){return this.top>=T.top&&this.bottom<=T.bottom&&this.left>=T.left&&this.right<=T.right},W.prototype.overlapsOppositeAxis=function(T,b){switch(b){case"+x":return this.left<T.left;case"-x":return this.right>T.right;case"+y":return this.top<T.top;case"-y":return this.bottom>T.bottom}},W.prototype.intersectPercentage=function(T){return Math.max(0,Math.min(this.right,T.right)-Math.max(this.left,T.left))*Math.max(0,Math.min(this.bottom,T.bottom)-Math.max(this.top,T.top))/(this.height*this.width)},W.prototype.toCSSCompatValues=function(T){return{top:this.top-T.top,bottom:T.bottom-this.bottom,left:this.left-T.left,right:T.right-this.right,height:this.height,width:this.width}},W.getSimpleBoxPosition=function(T){var b=T.div?T.div.offsetHeight:T.tagName?T.offsetHeight:0,N=T.div?T.div.offsetWidth:T.tagName?T.offsetWidth:0,te=T.div?T.div.offsetTop:T.tagName?T.offsetTop:0;return{left:(T=T.div?T.div.getBoundingClientRect():T.tagName?T.getBoundingClientRect():T).left,right:T.right,top:T.top||te,height:T.height||b,bottom:T.bottom||te+(T.height||b),width:T.width||N}},ee.StringDecoder=function(){return{decode:function(T){if(!T)return"";if("string"!=typeof T)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(T))}}},ee.convertCueToDOMTree=function(T,b){return T&&b?C(T,b):null},ee.processCues=function(T,b,N){if(!T||!b||!N)return null;for(;N.firstChild;)N.removeChild(N.firstChild);var te=T.document.createElement("div");if(te.style.position="absolute",te.style.left="0",te.style.right="0",te.style.top="0",te.style.bottom="0",te.style.margin="1.5%",N.appendChild(te),function(X){for(var z=0;z<X.length;z++)if(X[z].hasBeenReset||!X[z].displayState)return!0;return!1}(b)){var oe=[],ue=W.getSimpleBoxPosition(te),re={font:Math.round(.05*ue.height*100)/100+"px sans-serif"};!function(){for(var X,z,ce=0;ce<b.length;ce++)X=new x(T,z=b[ce],re),te.appendChild(X.div),fe(0,X,ue,oe),z.displayState=X.div,oe.push(W.getSimpleBoxPosition(X))}()}else for(var Y=0;Y<b.length;Y++)te.appendChild(b[Y].displayState)},(ee.Parser=function(T,b,N){N||(N=b,b={}),b||(b={}),this.window=T,this.vttjs=b,this.state="INITIAL",this.buffer="",this.decoder=N||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(T){if(!(T instanceof I))throw T;this.onparsingerror&&this.onparsingerror(T)},parse:function(T){var X,b=this;function N(){for(var X=b.buffer,z=0;z<X.length&&"\r"!==X[z]&&"\n"!==X[z];)++z;var ce=X.substr(0,z);return"\r"===X[z]&&++z,"\n"===X[z]&&++z,b.buffer=X.substr(z),ce}T&&(b.buffer+=b.decoder.decode(T,{stream:!0}));try{var oe;if("INITIAL"===b.state){if(!/\r\n|\n/.test(b.buffer))return this;var ue=(oe=N()).match(/^WEBVTT([ \t].*)?$/);if(!ue||!ue[0])throw new I(I.Errors.BadSignature);b.state="HEADER"}for(var R=!1;b.buffer;){if(!/\r\n|\n/.test(b.buffer))return this;switch(R?R=!1:oe=N(),b.state){case"HEADER":/:/.test(oe)?(X=oe).match(/X-TIMESTAMP-MAP/)?G(X,function(z,ce){switch(z){case"X-TIMESTAMP-MAP":!function(X){var z=new pe;G(X,function(ce,Se){switch(ce){case"MPEGT":z.integer(ce+"S",Se);break;case"LOCA":z.set(ce+"L",le(Se))}},/[^\d]:/,/,/),b.ontimestampmap&&b.ontimestampmap({MPEGTS:z.get("MPEGTS"),LOCAL:z.get("LOCAL")})}(ce)}},/=/):G(X,function(z,ce){switch(z){case"Region":!function(X){var z=new pe;if(G(X,function(Se,ie){switch(Se){case"id":z.set(Se,ie);break;case"width":z.percent(Se,ie);break;case"lines":z.integer(Se,ie);break;case"regionanchor":case"viewportanchor":var Ce=ie.split(",");if(2!==Ce.length)break;var Te=new pe;if(Te.percent("x",Ce[0]),Te.percent("y",Ce[1]),!Te.has("x")||!Te.has("y"))break;z.set(Se+"X",Te.get("x")),z.set(Se+"Y",Te.get("y"));break;case"scroll":z.alt(Se,ie,["up"])}},/=/,/\s/),z.has("id")){var ce=new(b.vttjs.VTTRegion||b.window.VTTRegion);ce.width=z.get("width",100),ce.lines=z.get("lines",3),ce.regionAnchorX=z.get("regionanchorX",0),ce.regionAnchorY=z.get("regionanchorY",100),ce.viewportAnchorX=z.get("viewportanchorX",0),ce.viewportAnchorY=z.get("viewportanchorY",100),ce.scroll=z.get("scroll",""),b.onregion&&b.onregion(ce),b.regionList.push({id:z.get("id"),region:ce})}}(ce)}},/:/):oe||(b.state="ID");continue;case"NOTE":oe||(b.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(oe)){b.state="NOTE";break}if(!oe)continue;b.cue=new(b.vttjs.VTTCue||b.window.VTTCue)(0,0,"");try{b.cue.align="center"}catch(X){b.cue.align="middle"}if(b.state="CUE",-1===oe.indexOf("--\x3e")){b.cue.id=oe;continue}case"CUE":try{B(oe,b.cue,b.regionList)}catch(X){b.reportOrThrowError(X),b.cue=null,b.state="BADCUE";continue}b.state="CUETEXT";continue;case"CUETEXT":var re=-1!==oe.indexOf("--\x3e");if(!oe||re&&(R=!0)){b.oncue&&b.oncue(b.cue),b.cue=null,b.state="ID";continue}b.cue.text&&(b.cue.text+="\n"),b.cue.text+=oe.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":oe||(b.state="ID");continue}}}catch(X){b.reportOrThrowError(X),"CUETEXT"===b.state&&b.cue&&b.oncue&&b.oncue(b.cue),b.cue=null,b.state="INITIAL"===b.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var T=this;try{if(T.buffer+=T.decoder.decode(),(T.cue||"HEADER"===T.state)&&(T.buffer+="\n\n",T.parse()),"INITIAL"===T.state)throw new I(I.Errors.BadSignature)}catch(b){T.reportOrThrowError(b)}return T.onflush&&T.onflush(),this}},F.exports=ee},13753:F=>{var E={"":1,lr:1,rl:1},U={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function I(pe){return"string"==typeof pe&&!!U[pe.toLowerCase()]&&pe.toLowerCase()}function le(pe,G,B){this.hasBeenReset=!1;var Z="",he=!1,se=pe,ve=G,H=B,C=null,n="",L=!0,A="auto",j="start",k="auto",x="auto",W=100,fe="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return Z},set:function(ee){Z=""+ee}},pauseOnExit:{enumerable:!0,get:function(){return he},set:function(ee){he=!!ee}},startTime:{enumerable:!0,get:function(){return se},set:function(ee){if("number"!=typeof ee)throw new TypeError("Start time must be set to a number.");se=ee,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return ve},set:function(ee){if("number"!=typeof ee)throw new TypeError("End time must be set to a number.");ve=ee,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return H},set:function(ee){H=""+ee,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return C},set:function(ee){C=ee,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return n},set:function(ee){var Me=function(pe){return"string"==typeof pe&&!!E[pe.toLowerCase()]&&pe.toLowerCase()}(ee);if(!1===Me)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");n=Me,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return L},set:function(ee){L=!!ee,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return A},set:function(ee){if("number"!=typeof ee&&"auto"!==ee)throw new SyntaxError("Line: an invalid number or illegal string was specified.");A=ee,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return j},set:function(ee){var Me=I(ee);Me?(j=Me,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return k},set:function(ee){if(ee<0||ee>100)throw new Error("Position must be between 0 and 100.");k=ee,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return x},set:function(ee){var Me=I(ee);Me?(x=Me,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return W},set:function(ee){if(ee<0||ee>100)throw new Error("Size must be between 0 and 100.");W=ee,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return fe},set:function(ee){var Me=I(ee);if(!Me)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");fe=Me,this.hasBeenReset=!0}}}),this.displayState=void 0}le.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},F.exports=le},26171:F=>{var ae={"":!0,up:!0};function U(I){return"number"==typeof I&&I>=0&&I<=100}F.exports=function(){var I=100,le=3,pe=0,G=100,B=0,Z=100,he="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return I},set:function(se){if(!U(se))throw new Error("Width must be between 0 and 100.");I=se}},lines:{enumerable:!0,get:function(){return le},set:function(se){if("number"!=typeof se)throw new TypeError("Lines must be set to a number.");le=se}},regionAnchorY:{enumerable:!0,get:function(){return G},set:function(se){if(!U(se))throw new Error("RegionAnchorX must be between 0 and 100.");G=se}},regionAnchorX:{enumerable:!0,get:function(){return pe},set:function(se){if(!U(se))throw new Error("RegionAnchorY must be between 0 and 100.");pe=se}},viewportAnchorY:{enumerable:!0,get:function(){return Z},set:function(se){if(!U(se))throw new Error("ViewportAnchorY must be between 0 and 100.");Z=se}},viewportAnchorX:{enumerable:!0,get:function(){return B},set:function(se){if(!U(se))throw new Error("ViewportAnchorX must be between 0 and 100.");B=se}},scroll:{enumerable:!0,get:function(){return he},set:function(se){var ve=function(I){return"string"==typeof I&&!!ae[I.toLowerCase()]&&I.toLowerCase()}(se);!1===ve?console.warn("Scroll: an invalid or illegal string was specified."):he=ve}}})}},81766:(F,ae,E)=>{"use strict";E.r(ae),E.d(ae,{VideoWatchModule:()=>Fo});var U=E(84167),ne=E(97694),I=E(62026),le=E(48600),pe=E(14657),G=E(67861),B=E(33957),Z=E(34494),he=E(91061),se=E(15586),ve=E(36226),H=E(63192),C=E(34180),n=E(42741),L=E(54755),A=E(7365),j=E(76476),k=E(16274),x=E(19895);function W(d,h){if(1&d&&n._UZ(0,"span",6),2&d){const s=n.oxw();n.Q6J("innerHTML",s.getRatePopoverText(),n.oJD)}}function fe(d,h){if(1&d&&(n.TgZ(0,"span",7),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.xp6(1),n.Oqu(s.video.likes)}}function ee(d,h){if(1&d&&(n.TgZ(0,"span",7),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.xp6(1),n.Oqu(s.video.dislikes)}}const Me=function(d){return{activated:d}};let ot=(()=>{class d{constructor(s,c,u,p){this.videoService=s,this.notifier=c,this.hotkeysService=u,this.screenService=p,this.userRatingLoaded=new n.vpe,this.rateUpdated=new n.vpe,this.tooltipLike="",this.tooltipDislike=""}ngOnInit(){(this.isUserLoggedIn||!this.screenService.isInMobileView())&&(this.tooltipLike="Aimar la vid\xE8o",this.tooltipDislike="Aimar pas mai la vid\xE8o"),this.isUserLoggedIn&&(this.hotkeys=[new A.qm("shift+l",()=>(this.setLike(),!1),void 0,"Aimar la vid\xE8o"),new A.qm("shift+d",()=>(this.setDislike(),!1),void 0,"Detestar la vid\xE8o")],this.hotkeysService.add(this.hotkeys))}ngOnChanges(){this.checkUserRating()}ngOnDestroy(){this.hotkeysService.remove(this.hotkeys)}setLike(){!1!==this.isUserLoggedIn&&this.setRating("like"===this.userRating?"none":"like")}setDislike(){!1!==this.isUserLoggedIn&&this.setRating("dislike"===this.userRating?"none":"dislike")}getRatePopoverText(){if(!this.isUserLoggedIn)return "You need to be <a href=\"/login\">logged in</a> to rate this video."}checkUserRating(){!1!==this.isUserLoggedIn&&this.videoService.getUserVideoRating(this.video.id).subscribe({next:s=>{!s||(this.userRating=s.rating,this.userRatingLoaded.emit(this.userRating))},error:s=>this.notifier.error(s.message)})}setRating(s){({like:this.videoService.setVideoLike,dislike:this.videoService.setVideoDislike,none:this.videoService.unsetVideoLike})[s].call(this.videoService,this.video.id).subscribe({next:()=>{this.updateVideoRating(this.userRating,s),this.userRating=s,this.rateUpdated.emit(this.userRating)},error:u=>this.notifier.error(u.message)})}updateVideoRating(s,c){let u=0,p=0;s&&("like"===s&&u--,"dislike"===s&&p--),"like"===c&&u++,"dislike"===c&&p++,this.video.likes+=u,this.video.dislikes+=p,this.video.buildLikeAndDislikePercents()}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(I.kI),n.Y36(L.d4),n.Y36(A.tm),n.Y36(L.H2))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-rate"]],inputs:{video:"video",isUserLoggedIn:"isUserLoggedIn"},outputs:{userRatingLoaded:"userRatingLoaded",rateUpdated:"rateUpdated"},features:[n.TTD],decls:8,vars:16,consts:[["ratePopoverText",""],["placement","bottom auto",1,"action-button","action-button-like",3,"ngbPopover","ngClass","ngbTooltip","click","keyup.enter"],["iconName","like"],["class","count",4,"ngIf"],["placement","bottom auto",1,"action-button","action-button-dislike",3,"ngbPopover","ngClass","ngbTooltip","click","keyup.enter"],["iconName","dislike"],[3,"innerHTML"],[1,"count"]],template:function(s,c){if(1&s&&(n.YNc(0,W,1,1,"ng-template",null,0,n.W1O),n.TgZ(2,"button",1),n.NdJ("click",function(){return c.setLike()})("keyup.enter",function(){return c.setLike()}),n._UZ(3,"my-global-icon",2),n.YNc(4,fe,2,1,"span",3),n.qZA(),n.TgZ(5,"button",4),n.NdJ("click",function(){return c.setDislike()})("keyup.enter",function(){return c.setDislike()}),n._UZ(6,"my-global-icon",5),n.YNc(7,ee,2,1,"span",3),n.qZA()),2&s){const u=n.MAs(1);n.xp6(2),n.Q6J("ngbPopover",c.getRatePopoverText()&&u)("ngClass",n.VKq(12,Me,"like"===c.userRating))("ngbTooltip",c.tooltipLike),n.uIk("aria-pressed","like"===c.userRating)("aria-label",c.tooltipLike),n.xp6(2),n.Q6J("ngIf",c.video.likes),n.xp6(1),n.Q6J("ngbPopover",c.getRatePopoverText()&&u)("ngClass",n.VKq(14,Me,"dislike"===c.userRating))("ngbTooltip",c.tooltipDislike),n.uIk("aria-pressed","dislike"===c.userRating)("aria-label",c.tooltipDislike),n.xp6(2),n.Q6J("ngIf",c.video.dislikes)}},directives:[j.o8,k.mk,j._L,x.$,k.O5],styles:[".action-button-like[_ngcontent-%COMP%], .action-button-dislike[_ngcontent-%COMP%]{filter:brightness(120%)}.action-button-like[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%], .action-button-dislike[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin:0 5px}.activated[_ngcontent-%COMP%]{color:var(--activatedActionButtonColor)!important}"]}),d})();var Le=E(81153),T=E(53896),b=E(92046),N=E(11132),te=E(71041);const q=["videoShareModal"],Y=["supportModal"],oe=["videoDownloadModal"];function ue(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"button",13),n.NdJ("click",function(){return n.CHM(s),n.oxw().showSupportModal()})("keyup.enter",function(){return n.CHM(s),n.oxw().showSupportModal()}),n._UZ(1,"my-global-icon",14),n.TgZ(2,"span",6),n.SDv(3,15),n.qZA(),n.qZA()}if(2&d){const s=n.oxw();n.Q6J("ngbTooltip",s.tooltipSupport),n.uIk("aria-label",s.tooltipSupport)}}function R(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",16),n.NdJ("openChange",function(u){return n.CHM(s),n.MAs(7).openChange(u)}),n.TgZ(1,"button",17),n._UZ(2,"my-global-icon",18),n.TgZ(3,"span",6),n.SDv(4,19),n.qZA(),n.qZA(),n.TgZ(5,"div",20),n._UZ(6,"my-video-add-to-playlist",21,22),n.qZA(),n.qZA()}if(2&d){const s=n.oxw();n.Q6J("ngbTooltip",s.tooltipSaveToPlaylist),n.xp6(6),n.Q6J("video",s.video)}}function re(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"button",25),n.NdJ("click",function(){return n.CHM(s),n.oxw(2).showDownloadModal()})("keydown.enter",function(){return n.CHM(s),n.oxw(2).showDownloadModal()}),n._UZ(1,"my-global-icon",26),n.TgZ(2,"span",27),n.SDv(3,28),n.qZA(),n.qZA()}}function X(d,h){if(1&d&&(n.ynx(0),n.YNc(1,re,4,0,"button",23),n._UZ(2,"my-video-download",null,24),n.BQk()),2&d){const s=n.oxw();n.xp6(1),n.Q6J("ngIf",s.isVideoDownloadable())}}function z(d,h){if(1&d){const s=n.EpF();n.ynx(0),n.TgZ(1,"my-video-actions-dropdown",29),n.NdJ("videoRemoved",function(){return n.CHM(s),n.oxw().onVideoRemoved()}),n.qZA(),n.BQk()}if(2&d){const s=n.oxw();n.xp6(1),n.Q6J("buttonStyled",!0)("video",s.video)("videoCaptions",s.videoCaptions)("displayOptions",s.videoActionsOptions)}}const ce=function(d){return{liked:d}},Se=function(d){return{"width.%":d}};function ie(d,h){if(1&d&&(n.TgZ(0,"div",30),n.TgZ(1,"div",31),n._UZ(2,"div",32),n.qZA(),n.qZA()),2&d){const s=n.oxw();n.Q6J("ngbTooltip",s.likesBarTooltipText),n.xp6(2),n.Q6J("ngClass",n.VKq(3,ce,"none"!==s.userRating))("ngStyle",n.VKq(5,Se,s.video.likesPercent))}}function Ce(d,h){if(1&d&&(n.TgZ(0,"div",33),n._UZ(1,"div",34),n.qZA()),2&d){const s=n.oxw();n.Q6J("ngbTooltip",s.likesBarTooltipText),n.xp6(1),n.Q6J("ngStyle",n.VKq(2,Se,s.video.likesPercent))}}function Te(d,h){if(1&d&&(n.ynx(0),n._UZ(1,"my-support-modal",21,35),n._UZ(3,"my-video-share",36,37),n.BQk()),2&d){const s=n.oxw();n.xp6(1),n.Q6J("video",s.video),n.xp6(2),n.Q6J("video",s.video)("videoCaptions",s.videoCaptions)("playlist",s.playlist)}}let Fe=(()=>{class d{constructor(s,c){this.screenService=s,this.redirectService=c,this.likesBarTooltipText="",this.tooltipSupport="",this.tooltipSaveToPlaylist="",this.videoActionsOptions={playlist:!1,download:!0,update:!0,blacklist:!0,delete:!0,report:!0,duplicate:!0,mute:!0,liveInfo:!0}}ngOnInit(){(this.isUserLoggedIn||!this.screenService.isInMobileView())&&(this.tooltipSupport="Support options for this video",this.tooltipSaveToPlaylist="Enregistrar dins la lista de lectura")}ngOnChanges(){this.setVideoLikesBarTooltipText()}showDownloadModal(){this.videoDownloadModal.show(this.video,this.videoCaptions)}isVideoDownloadable(){return this.video&&this.video instanceof I.Ev&&this.video.downloadEnabled&&!this.video.isLive}showSupportModal(){this.supportModal.show()}showShareModal(){this.videoShareModal.show(this.currentTime,this.currentPlaylistPosition)}onRateUpdated(s){this.userRating=s,this.setVideoLikesBarTooltipText()}onVideoRemoved(){this.redirectService.redirectToHomepage()}setVideoLikesBarTooltipText(){this.likesBarTooltipText=`${this.video.likes} likes / ${this.video.dislikes} dislikes`}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(L.H2),n.Y36(L.VH))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-action-buttons"]],viewQuery:function(s,c){if(1&s&&(n.Gf(q,5),n.Gf(Y,5),n.Gf(oe,5)),2&s){let u;n.iGM(u=n.CRH())&&(c.videoShareModal=u.first),n.iGM(u=n.CRH())&&(c.supportModal=u.first),n.iGM(u=n.CRH())&&(c.videoDownloadModal=u.first)}},inputs:{video:"video",videoCaptions:"videoCaptions",playlist:"playlist",isUserLoggedIn:"isUserLoggedIn",currentTime:"currentTime",currentPlaylistPosition:"currentPlaylistPosition"},features:[n.TTD],decls:15,vars:9,consts:function(){let h,s,c,u;return h="PARTEJAR",s="ASSIST\xC9NCIA",c="SALVAGARDAR",u="DOWNLOAD",[[1,"video-actions-rates"],[1,"video-actions","full-width","justify-content-end"],[3,"video","isUserLoggedIn","rateUpdated","userRatingLoaded"],["class","action-button action-button-support","placement","bottom auto",3,"ngbTooltip","click","keyup.enter",4,"ngIf"],[1,"action-button",3,"click","keyup.enter"],["iconName","share","aria-hidden","true"],[1,"icon-text"],h,["class","action-dropdown","ngbDropdown","","placement","top","role","button","autoClose","outside","placement","bottom auto",3,"ngbTooltip","openChange",4,"ngIf"],[4,"ngIf"],[1,"likes-dislikes-bar-outer-container"],["class","likes-dislikes-bar-inner-container","placement","bottom",3,"ngbTooltip",4,"ngIf"],["class","likes-dislikes-bar","placement","bottom",3,"ngbTooltip",4,"ngIf"],["placement","bottom auto",1,"action-button","action-button-support",3,"ngbTooltip","click","keyup.enter"],["iconName","support","aria-hidden","true"],s,["ngbDropdown","","placement","top","role","button","autoClose","outside","placement","bottom auto",1,"action-dropdown",3,"ngbTooltip","openChange"],["ngbDropdownToggle","",1,"action-button","action-button-save"],["iconName","playlist-add","aria-hidden","true"],c,["ngbDropdownMenu",""],[3,"video"],["addContent",""],["class","action-button action-button-save",3,"click","keydown.enter",4,"ngIf"],["videoDownloadModal",""],[1,"action-button","action-button-save",3,"click","keydown.enter"],["iconName","download","aria-hidden","true"],[1,"icon-text","d-none","d-sm-inline"],u,["placement","bottom auto","buttonDirection","horizontal",3,"buttonStyled","video","videoCaptions","displayOptions","videoRemoved"],["placement","bottom",1,"likes-dislikes-bar-inner-container",3,"ngbTooltip"],[1,"likes-dislikes-bar"],[1,"likes-bar",3,"ngClass","ngStyle"],["placement","bottom",1,"likes-dislikes-bar",3,"ngbTooltip"],[1,"likes-bar",3,"ngStyle"],["supportModal",""],[3,"video","videoCaptions","playlist"],["videoShareModal",""]]},template:function(s,c){1&s&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"my-video-rate",2),n.NdJ("rateUpdated",function(p){return c.onRateUpdated(p)})("userRatingLoaded",function(p){return c.onRateUpdated(p)}),n.qZA(),n.YNc(3,ue,4,2,"button",3),n.TgZ(4,"button",4),n.NdJ("click",function(){return c.showShareModal()})("keyup.enter",function(){return c.showShareModal()}),n._UZ(5,"my-global-icon",5),n.TgZ(6,"span",6),n.SDv(7,7),n.qZA(),n.qZA(),n.YNc(8,R,8,2,"div",8),n.YNc(9,X,4,1,"ng-container",9),n.YNc(10,z,2,4,"ng-container",9),n.qZA(),n.TgZ(11,"div",10),n.YNc(12,ie,3,7,"div",11),n.qZA(),n.qZA(),n.YNc(13,Ce,2,4,"div",12),n.YNc(14,Te,5,4,"ng-container",9)),2&s&&(n.xp6(2),n.Q6J("video",c.video)("isUserLoggedIn",c.isUserLoggedIn),n.xp6(1),n.Q6J("ngIf",c.video.support),n.xp6(5),n.Q6J("ngIf",c.isUserLoggedIn),n.xp6(1),n.Q6J("ngIf",!c.isUserLoggedIn&&!c.video.isLive),n.xp6(1),n.Q6J("ngIf",c.isUserLoggedIn),n.xp6(2),n.Q6J("ngIf",0!==c.video.likes||0!==c.video.dislikes),n.xp6(1),n.Q6J("ngIf",0!==c.video.likes||0!==c.video.dislikes),n.xp6(1),n.Q6J("ngIf",c.video))},directives:[ot,k.O5,x.$,j._L,j.jt,j.iD,j.Vi,Le.Z,T.P,b.i,k.mk,k.PC,N.N,te.x],styles:[".video-actions[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center}@supports (margin-inline-start: 5px){.video-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:not(:first-child), .video-actions[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%], .video-actions[_ngcontent-%COMP%]   my-video-actions-dropdown[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.video-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:not(:first-child), .video-actions[_ngcontent-%COMP%]   .action-dropdown[_ngcontent-%COMP%], .video-actions[_ngcontent-%COMP%]   my-video-actions-dropdown[_ngcontent-%COMP%]{margin-left:5px}}.video-actions[_ngcontent-%COMP%]     .action-button{border:0;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-flex;align-items:center;line-height:normal!important;font-size:100%;font-weight:600;display:inline-block;padding:0 10px;white-space:nowrap;background-color:transparent!important;color:var(--actionButtonColor);text-transform:uppercase}@supports (padding-inline-start: 13px){.video-actions[_ngcontent-%COMP%]     .action-button{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.video-actions[_ngcontent-%COMP%]     .action-button{padding-left:13px}}@supports (padding-inline-end: 17px){.video-actions[_ngcontent-%COMP%]     .action-button{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.video-actions[_ngcontent-%COMP%]     .action-button{padding-right:17px}}.video-actions[_ngcontent-%COMP%]     .action-button my-global-icon{position:relative;width:21px;top:-1px}@supports (margin-inline-end: 0){.video-actions[_ngcontent-%COMP%]     .action-button my-global-icon{margin-inline-end:0}}@supports not (margin-inline-end: 0){.video-actions[_ngcontent-%COMP%]     .action-button my-global-icon{margin-right:0}}.video-actions[_ngcontent-%COMP%]     .action-button:after{display:none}.video-actions[_ngcontent-%COMP%]     .action-button:hover{opacity:.9}.video-actions[_ngcontent-%COMP%]     .action-button.action-button-support{color:var(--supportButtonColor)}.video-actions[_ngcontent-%COMP%]     .action-button.action-button-support my-global-icon   .feather, .video-actions[_ngcontent-%COMP%]     .action-button.action-button-support my-global-icon   .material, .video-actions[_ngcontent-%COMP%]     .action-button.action-button-support my-global-icon   .misc{color:var(--supportButtonColor)}.video-actions[_ngcontent-%COMP%]     .action-button.action-button-support my-global-icon   path:first-child{fill:var(--supportButtonHeartColor)!important}.video-actions[_ngcontent-%COMP%]     .action-button.action-button-save my-global-icon{top:0!important;right:-1px}@supports (margin-inline-start: 3px){.video-actions[_ngcontent-%COMP%]     .action-button .icon-text{margin-inline-start:3px}}@supports not (margin-inline-start: 3px){.video-actions[_ngcontent-%COMP%]     .action-button .icon-text{margin-left:3px}}.likes-dislikes-bar-outer-container[_ngcontent-%COMP%]{position:relative}.likes-dislikes-bar-inner-container[_ngcontent-%COMP%]{position:absolute;height:20px}.likes-dislikes-bar[_ngcontent-%COMP%]{height:2px;margin-top:-2px;width:120px;background-color:#ccc;position:relative;top:10px}.likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar[_ngcontent-%COMP%]{height:100%;background-color:#909090}.likes-dislikes-bar[_ngcontent-%COMP%]   .likes-bar.liked[_ngcontent-%COMP%]{background-color:var(--activatedActionButtonColor)}@media screen and (max-width: 450px){.action-button[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]{display:none!important}}"]}),d})();var me=E(93324);const St={VALIDATORS:[me.kI.required,me.kI.minLength(1),me.kI.maxLength(3e3)],MESSAGES:{required:"Lo comentari es requsit.",minlength:"Lo comentari deu cont\xE9ner almens 2 caract\xE8rs.",maxlength:"Lo comentari p\xF2t pas far mai de 3000 caract\xE8rs."}};var $e=E(49393),et=E(86552);let mt=(()=>{class d{constructor(s){this.elem=s,this.rows="1",this.overflow="hidden"}ngAfterViewInit(){this.resize()}resize(){const s=this.elem.nativeElement;s.style.height="auto",s.style.height=`${s.scrollHeight}px`}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.SBq))},d.\u0275dir=n.lG2({type:d,selectors:[["textarea","myAutoResize",""]],hostVars:3,hostBindings:function(s,c){1&s&&n.NdJ("input",function(){return c.resize()}),2&s&&(n.uIk("rows",c.rows),n.Udp("overflow",c.overflow))}}),d})();var de=E(6733),ye=E(73797),Ee=E(77738);const Ze=["visitorModal"],we=["emojiModal"],Be=["textarea"];function gt(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"span"),n.SDv(1,14),n.qZA(),n.TgZ(2,"ul"),n.TgZ(3,"li"),n.TgZ(4,"span"),n.SDv(5,15),n.qZA(),n.qZA(),n.TgZ(6,"li"),n.TgZ(7,"span"),n.SDv(8,16),n.qZA(),n.qZA(),n.TgZ(9,"li"),n.TgZ(10,"span"),n.SDv(11,17),n.qZA(),n.qZA(),n.TgZ(12,"li"),n.TgZ(13,"span"),n.SDv(14,18),n.qZA(),n.TgZ(15,"code"),n._uU(16,"**"),n.TgZ(17,"strong"),n.SDv(18,19),n.qZA(),n._uU(19,"** _"),n.TgZ(20,"i"),n.SDv(21,20),n.qZA(),n._uU(22,"_"),n.qZA(),n.qZA(),n.TgZ(23,"li"),n.TgZ(24,"span"),n.SDv(25,21),n.qZA(),n.TgZ(26,"code"),n._uU(27,":) <3"),n.qZA(),n.qZA(),n.TgZ(28,"li"),n.TgZ(29,"span"),n.SDv(30,22),n.qZA(),n.TgZ(31,"code"),n._uU(32,":smile:"),n.qZA(),n.TgZ(33,"div"),n.TgZ(34,"a",23),n.NdJ("click",function(u){return n.CHM(s),n.oxw().openEmojiModal(u)}),n.SDv(35,24),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function st(d,h){if(1&d&&(n.TgZ(0,"div",25),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.xp6(1),n.hij(" ",s.formErrors.text," ")}}function wt(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){return n.CHM(s),n.oxw().cancelCommentReply()}),n.SDv(1,27),n.qZA()}}const hn=function(d){return{disabled:d}};function yt(d,h){if(1&d&&(n.TgZ(0,"button",28),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.Q6J("ngClass",n.VKq(2,hn,!s.form.valid||s.addingComment)),n.xp6(1),n.hij(" ",s.addingCommentButtonValue," ")}}function ct(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",29),n.TgZ(1,"h4",30),n.SDv(2,31),n.qZA(),n.TgZ(3,"my-global-icon",32),n.NdJ("click",function(){return n.CHM(s),n.oxw().hideModals()}),n.qZA(),n.qZA(),n.TgZ(4,"div",33),n.TgZ(5,"span"),n.SDv(6,34),n.qZA(),n._UZ(7,"my-remote-subscribe",35),n.qZA(),n.TgZ(8,"div",36),n.TgZ(9,"input",37),n.NdJ("click",function(){return n.CHM(s),n.oxw().hideModals()})("key.enter",function(){return n.CHM(s),n.oxw().hideModals()}),n.qZA(),n.TgZ(10,"input",38),n.NdJ("click",function(){return n.CHM(s),n.oxw().gotoLogin()}),n.qZA(),n.qZA()}if(2&d){const s=n.oxw();n.xp6(7),n.Q6J("interact",!0)("uri",s.getUri())}}function Vn(d,h){if(1&d&&(n.TgZ(0,"div",42),n._uU(1),n.TgZ(2,"code"),n._uU(3),n.qZA(),n.qZA()),2&d){const s=h.$implicit;n.xp6(1),n.hij(" ",s[0]," "),n.xp6(2),n.hij(":",s[1],":")}}function qe(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",29),n.TgZ(1,"h4",30),n.SDv(2,39),n.qZA(),n.TgZ(3,"my-global-icon",32),n.NdJ("click",function(){return n.CHM(s),n.oxw().hideModals()}),n.qZA(),n.qZA(),n.TgZ(4,"div",33),n.TgZ(5,"div",40),n.YNc(6,Vn,4,2,"div",41),n.qZA(),n.qZA()}if(2&d){const s=n.oxw();n.xp6(6),n.Q6J("ngForOf",s.emojiMarkupList)}}const _n=function(d){return{"input-error":d}},Wo=function(d){return{"is-rtl":d}};let Ln=(()=>{class d extends U.OI{constructor(s,c,u,p,y,O){super(),this.formValidatorService=s,this.notifier=c,this.videoCommentService=u,this.modalService=p,this.router=y,this.localeId=O,this.focusOnInit=!1,this.commentCreated=new n.vpe,this.cancel=new n.vpe,this.addingComment=!1}get emojiMarkupList(){const s=E(96938),c=[];for(const u in s)u&&c.push([s[u],u]);return c}ngOnInit(){this.buildForm({text:St}),this.user&&(this.addingCommentButtonValue=this.parentComment?"Reply":"Comment",this.initTextValue())}ngOnChanges(s){var c;!this.form||(null===(c=s.textValue)||void 0===c?void 0:c.currentValue)&&s.textValue.currentValue!==s.textValue.previousValue&&this.patchTextValue(s.textValue.currentValue,!0)}onValidKey(){this.check(),this.form.valid&&this.formValidated()}openVisitorModal(s){null===this.user&&(s.srcElement.blur(),s.preventDefault(),this.modalService.open(this.visitorModal))}openEmojiModal(s){s.preventDefault(),this.modalService.open(this.emojiModal,{backdrop:!0,size:"lg"})}hideModals(){this.modalService.dismissAll()}formValidated(){if(this.addingComment)return;this.addingComment=!0;const s=this.form.value;let c;c=this.parentComment?this.addCommentReply(s):this.addCommentThread(s),c.subscribe({next:u=>{this.addingComment=!1,this.commentCreated.emit(u),this.form.reset()},error:u=>{this.addingComment=!1,this.notifier.error(u.text)}})}isAddButtonDisplayed(){return this.form.value.text}getUri(){return window.location.href}gotoLogin(){this.hideModals(),this.router.navigate(["/login"])}cancelCommentReply(){this.cancel.emit(null),this.form.value.text=this.textareaElement.nativeElement.value=""}isRTL(){return"rtl"===(0,k.w1)(this.localeId)}addCommentReply(s){return this.videoCommentService.addCommentReply(this.video.id,this.parentComment.id,s)}addCommentThread(s){return this.videoCommentService.addCommentThread(this.video.id,s)}initTextValue(){if(this.textValue)this.patchTextValue(this.textValue,this.focusOnInit);else if(this.parentComment){const s=this.parentComments.filter(p=>p.account&&p.account.id!==this.user.account.id).map(p=>"@"+p.by),c=new Set(s),u=Array.from(c).join(" ")+" ";this.patchTextValue(u,this.focusOnInit)}}patchTextValue(s,c){setTimeout(()=>{c&&this.textareaElement.nativeElement.focus(),this.textareaElement.nativeElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),this.textareaElement.nativeElement.dispatchEvent(new Event("input"))}),this.form.patchValue({text:s})}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(U.Q4),n.Y36(L.d4),n.Y36(he.L5),n.Y36(j.FF),n.Y36($e.F0),n.Y36(n.soG))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-comment-add"]],viewQuery:function(s,c){if(1&s&&(n.Gf(Ze,7),n.Gf(we,7),n.Gf(Be,7)),2&s){let u;n.iGM(u=n.CRH())&&(c.visitorModal=u.first),n.iGM(u=n.CRH())&&(c.emojiModal=u.first),n.iGM(u=n.CRH())&&(c.textareaElement=u.first)}},inputs:{user:"user",video:"video",parentComment:"parentComment",parentComments:"parentComments",focusOnInit:"focusOnInit",textValue:"textValue"},outputs:{commentCreated:"commentCreated",cancel:"cancel"},features:[n.qOj,n.TTD],decls:17,vars:12,consts:function(){let h,s,c,u,p,y,O,M,V,Q,J,_e,be,je,Je,Ne,Ve,Ge;return h="Comentar...",s="Markdown compatible",c="Markdown compatible that supports:",u="Auto generated links",p="Break lines",y="Lists",O="Emphasis",M="bold",V="italic",Q="Emoji shortcuts",J="Emoji markup",_e="See complete list",be="\n      Anullar\n    ",je="S\xE8tz a una etapa abans de comentar",Je=" You can comment using an account on any ActivityPub-compatible instance (PeerTube/Mastodon/Pleroma account for example). ",Ne="Anullar",Ve="Connectatz-vos per comentar",Ge="Markdown Emoji List",[["novalidate","",3,"formGroup","ngSubmit"],[1,"avatar-and-textarea"],["size","25",3,"account"],[1,"form-group"],["placeholder",h,"myAutoResize","","formControlName","text",3,"readonly","ngClass","click","keyup.control.enter","keyup.meta.enter"],["textarea",""],["helpType","custom","iconName","markdown","tooltipPlacement","left auto","autoClose","true","title",s,1,"markdown-guide",3,"ngClass"],["ptTemplate","customHtml"],["class","form-error",4,"ngIf"],[1,"comment-buttons"],["class","peertube-button tertiary-button cancel-button","type","button",3,"click",4,"ngIf"],["class","peertube-button orange-button",3,"ngClass",4,"ngIf"],["visitorModal",""],["emojiModal",""],c,u,p,y,O,M,V,Q,J,["href","",3,"click"],_e,[1,"form-error"],["type","button",1,"peertube-button","tertiary-button","cancel-button",3,"click"],be,[1,"peertube-button","orange-button",3,"ngClass"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],je,["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],Je,[3,"interact","uri"],[1,"modal-footer","inputs"],["type","button","role","button","value",Ne,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",Ve,1,"peertube-button","orange-button",3,"click"],Ge,[1,"emoji-flex"],["class","emoji-flex-item",4,"ngFor","ngForOf"],[1,"emoji-flex-item"]]},template:function(s,c){1&s&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return c.formValidated()}),n.TgZ(1,"div",1),n._UZ(2,"my-actor-avatar",2),n.TgZ(3,"div",3),n.TgZ(4,"textarea",4,5),n.NdJ("click",function(p){return c.openVisitorModal(p)})("keyup.control.enter",function(){return c.onValidKey()})("keyup.meta.enter",function(){return c.onValidKey()}),n._uU(6,"      "),n.qZA(),n.TgZ(7,"my-help",6),n.YNc(8,gt,36,0,"ng-template",7),n.qZA(),n.YNc(9,st,2,1,"div",8),n.qZA(),n.qZA(),n.TgZ(10,"div",9),n.YNc(11,wt,2,0,"button",10),n.YNc(12,yt,2,4,"button",11),n.qZA(),n.qZA(),n.YNc(13,ct,11,2,"ng-template",null,12,n.W1O),n.YNc(15,qe,7,1,"ng-template",null,13,n.W1O)),2&s&&(n.Q6J("formGroup",c.form),n.xp6(2),n.Q6J("account",null==c.user?null:c.user.account),n.xp6(2),n.Q6J("readonly",null===c.user)("ngClass",n.VKq(8,_n,c.formErrors.text)),n.xp6(3),n.Q6J("ngClass",n.VKq(10,Wo,c.isRTL())),n.xp6(2),n.Q6J("ngIf",c.formErrors.text),n.xp6(2),n.Q6J("ngIf",c.isAddButtonDisplayed()),n.xp6(1),n.Q6J("ngIf",c.isAddButtonDisplayed()))},directives:[me._Y,me.JL,me.sg,et.b,mt,me.Fj,me.JJ,me.u,k.mk,de.I,ye.Y,k.O5,x.$,Ee.V,k.sg],styles:["form[_ngcontent-%COMP%]{margin-bottom:30px}.avatar-and-textarea[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}@supports (margin-inline-end: 10px){.avatar-and-textarea[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.avatar-and-textarea[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:10px}}.avatar-and-textarea[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex-grow:1;margin:0;position:relative}.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:60px;padding:5px 15px;font-size:15px;min-height:calc(60px - 15px * 2)}.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.avatar-and-textarea[_ngcontent-%COMP%]   textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .avatar-and-textarea[_ngcontent-%COMP%]   textarea.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}@supports (padding-inline-end: 45px !important){.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-inline-end:45px!important}}@supports not (padding-inline-end: 45px !important){.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-right:45px!important}}@media screen and (max-width: 600px){@supports (padding-inline-end: 49px !important){.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-inline-end:49px!important}}@supports not (padding-inline-end: 49px !important){.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-right:49px!important}}}.avatar-and-textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus::placeholder{opacity:0}.markdown-guide[_ngcontent-%COMP%]{position:absolute;top:5px;right:9px}.markdown-guide.is-rtl[_ngcontent-%COMP%]{right:unset;left:9px}.markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button my-global-icon{height:18px;width:30px}.markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button my-global-icon svg{color:#c6c6c6;fill:#c6c6c6;border-radius:3px}.markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button:focus my-global-icon svg, .markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button:active my-global-icon svg, .markdown-guide[_ngcontent-%COMP%]     .help-tooltip-button:hover my-global-icon svg{background-color:#c6c6c6;color:var(--mainBackgroundColor);fill:var(--mainBackgroundColor)}.comment-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.emoji-flex[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}.emoji-flex[_ngcontent-%COMP%]   .emoji-flex-item[_ngcontent-%COMP%]{text-align:left;margin:auto;min-width:227px;flex:1}.emoji-flex[_ngcontent-%COMP%]   .emoji-flex-item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}@supports (margin-inline-start: 5px){.emoji-flex[_ngcontent-%COMP%]   .emoji-flex-item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.emoji-flex[_ngcontent-%COMP%]   .emoji-flex-item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{margin-left:5px}}@media screen and (max-width: 600px){textarea[_ngcontent-%COMP%], .comment-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px!important}textarea[_ngcontent-%COMP%]{padding:5px!important}}.modal-body[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{float:left;margin-bottom:20px}"]}),d})();var Ue=E(61855),Hn=E(359),Dt=E(64317);let jt=(()=>{class d{constructor(){this.timestampClicked=new n.vpe}onClick(s){const c=s.target;if(!0!==c.hasAttribute("href"))return;const u=document.createElement("a");if(u.href=c.getAttribute("href"),u.host!==window.location.host)return;const p=new URLSearchParams(u.search);if(!0!==p.has("start"))return;const O=p.get("start").match(new RegExp("(\\d{1,9}["+["h","m","s"].join("")+"])","g")).map(M=>M.includes("h")?3600*parseInt(M,10):M.includes("m")?60*parseInt(M,10):parseInt(M,10)).reduce((M,V)=>M+V);this.timestampClicked.emit(O),s.preventDefault()}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275dir=n.lG2({type:d,selectors:[["","myTimestampRouteTransformer",""]],hostBindings:function(s,c){1&s&&n.NdJ("click",function(p){return c.onClick(p)})},outputs:{timestampClicked:"timestampClicked"}}),d})();var Ii=E(59930),wi=E(41556),Ie=E(2402);const xt=["commentReportModal"];function Bn(d,h){if(1&d&&n._UZ(0,"my-actor-avatar",9),2&d){const s=n.oxw(2);n.Q6J("href",s.comment.account.url)("account",s.comment.account)}}function At(d,h){1&d&&(n.TgZ(0,"div",22),n.SDv(1,23),n.qZA())}const ut=function(d){return["/a",d]},qt=function(d){return{"video-author":d}},Un=function(d){return{threadId:d}},Fn=function(d,h){return["/w",d,h]};function dt(d,h){if(1&d){const s=n.EpF();n.ynx(0),n.YNc(1,At,2,0,"div",10),n.TgZ(2,"div",11),n.TgZ(3,"div",12),n.TgZ(4,"a",13),n.TgZ(5,"span",14),n._uU(6),n.qZA(),n.TgZ(7,"span",15),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"a",16),n._uU(10),n.ALo(11,"myFromNow"),n.qZA(),n.qZA(),n.TgZ(12,"div",17),n.NdJ("timestampClicked",function(u){return n.CHM(s),n.oxw(2).handleTimestampClicked(u)}),n.qZA(),n.TgZ(13,"div",18),n.TgZ(14,"div",19),n.NdJ("click",function(){return n.CHM(s),n.oxw(2).onWantToReply()}),n.SDv(15,20),n.qZA(),n._UZ(16,"my-user-moderation-dropdown",21),n.qZA(),n.BQk()}if(2&d){const s=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!0===s.highlightedComment),n.xp6(3),n.Q6J("routerLink",n.VKq(15,ut,s.comment.by)),n.xp6(1),n.Q6J("ngClass",n.VKq(17,qt,s.video.account.id===s.comment.account.id)),n.xp6(1),n.hij(" ",s.comment.account.displayName," "),n.xp6(2),n.Oqu(s.comment.by),n.xp6(1),n.Q6J("routerLink",n.WLB(21,Fn,s.video.shortUUID,n.VKq(19,Un,s.comment.threadId)))("title",s.comment.createdAt),n.xp6(1),n.hij(" ",n.lcZ(11,13,s.comment.createdAt)," "),n.xp6(2),n.Q6J("innerHTML",s.sanitizedCommentHTML,n.oJD),n.xp6(4),n.Q6J("prependActions",s.prependModerationActions)("buttonStyled",!1)("account",s.commentAccount)("user",s.commentUser)}}function Di(d,h){if(1&d&&(n.ynx(0),n.TgZ(1,"div",11),n.TgZ(2,"span",12),n.SDv(3,24),n.qZA(),n.TgZ(4,"a",25),n._uU(5),n.ALo(6,"myFromNow"),n.qZA(),n.qZA(),n.TgZ(7,"div",26),n.TgZ(8,"i"),n.SDv(9,27),n.qZA(),n.qZA(),n.BQk()),2&d){const s=n.oxw(2);n.xp6(4),n.Q6J("routerLink",n.WLB(6,Fn,s.video.shortUUID,n.VKq(4,Un,s.comment.threadId))),n.xp6(1),n.Oqu(n.lcZ(6,2,s.comment.createdAt))}}function Jt(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"my-video-comment-add",28),n.NdJ("commentCreated",function(u){return n.CHM(s),n.oxw(2).onCommentReplyCreated(u)})("cancel",function(){return n.CHM(s),n.oxw(2).onResetReply()}),n.qZA()}if(2&d){const s=n.oxw(2);n.Q6J("user",s.user)("video",s.video)("parentComment",s.comment)("parentComments",s.newParentComments)("focusOnInit",!0)("textValue",s.redraftValue)}}function pn(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"my-video-comment",30),n.NdJ("wantedToReply",function(u){return n.CHM(s),n.oxw(3).onWantToReply(u)})("wantedToDelete",function(u){return n.CHM(s),n.oxw(3).onWantToDelete(u)})("wantedToRedraft",function(u){return n.CHM(s),n.oxw(3).onWantToRedraft(u)})("resetReply",function(){return n.CHM(s),n.oxw(3).onResetReply()})("timestampClicked",function(u){return n.CHM(s),n.oxw(3).handleTimestampClicked(u)}),n.qZA(),n.qZA()}if(2&d){const s=h.$implicit,c=n.oxw(3);n.xp6(1),n.Q6J("comment",s.comment)("video",c.video)("inReplyToCommentId",c.inReplyToCommentId)("commentTree",s)("parentComments",c.newParentComments)("redraftValue",c.redraftValue)}}function Ni(d,h){if(1&d&&(n.TgZ(0,"div"),n.YNc(1,pn,2,6,"div",29),n.qZA()),2&d){const s=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",s.commentTree.children)}}const Ri=function(d){return{"is-child":d}},Nt=function(d){return{"mb-3":d}};function Qt(d,h){if(1&d&&(n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.YNc(2,Bn,1,2,"my-actor-avatar",4),n._UZ(3,"div",5),n.qZA(),n.TgZ(4,"div",6),n.TgZ(5,"div",7),n.YNc(6,dt,17,24,"ng-container",1),n.YNc(7,Di,10,9,"ng-container",1),n.YNc(8,Jt,1,6,"my-video-comment-add",8),n.YNc(9,Ni,2,1,"div",1),n.Hsn(10),n.qZA(),n.qZA(),n.qZA()),2&d){const s=n.oxw();n.Q6J("ngClass",n.VKq(7,Ri,s.isChild())),n.xp6(2),n.Q6J("ngIf",!s.comment.isDeleted),n.xp6(2),n.Q6J("ngClass",n.VKq(9,Nt,s.firstInThread)),n.xp6(2),n.Q6J("ngIf",!s.comment.isDeleted),n.xp6(1),n.Q6J("ngIf",s.comment.isDeleted),n.xp6(1),n.Q6J("ngIf",!s.comment.isDeleted&&s.inReplyToCommentId===s.comment.id),n.xp6(1),n.Q6J("ngIf",s.commentTree)}}function fn(d,h){if(1&d&&(n.ynx(0),n._UZ(1,"my-comment-report",31,32),n.BQk()),2&d){const s=n.oxw();n.xp6(1),n.Q6J("comment",s.comment)}}const Vi=["*"];let zn=(()=>{class d{constructor(s,c,u,p){this.markdownService=s,this.authService=c,this.userService=u,this.notifier=p,this.parentComments=[],this.highlightedComment=!1,this.firstInThread=!1,this.wantedToReply=new n.vpe,this.wantedToDelete=new n.vpe,this.wantedToRedraft=new n.vpe,this.threadCreated=new n.vpe,this.resetReply=new n.vpe,this.timestampClicked=new n.vpe,this.sanitizedCommentHTML="",this.newParentComments=[]}get user(){return this.authService.getUser()}ngOnInit(){this.init()}ngOnChanges(){this.init()}onCommentReplyCreated(s){this.commentTree||(this.commentTree={comment:this.comment,hasDisplayedChildren:!1,children:[]},this.threadCreated.emit(this.commentTree)),this.commentTree.children.unshift({comment:s,hasDisplayedChildren:!1,children:[]}),this.resetReply.emit(),this.redraftValue=void 0}onWantToReply(s){this.wantedToReply.emit(s||this.comment)}onWantToDelete(s){this.wantedToDelete.emit(s||this.comment)}onWantToRedraft(s){this.wantedToRedraft.emit(s||this.comment)}isUserLoggedIn(){return this.authService.isLoggedIn()}onResetReply(){this.resetReply.emit()}handleTimestampClicked(s){this.timestampClicked.emit(s)}isRemovableByUser(){return this.comment.account&&this.isUserLoggedIn()&&(this.user.account.id===this.comment.account.id||this.user.account.id===this.video.account.id||this.user.hasRight(16))}isRedraftableByUser(){return this.comment.account&&this.isUserLoggedIn()&&this.user.account.id===this.comment.account.id&&0===this.comment.totalReplies}isReportableByUser(){return this.comment.account&&this.isUserLoggedIn()&&!1===this.comment.isDeleted&&this.user.account.id!==this.comment.account.id}isCommentDisplayed(){var s;return!this.comment.isDeleted||0!==this.comment.totalReplies||(null===(s=this.commentTree)||void 0===s?void 0:s.hasDisplayedChildren)}isChild(){return 0!==this.parentComments.length}getUserIfNeeded(s){s.userId&&this.authService.isLoggedIn()&&this.authService.getUser().hasRight(1)&&this.userService.getUserWithCache(s.userId).subscribe({next:u=>this.commentUser=u,error:u=>this.notifier.error(u.message)})}init(){return(0,Ue.mG)(this,void 0,void 0,function*(){const s=this.comment.text.replace(/<br.?\/?>/g,"\r\n"),c=yield this.markdownService.textMarkdownToHTML(s,!0,!0);this.sanitizedCommentHTML=this.markdownService.processVideoTimestamps(this.video.shortUUID,c),this.newParentComments=this.parentComments.concat([this.comment]),this.comment.account?(this.commentAccount=new I.mR(this.comment.account),this.getUserIfNeeded(this.commentAccount)):this.comment.account=null,this.prependModerationActions=[],this.isReportableByUser()&&this.prependModerationActions.push({label:"Report this comment",iconName:"flag",handler:()=>this.showReportModal()}),this.isRemovableByUser()&&this.prependModerationActions.push({label:"Remove",iconName:"delete",handler:()=>this.onWantToDelete()}),this.isRedraftableByUser()&&this.prependModerationActions.push({label:"Remove & re-draft",iconName:"edit",handler:()=>this.onWantToRedraft()}),0===this.prependModerationActions.length&&(this.prependModerationActions=void 0)})}showReportModal(){this.commentReportModal.show()}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(L.Zy),n.Y36(Dt.e8),n.Y36(L.KD),n.Y36(L.d4))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-comment"]],viewQuery:function(s,c){if(1&s&&n.Gf(xt,5),2&s){let u;n.iGM(u=n.CRH())&&(c.commentReportModal=u.first)}},inputs:{video:"video",comment:"comment",parentComments:"parentComments",commentTree:"commentTree",inReplyToCommentId:"inReplyToCommentId",highlightedComment:"highlightedComment",firstInThread:"firstInThread",redraftValue:"redraftValue"},outputs:{wantedToReply:"wantedToReply",wantedToDelete:"wantedToDelete",wantedToRedraft:"wantedToRedraft",threadCreated:"threadCreated",resetReply:"resetReply",timestampClicked:"timestampClicked"},features:[n.TTD],ngContentSelectors:Vi,decls:2,vars:2,consts:function(){let h,s,c,u,p;return h="Reply",s="Opcions",c="Comentari notable",u="Suprimida",p="Aqueste comentari es estat escafat",[["class","root-comment",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"root-comment",3,"ngClass"],[1,"left"],[3,"href","account",4,"ngIf"],[1,"vertical-border"],[1,"right",3,"ngClass"],[1,"comment"],[3,"user","video","parentComment","parentComments","focusOnInit","textValue","commentCreated","cancel",4,"ngIf"],[3,"href","account"],["class","highlighted-comment",4,"ngIf"],[1,"comment-account-date"],[1,"comment-account"],[3,"routerLink"],[1,"comment-account-name",3,"ngClass"],[1,"comment-account-fid","ml-1"],[1,"comment-date",3,"routerLink","title"],["myTimestampRouteTransformer","",1,"comment-html",3,"innerHTML","timestampClicked"],[1,"comment-actions"],["tabindex","0",1,"comment-action-reply",3,"click"],h,["tabindex","0","buttonSize","small","label",s,"placement","bottom-left auto",3,"prependActions","buttonStyled","account","user"],[1,"highlighted-comment"],c,u,[1,"comment-date",3,"routerLink"],[1,"comment-html","comment-html-deleted"],p,[3,"user","video","parentComment","parentComments","focusOnInit","textValue","commentCreated","cancel"],[4,"ngFor","ngForOf"],[3,"comment","video","inReplyToCommentId","commentTree","parentComments","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","resetReply","timestampClicked"],[3,"comment"],["commentReportModal",""]]},template:function(s,c){1&s&&(n.F$t(),n.YNc(0,Qt,11,11,"div",0),n.YNc(1,fn,3,1,"ng-container",1)),2&s&&(n.Q6J("ngIf",c.isCommentDisplayed()),n.xp6(1),n.Q6J("ngIf",c.prependModerationActions))},directives:[k.O5,k.mk,et.b,$e.yS,jt,Ii.a,Ln,k.sg,d,wi.J],pipes:[Ie.d],styles:[".root-comment[_ngcontent-%COMP%]{font-size:15px;display:flex}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}@supports (margin-inline-end: 10px){.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:10px}}.root-comment[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{width:2px;height:100%;background-color:#0000000d;margin:10px calc(1rem + 1px)}.root-comment[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:36px;height:36px;min-width:36px;min-height:36px}.comment[_ngcontent-%COMP%]{flex-grow:1;min-width:1px}.highlighted-comment[_ngcontent-%COMP%]{display:inline-block;background-color:#f5f5f5;color:#3d3d3d;padding:0 5px;font-size:13px;margin-bottom:5px;font-weight:600;border-radius:3px}.comment-account-date[_ngcontent-%COMP%]{display:flex;margin-bottom:4px}.video-author[_ngcontent-%COMP%]{height:20px;background-color:#888;border-radius:12px;margin-bottom:2px;max-width:100%;box-sizing:border-box;flex-direction:row;align-items:center;display:inline-flex;color:#fff!important}@supports (padding-inline-end: 6px){.video-author[_ngcontent-%COMP%]{padding-inline-end:6px}}@supports not (padding-inline-end: 6px){.video-author[_ngcontent-%COMP%]{padding-right:6px}}@supports (padding-inline-start: 6px){.video-author[_ngcontent-%COMP%]{padding-inline-start:6px}}@supports not (padding-inline-start: 6px){.video-author[_ngcontent-%COMP%]{padding-left:6px}}.comment-account[_ngcontent-%COMP%]{word-break:break-all;font-weight:600;font-size:90%}.comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.comment-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.comment-account[_ngcontent-%COMP%]   .comment-account-fid[_ngcontent-%COMP%]{opacity:.6}.comment-date[_ngcontent-%COMP%]{font-size:90%;color:var(--greyForegroundColor);text-decoration:none}@supports (margin-inline-start: 5px){.comment-date[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.comment-date[_ngcontent-%COMP%]{margin-left:5px}}.comment-date[_ngcontent-%COMP%]:hover{text-decoration:underline}.comment-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.comment-html[_ngcontent-%COMP%]     a:not(.linkified-url){color:var(--mainForegroundColor);font-weight:600}.comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):hover, .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):focus, .comment-html[_ngcontent-%COMP%]     a:not(.linkified-url):active{text-decoration:none!important;outline:none!important}.comment-html[_ngcontent-%COMP%]     p{margin-bottom:.3rem}.comment-html.comment-html-deleted[_ngcontent-%COMP%]{color:var(--greyForegroundColor);margin-bottom:1rem}.comment-actions[_ngcontent-%COMP%]{margin-bottom:10px;display:flex}.comment-actions[_ngcontent-%COMP%]     .dropdown-toggle, .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]{color:var(--greyForegroundColor);cursor:pointer}@supports (margin-inline-end: 10px){.comment-actions[_ngcontent-%COMP%]     .dropdown-toggle, .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.comment-actions[_ngcontent-%COMP%]     .dropdown-toggle, .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]{margin-right:10px}}.comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:hover, .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:active, .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:focus, .comment-actions[_ngcontent-%COMP%]     .dropdown-toggle:focus-visible, .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:hover, .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:active, .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:focus, .comment-actions[_ngcontent-%COMP%]   .comment-action-reply[_ngcontent-%COMP%]:focus-visible{color:var(--mainForegroundColor)}.comment-actions[_ngcontent-%COMP%]     .action-button{background-color:transparent;padding:0;font-weight:unset}my-video-comment-add[_ngcontent-%COMP%]     form{margin-top:1rem;margin-bottom:0}.is-child[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px;min-width:25px;min-height:25px}@supports (margin-inline-end: 6px){.is-child[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-inline-end:6px}}@supports not (margin-inline-end: 6px){.is-child[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:6px}}@media screen and (max-width: 1200px){@supports (margin-inline-start: -10px){.children[_ngcontent-%COMP%]{margin-inline-start:-10px}}@supports not (margin-inline-start: -10px){.children[_ngcontent-%COMP%]{margin-left:-10px}}}@media screen and (max-width: 600px){@supports (margin-inline-start: -20px){.children[_ngcontent-%COMP%]{margin-inline-start:-20px}}@supports not (margin-inline-start: -20px){.children[_ngcontent-%COMP%]{margin-left:-20px}}.children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{align-items:flex-start}@supports (margin-inline-start: 2px){.children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{margin-inline-start:2px}}@supports not (margin-inline-start: 2px){.children[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .vertical-border[_ngcontent-%COMP%]{margin-left:2px}}.comment-account-date[_ngcontent-%COMP%]{flex-direction:column}@supports (margin-inline-start: 0){.comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{margin-inline-start:0}}@supports not (margin-inline-start: 0){.comment-account-date[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{margin-left:0}}}"]}),d})();var Li=E(64033),vn=E(68099),Hi=E(34261),Ot=E(66717),ht=E(13416);const Bi=["commentHighlightBlock"];function Ui(d,h){1&d&&(n.TgZ(0,"div"),n.SDv(1,19),n.qZA())}function Fi(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"my-video-comment",20),n.NdJ("wantedToReply",function(u){return n.CHM(s),n.oxw(2).onWantedToReply(u)})("wantedToDelete",function(u){return n.CHM(s),n.oxw(2).onWantedToDelete(u)})("wantedToRedraft",function(u){return n.CHM(s),n.oxw(2).onWantedToRedraft(u)})("threadCreated",function(u){return n.CHM(s),n.oxw(2).onThreadCreated(u)})("resetReply",function(){return n.CHM(s),n.oxw(2).onResetReply()})("timestampClicked",function(u){return n.CHM(s),n.oxw(2).handleTimestampClicked(u)}),n.qZA()}if(2&d){const s=n.oxw(2);n.Q6J("comment",s.highlightedThread)("video",s.video)("inReplyToCommentId",s.inReplyToCommentId)("commentTree",s.threadComments[s.highlightedThread.id])("highlightedComment",!0)("firstInThread",!0)("redraftValue",s.commentReplyRedraftValue)}}function $n(d,h){1&d&&n.GkF(0)}function Yo(d,h){if(1&d&&(n.ynx(0),n.SDv(1,32),n.BQk()),2&d){const s=n.oxw(4).$implicit,c=n.oxw(2);n.xp6(1),n.pQV(s.totalReplies)(s.totalReplies)((null==c.video||null==c.video.account?null:c.video.account.displayName)||"the author"),n.QtT(1)}}function Zn(d,h){if(1&d&&n.SDv(0,33),2&d){const s=n.oxw(4).$implicit,c=n.oxw(2);n.pQV(s.totalReplies)(s.totalReplies)((null==c.video||null==c.video.account?null:c.video.account.displayName)||"the author"),n.QtT(0)}}function Wn(d,h){if(1&d&&(n.YNc(0,Yo,2,3,"ng-container",30),n.YNc(1,Zn,1,3,"ng-template",null,31,n.W1O)),2&d){const s=n.MAs(2),c=n.oxw(3).$implicit;n.Q6J("ngIf",c.totalReplies!==c.totalRepliesFromVideoAuthor)("ngIfElse",s)}}function zi(d,h){if(1&d&&n.SDv(0,34),2&d){const s=n.oxw(3).$implicit;n.pQV(s.totalReplies)(s.totalReplies),n.QtT(0)}}function $i(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",24),n.NdJ("click",function(){n.CHM(s);const u=n.oxw(2).$implicit;return n.oxw(2).viewReplies(u.id)}),n._UZ(1,"span",25),n.YNc(2,$n,1,0,"ng-container",26),n.YNc(3,Wn,3,2,"ng-template",null,27,n.W1O),n.YNc(5,zi,1,2,"ng-template",null,28,n.W1O),n._UZ(7,"my-small-loader",29),n.qZA()}if(2&d){const s=n.MAs(4),c=n.MAs(6),u=n.oxw(2).$implicit,p=n.oxw(2);n.xp6(2),n.Q6J("ngIf",u.totalRepliesFromVideoAuthor>0)("ngIfThen",s)("ngIfElse",c),n.xp6(5),n.Q6J("loading",p.threadLoading[u.id])}}function Ko(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"my-video-comment",22),n.NdJ("wantedToReply",function(u){return n.CHM(s),n.oxw(3).onWantedToReply(u)})("wantedToDelete",function(u){return n.CHM(s),n.oxw(3).onWantedToDelete(u)})("wantedToRedraft",function(u){return n.CHM(s),n.oxw(3).onWantedToRedraft(u)})("threadCreated",function(u){return n.CHM(s),n.oxw(3).onThreadCreated(u)})("resetReply",function(){return n.CHM(s),n.oxw(3).onResetReply()})("timestampClicked",function(u){return n.CHM(s),n.oxw(3).handleTimestampClicked(u)}),n.YNc(1,$i,8,4,"div",23),n.qZA()}if(2&d){const s=n.oxw(),c=s.$implicit,u=s.index,p=n.oxw(2);n.Q6J("comment",c)("video",p.video)("inReplyToCommentId",p.inReplyToCommentId)("commentTree",p.threadComments[c.id])("firstInThread",u+1!==p.comments.length)("redraftValue",p.commentReplyRedraftValue),n.xp6(1),n.Q6J("ngIf",0!==c.totalReplies&&!p.threadComments[c.id])}}function Go(d,h){if(1&d&&(n.TgZ(0,"div"),n.YNc(1,Ko,2,7,"my-video-comment",21),n.qZA()),2&d){const s=h.$implicit,c=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!c.highlightedThread||s.id!==c.highlightedThread.id)}}function bt(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"my-video-comment-add",13),n.NdJ("commentCreated",function(u){return n.CHM(s),n.oxw().onCommentThreadCreated(u)}),n.qZA(),n.YNc(1,Ui,2,0,"div",12),n.TgZ(2,"div",14),n.NdJ("nearOfBottom",function(){return n.CHM(s),n.oxw().onNearOfBottom()}),n.TgZ(3,"div"),n._UZ(4,"div",15,16),n.YNc(6,Fi,1,7,"my-video-comment",17),n.qZA(),n.YNc(7,Go,2,1,"div",18),n.qZA()}if(2&d){const s=n.oxw();n.Q6J("video",s.video)("user",s.user)("textValue",s.commentThreadRedraftValue),n.xp6(1),n.Q6J("ngIf",0===s.totalNotDeletedComments&&0===s.comments.length),n.xp6(1),n.Q6J("dataObservable",s.onDataSubject.asObservable()),n.xp6(4),n.Q6J("ngIf",s.highlightedThread),n.xp6(1),n.Q6J("ngForOf",s.comments)}}function Zi(d,h){1&d&&(n.TgZ(0,"div"),n.SDv(1,35),n.qZA())}let We=(()=>{class d{constructor(s,c,u,p,y,O){this.authService=s,this.notifier=c,this.confirmService=u,this.videoCommentService=p,this.activatedRoute=y,this.hooks=O,this.timestampClicked=new n.vpe,this.comments=[],this.sort="-createdAt",this.componentPagination={currentPage:1,itemsPerPage:10,totalItems:null},this.threadComments={},this.threadLoading={},this.syndicationItems=[],this.onDataSubject=new Li.x}ngOnInit(){this.sub=this.activatedRoute.params.subscribe(s=>{s.threadId&&this.processHighlightedThread(+s.threadId)})}ngOnChanges(s){s.video&&this.resetVideo()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}viewReplies(s,c=!1){this.threadLoading[s]=!0;const u={videoId:this.video.id,threadId:s};this.hooks.wrapObsFun(this.videoCommentService.getVideoThreadComments.bind(this.videoCommentService),u,"video-watch","filter:api.video-watch.video-thread-replies.list.params","filter:api.video-watch.video-thread-replies.list.result").subscribe({next:y=>{this.threadComments[s]=y,this.threadLoading[s]=!1,this.hooks.runAction("action:video-watch.video-thread-replies.loaded","video-watch",{data:y}),c&&(this.highlightedThread=new he.ly(y.comment),setTimeout(()=>this.commentHighlightBlock.nativeElement.scrollIntoView(),0))},error:y=>this.notifier.error(y.message)})}loadMoreThreads(){const s={videoId:this.video.id,componentPagination:this.componentPagination,sort:this.sort};this.hooks.wrapObsFun(this.videoCommentService.getVideoCommentThreads.bind(this.videoCommentService),s,"video-watch","filter:api.video-watch.video-threads.list.params","filter:api.video-watch.video-threads.list.result").subscribe({next:u=>{this.comments=this.comments.concat(u.data),this.componentPagination.totalItems=u.total,this.totalNotDeletedComments=u.totalNotDeletedComments,this.onDataSubject.next(u.data),this.hooks.runAction("action:video-watch.video-threads.loaded","video-watch",{data:this.componentPagination})},error:u=>this.notifier.error(u.message)})}onCommentThreadCreated(s){this.comments.unshift(s),this.commentThreadRedraftValue=void 0}onWantedToReply(s){this.inReplyToCommentId=s.id}onResetReply(){this.inReplyToCommentId=void 0,this.commentReplyRedraftValue=void 0}onThreadCreated(s){this.viewReplies(s.comment.id)}handleSortChange(s){this.sort!==s&&(this.sort=s,this.resetVideo())}handleTimestampClicked(s){this.timestampClicked.emit(s)}onWantedToDelete(s,c="Suprimir",u="Do you really want to delete this comment?"){return(0,Ue.mG)(this,void 0,void 0,function*(){return u+=s.isLocal||this.video.isLocal?" The deletion will be sent to remote instances so they can reflect the change.":" It is a remote comment, so the deletion will only be effective on your instance.",!1!==(yield this.confirmService.confirm(u,c))&&(this.videoCommentService.deleteVideoComment(s.videoId,s.id).subscribe({next:()=>{var y;(null===(y=this.highlightedThread)||void 0===y?void 0:y.id)===s.id&&(s=this.comments.find(O=>O.id===s.id),this.highlightedThread=void 0),this.softDeleteComment(s)},error:y=>this.notifier.error(y.message)}),!0)})}onWantedToRedraft(s){return(0,Ue.mG)(this,void 0,void 0,function*(){if(yield this.onWantedToDelete(s,"Delete and re-draft","Do you really want to delete and re-draft this comment?")){this.inReplyToCommentId=s.inReplyToCommentId;const u=s.text.replace(/<br.?\/?>/g,"\r\n");s.threadId===s.id?this.commentThreadRedraftValue=u:this.commentReplyRedraftValue=u}})}isUserLoggedIn(){return this.authService.isLoggedIn()}onNearOfBottom(){(0,L._T)(this.componentPagination)&&(this.componentPagination.currentPage++,this.loadMoreThreads())}softDeleteComment(s){s.isDeleted=!0,s.deletedAt=new Date,s.text="",s.account=null}resetVideo(){!0===this.video.commentsEnabled&&(this.highlightedThread=null,this.comments=[],this.threadComments={},this.threadLoading={},this.inReplyToCommentId=void 0,this.componentPagination.currentPage=1,this.componentPagination.totalItems=null,this.totalNotDeletedComments=null,this.syndicationItems=this.videoCommentService.getVideoCommentsFeeds(this.video),this.loadMoreThreads())}processHighlightedThread(s){this.highlightedThread=this.comments.find(u=>u.id===s),this.viewReplies(s,!0)}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(L.e8),n.Y36(L.d4),n.Y36(L.zM),n.Y36(he.L5),n.Y36($e.gz),n.Y36(vn.n))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-comments"]],viewQuery:function(s,c){if(1&s&&n.Gf(Bi,5),2&s){let u;n.iGM(u=n.CRH())&&(c.commentHighlightBlock=u.first)}},inputs:{video:"video",user:"user"},outputs:{timestampClicked:"timestampClicked"},features:[n.TTD],decls:17,vars:5,consts:function(){let h,s,c,u,p,y,O,M,V,Q,J,_e;return h="{VAR_PLURAL, plural, =0 {Comments} =1 {1 Comment} other {{INTERPOLATION} Comments}}",h=n.Zx4(h,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),s="TRIAR PER",c="Most recent first (default)",u="Most replies first",p="Cap de comentari.",y="{VAR_PLURAL, plural, =1 {1 reply} other {{INTERPOLATION} replies}}",y=n.Zx4(y,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),O=" View " + y + " from " + "\ufffd2\ufffd" + " and others ",M="{VAR_PLURAL, plural, =1 {1 reply} other {{INTERPOLATION} replies}}",M=n.Zx4(M,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),V=" View " + M + " from " + "\ufffd2\ufffd" + " ",Q="{VAR_PLURAL, plural, =1 {1 reply} other {{INTERPOLATION} replies}}",Q=n.Zx4(Q,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),J="View " + Q + "",_e="\n    Los comentaris son desactivats.\n  ",[[1,"title-block"],[1,"title-page","title-page-single"],h,[3,"syndicationItems"],["ngbDropdown","",1,"d-inline-block","ml-4","dropdown-root"],["id","dropdown-sort-comments","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-secondary"],s,["ngbDropdownMenu","","aria-labelledby","dropdown-sort-comments"],["ngbDropdownItem","",3,"click"],c,u,[3,"ngIf"],[4,"ngIf"],[3,"video","user","textValue","commentCreated"],["myInfiniteScroller","",1,"comment-threads",3,"dataObservable","nearOfBottom"],["id","highlighted-comment",1,"anchor"],["commentHighlightBlock",""],[3,"comment","video","inReplyToCommentId","commentTree","highlightedComment","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked",4,"ngIf"],[4,"ngFor","ngForOf"],p,[3,"comment","video","inReplyToCommentId","commentTree","highlightedComment","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked"],[3,"comment","video","inReplyToCommentId","commentTree","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked",4,"ngIf"],[3,"comment","video","inReplyToCommentId","commentTree","firstInThread","redraftValue","wantedToReply","wantedToDelete","wantedToRedraft","threadCreated","resetReply","timestampClicked"],["class","view-replies mb-2",3,"click",4,"ngIf"],[1,"view-replies","mb-2",3,"click"],[1,"glyphicon","glyphicon-menu-down"],[4,"ngIf","ngIfThen","ngIfElse"],["hasAuthorComments",""],["noAuthorComments",""],[1,"comment-thread-loading","ml-1",3,"loading"],[4,"ngIf","ngIfElse"],["onlyAuthorComments",""],O,V,J,_e]},template:function(s,c){1&s&&(n.TgZ(0,"div"),n.TgZ(1,"div",0),n.TgZ(2,"h2",1),n._uU(3," "),n.SDv(4,2),n._uU(5," "),n.qZA(),n._UZ(6,"my-feed",3),n.TgZ(7,"div",4),n.TgZ(8,"button",5),n.SDv(9,6),n.qZA(),n.TgZ(10,"div",7),n.TgZ(11,"button",8),n.NdJ("click",function(){return c.handleSortChange("-createdAt")}),n.SDv(12,9),n.qZA(),n.TgZ(13,"button",8),n.NdJ("click",function(){return c.handleSortChange("-totalReplies")}),n.SDv(14,10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(15,bt,8,7,"ng-template",11),n.YNc(16,Zi,2,0,"div",12),n.qZA()),2&s&&(n.xp6(4),n.pQV(c.totalNotDeletedComments)(c.totalNotDeletedComments),n.QtT(4),n.xp6(2),n.Q6J("syndicationItems",c.syndicationItems),n.xp6(9),n.Q6J("ngIf",!0===c.video.commentsEnabled),n.xp6(1),n.Q6J("ngIf",!1===c.video.commentsEnabled))},directives:[Hi.e,j.jt,j.iD,j.Vi,j.TH,k.O5,Ln,Ot.A,k.sg,zn,ht.k],styles:["#highlighted-comment[_ngcontent-%COMP%]{margin-bottom:25px}.view-replies[_ngcontent-%COMP%]{font-weight:600;font-size:15px;cursor:pointer}.glyphicon[_ngcontent-%COMP%], .comment-thread-loading[_ngcontent-%COMP%]{display:inline-block;font-size:13px}@supports (margin-inline-end: 5px){.glyphicon[_ngcontent-%COMP%], .comment-thread-loading[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.glyphicon[_ngcontent-%COMP%], .comment-thread-loading[_ngcontent-%COMP%]{margin-right:5px}}@supports (margin-inline-end: 0){.title-block[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-inline-end:0}}@supports not (margin-inline-end: 0){.title-block[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{margin-right:0}}.title-block[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{display:inline-block;opacity:0;transition:ease-in .2s opacity;width:12px;position:relative;top:-3px}@supports (margin-inline-start: 5px){.title-block[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.title-block[_ngcontent-%COMP%]   my-feed[_ngcontent-%COMP%]{margin-left:5px}}.title-block[_ngcontent-%COMP%]:hover   my-feed[_ngcontent-%COMP%]{opacity:1}#dropdown-sort-comments[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;border:0;transform:translateY(-7%)}@media screen and (max-width: 600px){@supports (margin-inline-start: 46px){.view-replies[_ngcontent-%COMP%]{margin-inline-start:46px}}@supports not (margin-inline-start: 46px){.view-replies[_ngcontent-%COMP%]{margin-left:46px}}}@media screen and (max-width: 450px){.view-replies[_ngcontent-%COMP%]{font-size:14px}}"]}),d})();var Rt=E(8931),Re=E(54187),Pe=E(3782);function mn(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",1),n.TgZ(1,"div",2),n.TgZ(2,"span",3),n.TgZ(3,"strong"),n.SDv(4,4),n.qZA(),n.ynx(5),n.SDv(6,5),n.BQk(),n.qZA(),n.TgZ(7,"a",6),n.SDv(8,7),n.qZA(),n.qZA(),n.TgZ(9,"div",8),n.NdJ("click",function(){return n.CHM(s),n.oxw().acceptedPrivacyConcern()}),n.SDv(10,9),n.qZA(),n.qZA()}}let qo=(()=>{class d{constructor(s){this.serverService=s,this.hasAlreadyAcceptedPrivacyConcern=!1}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),((0,Pe._G)()||!1===this.serverConfig.tracker.enabled||!1===(0,Re.H2)()||"true"===Rt.X.getItem(d.LOCAL_STORAGE_PRIVACY_CONCERN_KEY))&&(this.hasAlreadyAcceptedPrivacyConcern=!0)}declinedPrivacyConcern(){Rt.X.setItem(d.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"false"),this.hasAlreadyAcceptedPrivacyConcern=!1}acceptedPrivacyConcern(){Rt.X.setItem(d.LOCAL_STORAGE_PRIVACY_CONCERN_KEY,"true"),this.hasAlreadyAcceptedPrivacyConcern=!0}}return d.LOCAL_STORAGE_PRIVACY_CONCERN_KEY="video-watch-privacy-concern",d.\u0275fac=function(s){return new(s||d)(n.Y36(L.NG))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-privacy-concerns"]],decls:1,vars:1,consts:function(){let h,s,c,u,p;return h="Rec\xF2rd amist\xF3s\u202F:",s="\n          the sharing system used for this video implies that some technical information about your system (such as a public IP address) can be sent to other peers.\n        ",c="Obt\xE9ner mai d\u2019informacions",u="Mai d\u2019informacions",p="D\u2019ac\xF2rdi",[["class","privacy-concerns",4,"ngIf"],[1,"privacy-concerns"],[1,"privacy-concerns-text"],[1,"mr-2"],h,s,["title",c,"target","_blank","rel","noopener noreferrer","href","/about/peertube#privacy"],u,[1,"privacy-concerns-button","privacy-concerns-okay",3,"click"],p]},template:function(s,c){1&s&&n.YNc(0,mn,11,0,"div",0),2&s&&n.Q6J("ngIf",!1===c.hasAlreadyAcceptedPrivacyConcern)},directives:[k.O5],styles:[".privacy-concerns[_ngcontent-%COMP%]{position:fixed;bottom:0;width:calc(100% - 240px);z-index:17500;padding:5px 15px;display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;background-color:#000000e6;color:#fff}.expanded[_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%], .expanded   [_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%]{width:100%}.menu-open[_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%], .menu-open   [_nghost-%COMP%]   .privacy-concerns[_ngcontent-%COMP%]{z-index:12549}@media screen and (max-width: 800px){.privacy-concerns[_ngcontent-%COMP%]{width:100%}}.privacy-concerns-text[_ngcontent-%COMP%]{margin:0 5px}a[_ngcontent-%COMP%]{color:var(--mainColor);transition:color .3s}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%]:hover{color:#fff}.privacy-concerns-button[_ngcontent-%COMP%]{padding:5px 8px 5px 7px;border-radius:3px;white-space:nowrap;cursor:pointer;transition:background-color .3s;font-weight:600}@supports (margin-inline-start: auto){.privacy-concerns-button[_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){.privacy-concerns-button[_ngcontent-%COMP%]{margin-left:auto}}.privacy-concerns-button[_ngcontent-%COMP%]:hover{background-color:#000}.privacy-concerns-okay[_ngcontent-%COMP%]{background-color:var(--mainColor)}@supports (margin-inline-start: 10px){.privacy-concerns-okay[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.privacy-concerns-okay[_ngcontent-%COMP%]{margin-left:10px}}@media screen and (max-width: 1300px){.privacy-concerns[_ngcontent-%COMP%]{font-size:12px;padding:2px 5px}.privacy-concerns-text[_ngcontent-%COMP%]{margin:0}}"]}),d})();var Jo=E(95619);const Qe=function(d){return{host:d}};function ze(d,h){if(1&d&&(n.TgZ(0,"div",0),n.TgZ(1,"span",1),n.SDv(2,13),n.qZA(),n.TgZ(3,"a",14),n._uU(4),n.qZA(),n._UZ(5,"a",15),n.qZA()),2&d){const s=n.oxw();n.xp6(3),n.Q6J("queryParams",n.VKq(3,Qe,s.getVideoHost())),n.xp6(1),n.Oqu(s.video.originInstanceHost),n.xp6(1),n.Q6J("href",s.getVideoUrl(),n.LSH)}}function Vt(d,h){if(1&d&&(n.TgZ(0,"div",0),n.TgZ(1,"span",1),n.SDv(2,16),n.qZA(),n.TgZ(3,"span",3),n._uU(4),n.ALo(5,"date"),n.qZA(),n.qZA()),2&d){const s=n.oxw();n.xp6(4),n.Oqu(n.xi3(5,1,s.video.originallyPublishedAt,"dd MMMM yyyy"))}}function gn(d,h){if(1&d&&(n.TgZ(0,"span",3),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.xp6(1),n.Oqu(s.video.category.label)}}const Xt=function(){return["/search"]},yn=function(d){return[d]},rt=function(d){return{categoryOneOf:d}};function Ae(d,h){if(1&d&&(n.TgZ(0,"a",17),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.Q6J("routerLink",n.DdM(3,Xt))("queryParams",n.VKq(6,rt,n.VKq(4,yn,s.video.category.id))),n.xp6(1),n.Oqu(s.video.category.label)}}function _t(d,h){if(1&d&&(n.TgZ(0,"span",3),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.xp6(1),n.Oqu(s.video.licence.label)}}const Qo=function(d){return{licenceOneOf:d}};function He(d,h){if(1&d&&(n.TgZ(0,"a",17),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.Q6J("routerLink",n.DdM(3,Xt))("queryParams",n.VKq(6,Qo,n.VKq(4,yn,s.video.licence.id))),n.xp6(1),n.Oqu(s.video.licence.label)}}function en(d,h){if(1&d&&(n.TgZ(0,"span",3),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.xp6(1),n.Oqu(s.video.language.label)}}const bn=function(d){return{languageOneOf:d}};function pt(d,h){if(1&d&&(n.TgZ(0,"a",17),n._uU(1),n.qZA()),2&d){const s=n.oxw();n.Q6J("routerLink",n.DdM(3,Xt))("queryParams",n.VKq(6,bn,n.VKq(4,yn,s.video.language.id))),n.xp6(1),n.Oqu(s.video.language.label)}}const Xo=function(d){return{tagsOneOf:d}};function Yn(d,h){if(1&d&&(n.TgZ(0,"a",17),n._uU(1),n.qZA()),2&d){const s=h.$implicit;n.Q6J("routerLink",n.DdM(3,Xt))("queryParams",n.VKq(6,Xo,n.VKq(4,yn,s))),n.xp6(1),n.Oqu(s)}}function Tn(d,h){if(1&d&&(n.TgZ(0,"div",0),n.TgZ(1,"span",1),n.SDv(2,18),n.qZA(),n.TgZ(3,"span",3),n._uU(4),n.ALo(5,"myDurationFormatter"),n.qZA(),n.qZA()),2&d){const s=n.oxw();n.xp6(4),n.Oqu(n.lcZ(5,1,s.video.duration))}}let Wi=(()=>{class d{getVideoUrl(){return this.video.url?this.video.url:this.video.originInstanceUrl+I.Ev.buildWatchUrl(this.video)}getVideoHost(){return this.video.channel.host}getVideoTags(){return this.video&&!1!==Array.isArray(this.video.tags)?this.video.tags:[]}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-attributes"]],inputs:{video:"video"},decls:27,vars:11,consts:function(){let h,s,c,u,p,y,O,M,V;return h="Confidencialitat",s="Categoria",c="Lic\xE9ncia",u="Lenga",p="Etiquetas",y="Origin",O="Open the video on the origin instance",M="Prima publicacion",V="Durada",[[1,"attribute"],[1,"attribute-label"],h,[1,"attribute-value"],["class","attribute",4,"ngIf"],s,["class","attribute-value",4,"ngIf"],["class","attribute-value",3,"routerLink","queryParams",4,"ngIf"],c,u,[1,"attribute","attribute-tags"],p,["class","attribute-value",3,"routerLink","queryParams",4,"ngFor","ngForOf"],y,["target","_blank","rel","noopener noreferrer","routerLink","/search",1,"attribute-value",3,"queryParams"],["title",O,"target","_blank","rel","noopener noreferrer",1,"glyphicon","glyphicon-new-window",3,"href"],M,[1,"attribute-value",3,"routerLink","queryParams"],V]},template:function(s,c){1&s&&(n.TgZ(0,"div",0),n.TgZ(1,"span",1),n.SDv(2,2),n.qZA(),n.TgZ(3,"span",3),n._uU(4),n.qZA(),n.qZA(),n.YNc(5,ze,6,5,"div",4),n.YNc(6,Vt,6,4,"div",4),n.TgZ(7,"div",0),n.TgZ(8,"span",1),n.SDv(9,5),n.qZA(),n.YNc(10,gn,2,1,"span",6),n.YNc(11,Ae,2,8,"a",7),n.qZA(),n.TgZ(12,"div",0),n.TgZ(13,"span",1),n.SDv(14,8),n.qZA(),n.YNc(15,_t,2,1,"span",6),n.YNc(16,He,2,8,"a",7),n.qZA(),n.TgZ(17,"div",0),n.TgZ(18,"span",1),n.SDv(19,9),n.qZA(),n.YNc(20,en,2,1,"span",6),n.YNc(21,pt,2,8,"a",7),n.qZA(),n.TgZ(22,"div",10),n.TgZ(23,"span",1),n.SDv(24,11),n.qZA(),n.YNc(25,Yn,2,8,"a",12),n.qZA(),n.YNc(26,Tn,6,3,"div",4)),2&s&&(n.xp6(4),n.Oqu(c.video.privacy.label),n.xp6(1),n.Q6J("ngIf",!1===c.video.isLocal),n.xp6(1),n.Q6J("ngIf",!!c.video.originallyPublishedAt),n.xp6(4),n.Q6J("ngIf",!c.video.category.id),n.xp6(1),n.Q6J("ngIf",c.video.category.id),n.xp6(4),n.Q6J("ngIf",!c.video.licence.id),n.xp6(1),n.Q6J("ngIf",c.video.licence.id),n.xp6(4),n.Q6J("ngIf",!c.video.language.id),n.xp6(1),n.Q6J("ngIf",c.video.language.id),n.xp6(4),n.Q6J("ngForOf",c.getVideoTags()),n.xp6(1),n.Q6J("ngIf",!c.video.isLive))},directives:[k.O5,k.sg,$e.yS],pipes:[k.uU,Jo.w],styles:['.attribute[_ngcontent-%COMP%]{font-size:13px;display:block;margin-bottom:12px}.attribute-label[_ngcontent-%COMP%]{min-width:142px;display:inline-block;color:var(--greyForegroundColor);font-weight:700}@supports (padding-inline-end: 5px){.attribute-label[_ngcontent-%COMP%]{padding-inline-end:5px}}@supports not (padding-inline-end: 5px){.attribute-label[_ngcontent-%COMP%]{padding-right:5px}}a.attribute-value[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}a.attribute-value[_ngcontent-%COMP%]:hover, a.attribute-value[_ngcontent-%COMP%]:focus, a.attribute-value[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}a.attribute-value[_ngcontent-%COMP%]:hover{opacity:.9}.attribute-tags[_ngcontent-%COMP%]   .attribute-value[_ngcontent-%COMP%]:not(:nth-child(2)):before{content:", "}.glyphicon-new-window[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor);margin-left:5px;font-size:12px}@media screen and (max-width: 1600px){.attributes[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{margin-bottom:5px}}']}),d})();const Yi=function(d){return{"generic-channel":d}},Kn=function(d){return["/c",d]},Mt=function(d){return["/a",d]};let es=(()=>{class d{constructor(){this.channelLinkTitle="",this.accountLinkTitle=""}ngOnInit(){this.channelLinkTitle="\n          " + this.video.account.name + " (channel page)\n        ",this.accountLinkTitle="\n          " + this.video.byAccount + " (account page)\n        "}isChannelAvatarNull(){return null===this.video.channel.avatar}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-avatar-channel"]],inputs:{video:"video",byAccount:"byAccount",genericChannel:"genericChannel"},decls:3,vars:13,consts:[[1,"wrapper",3,"ngClass"],[1,"channel",3,"channel","internalHref","title"],[1,"account",3,"account","internalHref","title"]],template:function(s,c){1&s&&(n.TgZ(0,"div",0),n._UZ(1,"my-actor-avatar",1),n._UZ(2,"my-actor-avatar",2),n.qZA()),2&s&&(n.Q6J("ngClass",n.VKq(7,Yi,c.genericChannel)),n.xp6(1),n.Q6J("channel",c.video.channel)("internalHref",n.VKq(9,Kn,c.video.byVideoChannel))("title",c.channelLinkTitle),n.xp6(1),n.Q6J("account",c.video.account)("internalHref",n.VKq(11,Mt,c.video.byAccount))("title",c.accountLinkTitle))},directives:[k.mk,et.b],styles:[".wrapper[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;min-width:35px;min-height:35px;position:relative;margin-bottom:5px}@supports (margin-inline-end: 5px){.wrapper[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.wrapper[_ngcontent-%COMP%]{margin-right:5px}}.wrapper.generic-channel[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;min-width:35px;min-height:35px}.wrapper.generic-channel[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{display:none!important}.wrapper[_ngcontent-%COMP%]:not(.generic-channel)   .account[_ngcontent-%COMP%]{height:60%;width:60%;position:absolute;bottom:-5px;right:-5px;background-color:#0000}.wrapper[_ngcontent-%COMP%]:not(.generic-channel)   .channel[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;min-width:35px;min-height:35px}"]}),d})();function Gn(d,h){1&d&&n._UZ(0,"span",7)}function ts(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",3),n.NdJ("click",function(){return n.CHM(s),n.oxw().showMoreDescription()}),n.ynx(1),n.SDv(2,4),n.BQk(),n.YNc(3,Gn,1,0,"span",5),n._UZ(4,"my-small-loader",6),n.qZA()}if(2&d){const s=n.oxw();n.xp6(3),n.Q6J("ngIf",!1===s.descriptionLoading),n.xp6(1),n.Q6J("loading",s.descriptionLoading)}}function Ki(d,h){1&d&&n._UZ(0,"span",10)}function En(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",3),n.NdJ("click",function(){return n.CHM(s),n.oxw().showLessDescription()}),n.ynx(1),n.SDv(2,8),n.BQk(),n.YNc(3,Ki,1,0,"span",9),n.qZA()}if(2&d){const s=n.oxw();n.xp6(3),n.Q6J("ngIf",!1===s.descriptionLoading)}}let De=(()=>{class d{constructor(s,c,u){this.videoService=s,this.notifier=c,this.markdownService=u,this.timestampClicked=new n.vpe,this.descriptionLoading=!1,this.completeDescriptionShown=!1,this.videoHTMLDescription=""}ngOnChanges(){this.descriptionLoading=!1,this.completeDescriptionShown=!1,this.completeVideoDescription=void 0,this.setVideoDescriptionHTML()}showMoreDescription(){if(void 0===this.completeVideoDescription)return this.loadCompleteDescription();this.updateVideoDescription(this.completeVideoDescription),this.completeDescriptionShown=!0}showLessDescription(){this.updateVideoDescription(this.shortVideoDescription),this.completeDescriptionShown=!1}loadCompleteDescription(){this.descriptionLoading=!0,this.videoService.loadCompleteDescription(this.video.descriptionPath).subscribe({next:s=>{this.completeDescriptionShown=!0,this.descriptionLoading=!1,this.shortVideoDescription=this.video.description,this.completeVideoDescription=s,this.updateVideoDescription(this.completeVideoDescription)},error:s=>{this.descriptionLoading=!1,this.notifier.error(s.message)}})}onTimestampClicked(s){this.timestampClicked.emit(s)}updateVideoDescription(s){this.video.description=s,this.setVideoDescriptionHTML().catch(c=>console.error(c))}setVideoDescriptionHTML(){return(0,Ue.mG)(this,void 0,void 0,function*(){const s=yield this.markdownService.textMarkdownToHTML(this.video.description);this.videoHTMLDescription=this.markdownService.processVideoTimestamps(this.video.shortUUID,s)})}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(I.kI),n.Y36(L.d4),n.Y36(L.Zy))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-description"]],inputs:{video:"video"},outputs:{timestampClicked:"timestampClicked"},features:[n.TTD],decls:4,vars:3,consts:function(){let h,s;return h="Ne veire mai",s="Ne veire mens",[[1,"video-info-description"],["myTimestampRouteTransformer","",1,"video-info-description-html",3,"innerHTML","timestampClicked"],["class","video-info-description-more",3,"click",4,"ngIf"],[1,"video-info-description-more",3,"click"],h,["class","glyphicon glyphicon-menu-down",4,"ngIf"],[1,"description-loading",3,"loading"],[1,"glyphicon","glyphicon-menu-down"],s,["class","glyphicon glyphicon-menu-up",4,"ngIf"],[1,"glyphicon","glyphicon-menu-up"]]},template:function(s,c){1&s&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.NdJ("timestampClicked",function(p){return c.onTimestampClicked(p)}),n.qZA(),n.YNc(2,ts,5,2,"div",2),n.YNc(3,En,4,1,"div",2),n.qZA()),2&s&&(n.xp6(1),n.Q6J("innerHTML",c.videoHTMLDescription,n.oJD),n.xp6(1),n.Q6J("ngIf",!1===c.completeDescriptionShown&&(null==c.video.description?null:c.video.description.length)>=250),n.xp6(1),n.Q6J("ngIf",!0===c.completeDescriptionShown))},directives:[jt,k.O5,ht.k],styles:[".video-info-description[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;font-size:15px}@supports (margin-inline-start: 44px){.video-info-description[_ngcontent-%COMP%]{margin-inline-start:44px}}@supports not (margin-inline-start: 44px){.video-info-description[_ngcontent-%COMP%]{margin-left:44px}}@supports (margin-inline-end: 0){.video-info-description[_ngcontent-%COMP%]{margin-inline-end:0}}@supports not (margin-inline-end: 0){.video-info-description[_ngcontent-%COMP%]{margin-right:0}}.video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.video-info-description[_ngcontent-%COMP%]   .video-info-description-html[_ngcontent-%COMP%]     a{text-decoration:none}@supports (margin-inline-start: 3px){.video-info-description[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%]{margin-inline-start:3px}}@supports not (margin-inline-start: 3px){.video-info-description[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%]{margin-left:3px}}.video-info-description[_ngcontent-%COMP%]   .description-loading[_ngcontent-%COMP%]{display:inline-block}.video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;color:var(--greyForegroundColor);font-size:14px}.video-info-description[_ngcontent-%COMP%]   .video-info-description-more[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{position:relative;top:2px}@media screen and (max-width: 450px){.video-info-description[_ngcontent-%COMP%]{font-size:14px!important}}"]}),d})();var ns=E(97339);function ke(d,h){1&d&&(n.TgZ(0,"span",14),n.SDv(1,15),n.qZA())}function is(d,h){1&d&&(n.TgZ(0,"span",16),n.SDv(1,17),n.qZA())}function os(d,h){1&d&&(n.TgZ(0,"span",18),n.SDv(1,19),n.qZA())}function ss(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",20),n.TgZ(1,"my-video-playlist-element-miniature",21),n.NdJ("elementRemoved",function(u){return n.CHM(s),n.oxw(2).onElementRemoved(u)}),n.qZA(),n.qZA()}if(2&d){const s=h.$implicit,c=n.oxw(2);n.Q6J("ngClass","element-"+s.position),n.xp6(1),n.Q6J("playlistElement",s)("playlist",c.playlist)("owned",c.isPlaylistOwned())("playing",c.currentPlaylistPosition===s.position)("accountLink",!1)("position",s.position)("touchScreenEditButton",!0)}}function qn(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",1),n.NdJ("nearOfBottom",function(){return n.CHM(s),n.oxw().onPlaylistVideosNearOfBottom()}),n.TgZ(1,"div",2),n.TgZ(2,"div",3),n._uU(3),n.YNc(4,ke,2,0,"span",4),n.YNc(5,is,2,0,"span",5),n.YNc(6,os,2,0,"span",6),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n._uU(9),n.qZA(),n.TgZ(10,"div",9),n.TgZ(11,"span"),n._uU(12),n.qZA(),n.TgZ(13,"span"),n._uU(14),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",10),n.TgZ(16,"my-global-icon",11),n.NdJ("click",function(){return n.CHM(s),n.oxw().switchAutoPlayNextVideoPlaylist()}),n.qZA(),n.TgZ(17,"my-global-icon",12),n.NdJ("click",function(){return n.CHM(s),n.oxw().switchLoopPlaylist()}),n.qZA(),n.qZA(),n.qZA(),n.YNc(18,ss,2,8,"div",13),n.qZA()}if(2&d){const s=n.oxw();n.Q6J("onItself",!0),n.xp6(3),n.hij(" ",s.playlist.displayName," "),n.xp6(1),n.Q6J("ngIf",s.isUnlistedPlaylist()),n.xp6(1),n.Q6J("ngIf",s.isPrivatePlaylist()),n.xp6(1),n.Q6J("ngIf",s.isPublicPlaylist()),n.xp6(3),n.Oqu(s.playlist.ownerBy),n.xp6(3),n.Oqu(s.currentPlaylistPosition),n.xp6(2),n.Oqu(s.playlistPagination.totalItems),n.xp6(2),n.ekj("active",s.autoPlayNextVideoPlaylist),n.Q6J("ngbTooltip",s.autoPlayNextVideoPlaylistSwitchText),n.xp6(1),n.ekj("active",s.loopPlaylist),n.Q6J("ngbTooltip",s.loopPlaylistSwitchText),n.xp6(1),n.Q6J("ngForOf",s.playlistElements)}}let w=(()=>{class d{constructor(s,c,u,p,y,O,M){this.userService=s,this.auth=c,this.notifier=u,this.videoPlaylist=p,this.localStorageService=y,this.sessionStorage=O,this.router=M,this.videoFound=new n.vpe,this.playlistElements=[],this.playlistPagination={currentPage:1,itemsPerPage:30,totalItems:null},this.autoPlayNextVideoPlaylistSwitchText="",this.loopPlaylistSwitchText="",this.noPlaylistVideos=!1,this.autoPlayNextVideoPlaylist=this.auth.isLoggedIn()?this.auth.getUser().autoPlayNextVideoPlaylist:"false"!==this.localStorageService.getItem(d.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setAutoPlayNextVideoPlaylistSwitchText(),this.loopPlaylist="true"===this.sessionStorage.getItem(d.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST),this.setLoopPlaylistSwitchText()}onPlaylistVideosNearOfBottom(s){this.playlistPagination.totalItems<=this.playlistPagination.currentPage*this.playlistPagination.itemsPerPage||(this.playlistPagination.currentPage+=1,this.loadPlaylistElements(this.playlist,!1,s))}onElementRemoved(s){this.playlistElements=this.playlistElements.filter(c=>c.id!==s.id),this.playlistPagination.totalItems--}isPlaylistOwned(){return!0===this.playlist.isLocal&&this.auth.isLoggedIn()&&this.playlist.ownerAccount.name===this.auth.getUser().username}isUnlistedPlaylist(){return 2===this.playlist.privacy.id}isPrivatePlaylist(){return 3===this.playlist.privacy.id}isPublicPlaylist(){return 1===this.playlist.privacy.id}loadPlaylistElements(s,c=!1,u){this.videoPlaylist.getPlaylistVideos(s.uuid,this.playlistPagination).subscribe(({total:p,data:y})=>{this.playlistElements=this.playlistElements.concat(y),this.playlistPagination.totalItems=p;const O=this.playlistElements.find(M=>!!M.video);O?(u&&this.updatePlaylistIndex(u),c&&this.router.navigate([],{queryParams:{start:O.startTimestamp,stop:O.stopTimestamp,playlistPosition:O.position},replaceUrl:!0})):this.noPlaylistVideos=!0})}updatePlaylistIndex(s){if(0!==this.playlistElements.length&&s){s<0&&(s=this.playlist.videosLength+s+1);for(const c of this.playlistElements)if(c.video&&c.position>=s)return this.currentPlaylistPosition=c.position,this.videoFound.emit(c.video.uuid),void setTimeout(()=>{document.querySelector(".element-"+this.currentPlaylistPosition).scrollIntoView(!1)});this.onPlaylistVideosNearOfBottom(s)}}navigateToPreviousPlaylistVideo(){const s=this.findPlaylistVideo(this.currentPlaylistPosition-1,"previous");s&&this.router.navigate([],{queryParams:{playlistPosition:s.position,start:s.startTimestamp,stop:s.stopTimestamp}})}findPlaylistVideo(s,c){if("next"===c&&s>this.playlistPagination.totalItems||"previous"===c&&s<1){if(!this.loopPlaylist)return;s="previous"===c?this.playlistPagination.totalItems:1}const u=this.playlistElements.find(y=>y.position===s);return(null==u?void 0:u.video)?u:this.findPlaylistVideo("previous"===c?s-1:s+1,c)}navigateToNextPlaylistVideo(){const s=this.findPlaylistVideo(this.currentPlaylistPosition+1,"next");s&&this.router.navigate([],{queryParams:{playlistPosition:s.position,start:s.startTimestamp,stop:s.stopTimestamp}})}switchAutoPlayNextVideoPlaylist(){this.autoPlayNextVideoPlaylist=!this.autoPlayNextVideoPlaylist,this.setAutoPlayNextVideoPlaylistSwitchText(),Rt.X.setItem(d.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.autoPlayNextVideoPlaylist.toString()),this.auth.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideoPlaylist:this.autoPlayNextVideoPlaylist}).subscribe({next:()=>{this.auth.refreshUserInformation()},error:c=>this.notifier.error(c.message)})}switchLoopPlaylist(){this.loopPlaylist=!this.loopPlaylist,this.setLoopPlaylistSwitchText(),Rt.t.setItem(d.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST,this.loopPlaylist.toString())}setAutoPlayNextVideoPlaylistSwitchText(){this.autoPlayNextVideoPlaylistSwitchText=this.autoPlayNextVideoPlaylist?"Stop autoplaying next video":"Lectura automatica de la vid\xE8o venenta"}setLoopPlaylistSwitchText(){this.loopPlaylistSwitchText=this.loopPlaylist?"Stop looping playlist videos":"Loop playlist videos"}}return d.LOCAL_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="auto_play_video_playlist",d.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO_PLAYLIST="loop_playlist",d.\u0275fac=function(s){return new(s||d)(n.Y36(L.KD),n.Y36(L.e8),n.Y36(L.d4),n.Y36(ve.Qq),n.Y36(L.n2),n.Y36(L.uR),n.Y36($e.F0))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-watch-playlist"]],inputs:{playlist:"playlist"},outputs:{videoFound:"videoFound"},decls:1,vars:1,consts:function(){let h,s,c;return h="Pas listada",s="Privada",c="Publica",[["class","playlist","myInfiniteScroller","",3,"onItself","nearOfBottom",4,"ngIf"],["myInfiniteScroller","",1,"playlist",3,"onItself","nearOfBottom"],[1,"playlist-info"],[1,"playlist-display-name"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-info",4,"ngIf"],[1,"playlist-by-index"],[1,"playlist-by"],[1,"playlist-index"],[1,"playlist-controls"],["iconName","videos","placement","bottom auto","container","body",3,"ngbTooltip","click"],["iconName","repeat","placement","bottom auto","container","body",3,"ngbTooltip","click"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"badge","badge-warning"],h,[1,"badge","badge-danger"],s,[1,"badge","badge-info"],c,[3,"ngClass"],[3,"playlistElement","playlist","owned","playing","accountLink","position","touchScreenEditButton","elementRemoved"]]},template:function(s,c){1&s&&n.YNc(0,qn,19,15,"div",0),2&s&&n.Q6J("ngIf",c.playlist&&c.currentPlaylistPosition)},directives:[k.O5,Ot.A,x.$,j._L,k.sg,k.mk,ns.K],styles:['.playlist[_ngcontent-%COMP%]{min-width:200px;max-width:470px;height:66vh;background-color:var(--mainBackgroundColor);overflow-y:auto;border-bottom:1px solid rgba(0,0,0,.1)}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]{padding:5px 30px;background-color:#e4e4e4}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-display-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:5px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]{color:var(--greyForegroundColor);display:flex}@supports (margin-inline-end: 5px){.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-by[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-by[_ngcontent-%COMP%]{margin-right:5px}}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-by-index[_ngcontent-%COMP%]   .playlist-index[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child:after{content:"/";margin:0 3px}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]{display:flex;margin:10px 0}@supports (margin-inline-end: .5rem){.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(:last-child){margin-inline-end:.5rem}}@supports not (margin-inline-end: .5rem){.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]:not(.active){opacity:.5}.playlist[_ngcontent-%COMP%]   .playlist-info[_ngcontent-%COMP%]   .playlist-controls[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]    {cursor:pointer}@supports (margin-inline-end: 0){.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .position{margin-inline-end:0}}@supports not (margin-inline-end: 0){.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .position{margin-right:0}}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .video .video-info .video-info-name{font-size:15px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     my-video-thumbnail   .video-thumbnail{width:90px;height:50px}.playlist[_ngcontent-%COMP%]   my-video-playlist-element-miniature[_ngcontent-%COMP%]     .fake-thumbnail{width:90px;height:50px}']}),d})();var rs=E(36371),Lt=E(29230),tn=E(72754),ft=E(68237);let Jn=(()=>{class d{constructor(s,c,u,p){this.videos=s,this.searchService=c,this.userService=u,this.serverService=p,this.pageSize=5,this.config=this.serverService.getHTMLConfig()}getRecommendations(s){return this.fetchPage(1,s).pipe((0,Lt.U)(c=>c.filter(p=>p.uuid!==s.uuid).slice(0,this.pageSize)))}fetchPage(s,c){const u={currentPage:s,itemsPerPage:this.pageSize+1},p=this.videos.getVideos({videoPagination:u,sort:"-createdAt"}).pipe((0,Lt.U)(M=>M.data)),y=c.tags,O=this.config.search.searchIndex;return!y||0===y.length||!0===O.enabled&&!0===O.disableLocalSearch?p:this.userService.getAnonymousOrLoggedUser().pipe((0,Lt.U)(M=>({search:"",componentPagination:u,advancedSearch:new ft.ZJ({tagsOneOf:c.tags.join(","),sort:"-publishedAt",searchTarget:"local",nsfw:M.nsfwPolicy?this.videos.nsfwPolicyToParam(M.nsfwPolicy):void 0})})),(0,tn.w)(M=>this.searchService.searchVideos(M)),(0,Lt.U)(M=>M.data),(0,tn.w)(M=>M.length<=1?p:(0,rs.of)(M)))}}return d.\u0275fac=function(s){return new(s||d)(n.LFG(I.kI),n.LFG(ft.oD),n.LFG(L.KD),n.LFG(L.NG))},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac}),d})();var Ye=E(87347),Ht=E(2424),nn=E(66709);let at=(()=>{class d{constructor(s){this.recommendations=s,this.requestsForLoad$$=new Ye.t(1),this.recommendations$=this.requestsForLoad$$.pipe((0,tn.w)(c=>this.recommendations.getRecommendations(c).pipe((0,Ht.q)(1))),(0,nn.d)()),this.hasRecommendations$=this.recommendations$.pipe((0,Lt.U)(c=>c.length>0))}requestNewRecommendations(s){this.requestsForLoad$$.next(s)}}return d.\u0275fac=function(s){return new(s||d)(n.LFG(Jn))},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac}),d})(),Qn=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=n.oAB({type:d}),d.\u0275inj=n.cJS({providers:[at,Jn],imports:[[k.ez,I.nC,ft.DV,ve.xq,se.F5,U.hA]]}),d})();var Cn=E(89590),as=E(53284),Gi=E(69469);function Xn(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",7),n.TgZ(1,"span"),n.SDv(2,8),n.qZA(),n.TgZ(3,"my-input-switch",9),n.NdJ("ngModelChange",function(u){return n.CHM(s),n.oxw(2).autoPlayNextVideo=u})("ngModelChange",function(){return n.CHM(s),n.oxw(2).switchAutoPlayNextVideo()}),n.qZA(),n.qZA()}if(2&d){const s=n.oxw(2);n.Q6J("ngbTooltip",s.autoPlayNextVideoTooltip),n.xp6(3),n.Q6J("ngModel",s.autoPlayNextVideo)}}function Bt(d,h){1&d&&n._UZ(0,"hr")}function Ut(d,h){if(1&d){const s=n.EpF();n.ynx(0),n.TgZ(1,"my-video-miniature",10),n.NdJ("videoBlocked",function(){return n.CHM(s),n.oxw(2).onVideoRemoved()})("videoRemoved",function(){return n.CHM(s),n.oxw(2).onVideoRemoved()})("videoAccountMuted",function(){return n.CHM(s),n.oxw(2).onVideoRemoved()}),n.qZA(),n.YNc(2,Bt,1,0,"hr",1),n.BQk()}if(2&d){const s=h.$implicit,c=h.index,u=h.count,p=n.oxw(2);n.xp6(1),n.Q6J("displayOptions",p.displayOptions)("video",s)("user",p.userMiniature)("displayAsRow",p.displayAsRow),n.xp6(1),n.Q6J("ngIf",!p.playlist&&0===c&&u>1)}}function ls(d,h){if(1&d&&(n.ynx(0),n.TgZ(1,"div",2),n.TgZ(2,"h2",3),n.SDv(3,4),n.qZA(),n.YNc(4,Xn,4,2,"div",5),n.qZA(),n.YNc(5,Ut,3,5,"ng-container",6),n.ALo(6,"async"),n.BQk()),2&d){const s=n.oxw();n.xp6(4),n.Q6J("ngIf",!s.playlist),n.xp6(1),n.Q6J("ngForOf",n.lcZ(6,2,s.videos$))}}const ei=function(d){return{"display-as-row":d}};let cs=(()=>{class d{constructor(s,c,u,p,y){this.userService=s,this.authService=c,this.notifier=u,this.store=p,this.sessionStorageService=y,this.gotRecommendations=new n.vpe,this.displayOptions={date:!0,views:!0,by:!0,avatar:!0},this.videos$=this.store.recommendations$,this.hasVideos$=this.store.hasRecommendations$,this.videos$.subscribe(O=>this.gotRecommendations.emit(O)),this.authService.isLoggedIn()?this.autoPlayNextVideo=this.authService.getUser().autoPlayNextVideo:(this.autoPlayNextVideo="true"===this.sessionStorageService.getItem(Cn.hJ.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO),this.sessionStorageService.watch([Cn.hJ.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO]).subscribe(()=>{this.autoPlayNextVideo="true"===this.sessionStorageService.getItem(Cn.hJ.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO)})),this.autoPlayNextVideoTooltip="When active, the next video is automatically played after the current one."}ngOnInit(){this.userService.getAnonymousOrLoggedUser().subscribe(s=>this.userMiniature=s)}ngOnChanges(){this.inputRecommendation&&this.store.requestNewRecommendations(this.inputRecommendation)}onVideoRemoved(){this.store.requestNewRecommendations(this.inputRecommendation)}switchAutoPlayNextVideo(){this.sessionStorageService.setItem(Cn.hJ.SESSION_STORAGE_AUTO_PLAY_NEXT_VIDEO,this.autoPlayNextVideo.toString()),this.authService.isLoggedIn()&&this.userService.updateMyProfile({autoPlayNextVideo:this.autoPlayNextVideo}).subscribe({next:()=>{this.authService.refreshUserInformation()},error:c=>this.notifier.error(c.message)})}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(L.KD),n.Y36(L.e8),n.Y36(L.d4),n.Y36(at),n.Y36(L.uR))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-recommended-videos"]],inputs:{inputRecommendation:"inputRecommendation",playlist:"playlist",displayAsRow:"displayAsRow"},outputs:{gotRecommendations:"gotRecommendations"},features:[n.TTD],decls:3,vars:6,consts:function(){let h,s;return h="Autras vid\xE8os",s="LECTURA AUTO",[[1,"other-videos",3,"ngClass"],[4,"ngIf"],[1,"title-page-container"],[1,"title-page","title-page-single"],h,["class","title-page-autoplay","placement","bottom-right auto",3,"ngbTooltip",4,"ngIf"],[4,"ngFor","ngForOf"],["placement","bottom-right auto",1,"title-page-autoplay",3,"ngbTooltip"],s,[1,"small",3,"ngModel","ngModelChange"],["actorImageSize","32",3,"displayOptions","video","user","displayAsRow","videoBlocked","videoRemoved","videoAccountMuted"]]},template:function(s,c){1&s&&(n.TgZ(0,"div",0),n.YNc(1,ls,7,4,"ng-container",1),n.ALo(2,"async"),n.qZA()),2&s&&(n.Q6J("ngClass",n.VKq(4,ei,c.displayAsRow)),n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,c.hasVideos$)))},directives:[k.mk,k.O5,k.sg,j._L,as.a,me.JJ,me.On,Gi.v],pipes:[k.Ov],styles:[".title-page-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:25px;flex-wrap:wrap-reverse}.title-page-container[_ngcontent-%COMP%]   .title-page.active[_ngcontent-%COMP%], .title-page-container[_ngcontent-%COMP%]   .title-page.title-page-single[_ngcontent-%COMP%]{margin-bottom:unset}@supports (margin-inline-end: .5rem !important){.title-page-container[_ngcontent-%COMP%]   .title-page.active[_ngcontent-%COMP%], .title-page-container[_ngcontent-%COMP%]   .title-page.title-page-single[_ngcontent-%COMP%]{margin-inline-end:.5rem!important}}@supports not (margin-inline-end: .5rem !important){.title-page-container[_ngcontent-%COMP%]   .title-page.active[_ngcontent-%COMP%], .title-page-container[_ngcontent-%COMP%]   .title-page.title-page-single[_ngcontent-%COMP%]{margin-right:.5rem!important}}.title-page[_ngcontent-%COMP%]{margin-top:0}.title-page-autoplay[_ngcontent-%COMP%]{display:flex;width:-webkit-max-content;width:max-content;height:-webkit-max-content;height:max-content;align-items:center}@supports (margin-inline-start: auto){.title-page-autoplay[_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){.title-page-autoplay[_ngcontent-%COMP%]{margin-left:auto}}.title-page-autoplay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;font-size:85%;font-weight:600}@supports (margin-inline-end: .3rem){.title-page-autoplay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:.3rem}}@supports not (margin-inline-end: .3rem){.title-page-autoplay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.3rem}}hr[_ngcontent-%COMP%]{margin-top:0}my-video-miniature[_ngcontent-%COMP%]{display:block}.other-videos[_ngcontent-%COMP%]:not(.display-as-row)   my-video-miniature[_ngcontent-%COMP%]{min-width:201px;max-width:201px}.display-as-row[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{margin-bottom:20px}.display-as-row[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 500px){.display-as-row[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{margin-bottom:10px}}"]}),d})();var ti=E(19212),qi=E(86804),Xe=E(54175),Ji=(E(14310),E(48530)),vt=E.n(Ji),us=E(22511),P=E.n(us);function ni(d,h){d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h}var ii=1,Sn=function(){return ii++},jn=P().dom||P(),xn=P().registerPlugin||P().plugin,Xi=P().getComponent("Component"),eo=function(d){function h(c,u){var p;p=d.call(this,c,u)||this;var y=c.$(".vjs-tech");return y.setAttribute("aria-labelledby",p.title.id),y.setAttribute("aria-describedby",p.description.id),p}ni(h,d);var s=h.prototype;return s.createEl=function(){var u=jn.createEl("div",{className:"vjs-dock-title",title:this.options_.title,innerHTML:this.options_.title},{id:"vjs-dock-title-"+Sn()}),p=jn.createEl("div",{className:"vjs-dock-description",title:this.options_.description,innerHTML:this.options_.description},{id:"vjs-dock-description-"+Sn()}),y=d.prototype.createEl.call(this,"div",{className:"vjs-dock-text"});return this.title=u,this.description=p,y.appendChild(u),y.appendChild(p),y},s.update=function(u,p){this.title.innerHTML="",this.description.innerHTML="",this.title.appendChild(vt().createTextNode(u)),this.description.appendChild(vt().createTextNode(p))},h}(Xi),to=function(d){function h(){return d.apply(this,arguments)||this}return ni(h,d),h.prototype.createEl=function(){return d.prototype.createEl.call(this,"div",{className:"vjs-dock-shelf"})},h}(Xi);P().registerComponent("Title",eo),P().registerComponent("Shelf",to);var Ft=function(h){var s=this,c=h||{},u={title:{title:c.title||"",description:c.description||""}},p=this.title,y=this.shelf;this.addClass("vjs-dock"),this.ready(function(){var O=s.children().indexOf(s.getChild("bigPlayButton")),M=O>0?O-1:null;y||(y=s.shelf=s.addChild("shelf",u,M)),p?p.update(u.title.title,u.title.description):p=s.title=s.addChild("title",u.title,M),s.one(p,"dispose",function(){this.title=null}),s.one(y,"dispose",function(){this.shelf=null});var V=p.title,Q=p.description,J=V.id,_e=Q.id;J&&V.textContent&&s.setAttribute("aria-labelledby",s.id()+" "+J),_e&&Q.textContent&&s.setAttribute("aria-describedby",_e)},!0)};Ft.VERSION="2.2.0",xn("dock",Ft);var no=E(12499),on=E.n(no);function io(d,h){d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h}var zt=function(d){function h(){return d.apply(this,arguments)||this}return io(h,d),h.prototype.handleClick=function(u){var p=this;d.prototype.handleClick.call(this),this.options_.listener(),on().setTimeout(function(){p.player().contextmenuUI.menu.dispose()},1)},h}(P().getComponent("MenuItem")),tt=P().getComponent("Menu"),$t=P().dom||P(),Ke=function(d){function h(c,u){var p;return(p=d.call(this,c,u)||this).dispose=P().bind(function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(p),p.dispose),u.content.forEach(function(y){var O=function(){};"function"==typeof y.listener?O=y.listener:"string"==typeof y.href&&(O=function(){return on().open(y.href)}),p.addItem(new zt(c,{label:y.label,listener:P().bind(c,O)}))}),p}return io(h,d),h.prototype.createEl=function(){var u=d.prototype.createEl.call(this);return $t.addClass(u,"vjs-contextmenu-ui-menu"),u.style.left=this.options_.position.left+"px",u.style.top=this.options_.position.top+"px",u},h}(tt);function kt(d){return d&&"[object Function]"==={}.toString.call(d)}function sn(d){return d.hasOwnProperty("contextmenuUI")&&d.contextmenuUI.hasOwnProperty("menu")&&d.contextmenuUI.menu.el()}function ps(d){var h=d.tagName.toLowerCase();return"input"===h||"textarea"===h}function vs(d){var h=this;if(sn(this))this.contextmenuUI.menu.dispose();else if(!this.contextmenuUI.options_.excludeElements(d.target)){var u=function(d,h){return{left:Math.round(h.width*d.x),top:Math.round(h.height-h.height*d.y)}}(function(d,h){var s={},c=function(d){var h;if(d.getBoundingClientRect&&d.parentNode&&(h=d.getBoundingClientRect()),!h)return{left:0,top:0};var s=vt().documentElement,c=vt().body,u=s.clientLeft||c.clientLeft||0,p=on().pageXOffset||c.scrollLeft,y=h.left+p-u,O=s.clientTop||c.clientTop||0,M=on().pageYOffset||c.scrollTop,V=h.top+M-O;return{left:Math.round(y),top:Math.round(V)}}(d),u=d.offsetWidth,p=d.offsetHeight,O=c.left,M=h.pageY,V=h.pageX;return h.changedTouches&&(V=h.changedTouches[0].pageX,M=h.changedTouches[0].pageY),s.y=Math.max(0,Math.min(1,(c.top-M+p)/p)),s.x=Math.max(0,Math.min(1,(V-O)/u)),s}(this.el(),d),this.el().getBoundingClientRect()),p=P().browser.IS_FIREFOX?vt().documentElement:vt();d.preventDefault();var y=this.contextmenuUI.menu=new Ke(this,{content:kt(this.contextmenuUI.content)&&this.contextmenuUI.content()||this.contextmenuUI.content,position:u});this.contextmenuUI.closeMenu=function(){P().log.warn("player.contextmenuUI.closeMenu() is deprecated, please use player.contextmenuUI.menu.dispose() instead!"),y.dispose()},y.on("dispose",function(){P().off(p,["click","tap"],y.dispose),h.removeChild(y),delete h.contextmenuUI.menu}),this.addChild(y);var O=y.el_.getBoundingClientRect(),M=vt().body.getBoundingClientRect();(this.contextmenuUI.keepInside||O.right>M.width||O.bottom>M.height)&&(y.el_.style.left=Math.floor(Math.min(u.left,this.player_.currentWidth()-y.currentWidth()))+"px",y.el_.style.top=Math.floor(Math.min(u.top,this.player_.currentHeight()-y.currentHeight()))+"px"),P().on(p,["click","tap"],y.dispose)}}function oi(d){var h=this,s={keepInside:!0,excludeElements:ps};if(d=P().mergeOptions(s,d),!Array.isArray(d.content)&&!Array.isArray(d.content()))throw new Error('"content" required');sn(this)&&(this.contextmenuUI.menu.dispose(),this.off("contextmenu",this.contextmenuUI.onContextMenu),delete this.contextmenuUI);var c=this.contextmenuUI=function(){oi.apply(this,arguments)};c.onContextMenu=P().bind(this,vs),c.content=d.content,c.keepInside=d.keepInside,c.options_=d,c.VERSION="5.4.1",this.on("contextmenu",c.onContextMenu),this.ready(function(){return h.addClass("vjs-contextmenu-ui")})}function si(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}P().registerPlugin("contextmenuUI",oi),oi.VERSION="5.4.1";var ms=function d(h){var s=this;if(P().browser.IS_IE8)for(var c in s=vt().createElement("custom"),d.prototype)"constructor"!==c&&(s[c]=d.prototype[c]);return s.id=h.id,s.label=s.id,s.width=h.width,s.height=h.height,s.bitrate=h.bandwidth,s.enabled_=h.enabled,Object.defineProperty(s,"enabled",{get:function(){return s.enabled_()},set:function(p){s.enabled_(p)}}),s},rn=function(d){function h(){var c,u=si(si(c=d.call(this)||this));if(P().browser.IS_IE8)for(var p in u=vt().createElement("custom"),h.prototype)"constructor"!==p&&(u[p]=h.prototype[p]);return u.levels_=[],u.selectedIndex_=-1,Object.defineProperty(u,"selectedIndex",{get:function(){return u.selectedIndex_}}),Object.defineProperty(u,"length",{get:function(){return u.levels_.length}}),u||si(c)}!function(d,h){d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h}(h,d);var s=h.prototype;return s.addQualityLevel=function(u){var p=this.getQualityLevelById(u.id);if(p)return p;var y=this.levels_.length;return p=new ms(u),""+y in this||Object.defineProperty(this,y,{get:function(){return this.levels_[y]}}),this.levels_.push(p),this.trigger({qualityLevel:p,type:"addqualitylevel"}),p},s.removeQualityLevel=function(u){for(var p=null,y=0,O=this.length;y<O;y++)if(this[y]===u){p=this.levels_.splice(y,1)[0],this.selectedIndex_===y?this.selectedIndex_=-1:this.selectedIndex_>y&&this.selectedIndex_--;break}return p&&this.trigger({qualityLevel:u,type:"removequalitylevel"}),p},s.getQualityLevelById=function(u){for(var p=0,y=this.length;p<y;p++){var O=this[p];if(O.id===u)return O}return null},s.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},h}(P().EventTarget);for(var ri in rn.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},rn.prototype.allowedEvents_)rn.prototype["on"+ri]=null;var Tt=function(h){return function(h,s){var c=h.qualityLevels,u=new rn;return h.on("dispose",function y(){u.dispose(),h.qualityLevels=c,h.off("dispose",y)}),h.qualityLevels=function(){return u},h.qualityLevels.VERSION="2.1.0",u}(this,P().mergeOptions({},h))};(P().registerPlugin||P().plugin)("qualityLevels",Tt),Tt.VERSION="2.1.0";const bs=P().getComponent("Component");P().registerComponent("EndCard",class extends bs{constructor(h,s){super(h,s),this.dashOffsetTotal=586,this.dashOffsetStart=293,this.interval=50,this.upNextEvents=new(P().EventTarget),this.ticks=0,this.totalTicks=this.options_.timeout/this.interval,h.on("ended",c=>{!this.options_.condition()||(h.addClass("vjs-upnext--showing"),this.showCard(u=>{h.removeClass("vjs-upnext--showing"),this.container.style.display="none",u||this.options_.next()}))}),h.on("playing",()=>{this.upNextEvents.trigger("playing")})}createEl(){const h=super.createEl("div",{className:"vjs-upnext-content",innerHTML:(d=this.options_,`\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">${d.headText}</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5"\n                stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"\n        ></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">${d.cancelText}</button>\n      </span>\n      <span class="vjs-upnext-suspended">${d.suspendedText}</span>\n    </span>\n  `)});var d;return this.container=h,h.style.display="none",this.autoplayRing=h.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=h.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=h.getElementsByClassName("vjs-upnext-cancel-button")[0],this.suspendedMessage=h.getElementsByClassName("vjs-upnext-suspended")[0],this.nextButton=h.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=()=>{this.upNextEvents.trigger("cancel")},this.nextButton.onclick=()=>{this.upNextEvents.trigger("next")},h}showCard(h){let s;this.autoplayRing.setAttribute("stroke-dasharray",`${this.dashOffsetStart}`),this.autoplayRing.setAttribute("stroke-dashoffset",""+-this.dashOffsetStart),this.title.innerHTML=this.options_.getTitle(),this.upNextEvents.one("cancel",()=>{clearTimeout(s),h(!0)}),this.upNextEvents.one("playing",()=>{clearTimeout(s),h(!0)}),this.upNextEvents.one("next",()=>{clearTimeout(s),h(!1)});const c=y=>{const O=Math.max(-this.dashOffsetTotal,-this.dashOffsetStart-y*this.dashOffsetTotal/2/100);this.autoplayRing.setAttribute("stroke-dashoffset",""+O)},u=()=>{c(100*this.ticks++/this.totalTicks)},p=()=>{this.options_.suspended()?(this.suspendedMessage.innerText=this.options_.suspendedText,c(0),this.ticks=0,s=setTimeout(p.bind(this),300)):this.ticks>=this.totalTicks?(clearTimeout(s),h(!1)):(this.suspendedMessage.innerText="",u(),s=setTimeout(p.bind(this),this.interval))};this.container.style.display="block",s=setTimeout(p.bind(this),this.interval)}});const ao=P().getPlugin("plugin");P().registerPlugin("upnext",class extends ao{constructor(h,s={}){const c={next:s.next,getTitle:s.getTitle,timeout:s.timeout||5e3,cancelText:s.cancelText||"Cancel",headText:s.headText||"Up Next",suspendedText:s.suspendedText||"Autoplay is suspended",condition:s.condition,suspended:s.suspended};super(h),this.player.ready(()=>{h.addClass("vjs-upnext")}),h.addChild("EndCard",c)}});const Mn=P().getComponent("Component");class lo extends Mn{constructor(){super(...arguments),this.metadataStore={},this.intervalMs=300,this.playerNetworkInfo={}}createEl(){const h=super.createEl("div",{className:"vjs-stats-content",innerHTML:this.getMainTemplate()});return this.container=h,this.container.style.display="none",this.closeButton=this.container.getElementsByClassName("vjs-stats-close")[0],this.closeButton.onclick=()=>this.hide(),this.list=this.container.getElementsByClassName("vjs-stats-list")[0],this.player_.on("p2pInfo",(s,c)=>{if(!c)return;this.mode=c.source;const u=c.p2p,p=c.http;this.playerNetworkInfo.downloadSpeed=(0,Pe.aI)(u.downloadSpeed+p.downloadSpeed).join(" "),this.playerNetworkInfo.uploadSpeed=(0,Pe.aI)(u.uploadSpeed+p.uploadSpeed).join(" "),this.playerNetworkInfo.totalDownloaded=(0,Pe.aI)(u.downloaded+p.downloaded).join(" "),this.playerNetworkInfo.totalUploaded=(0,Pe.aI)(u.uploaded+p.uploaded).join(" "),this.playerNetworkInfo.numPeers=u.numPeers,this.playerNetworkInfo.averageBandwidth=(0,Pe.aI)(c.bandwidthEstimate).join(" ")+"/s","p2p-media-loader"===c.source&&(this.playerNetworkInfo.downloadedFromServer=(0,Pe.aI)(p.downloaded).join(" "),this.playerNetworkInfo.downloadedFromPeers=(0,Pe.aI)(u.downloaded).join(" "))}),h}toggle(){this.updateInterval?this.hide():this.show()}show(){this.container.style.display="block",this.updateInterval=setInterval(()=>(0,Ue.mG)(this,void 0,void 0,function*(){try{const h="p2p-media-loader"===this.mode?this.buildHLSOptions():yield this.buildWebTorrentOptions();this.list.innerHTML=this.getListTemplate(h)}catch(h){console.error("Cannot update stats.",h),clearInterval(this.updateInterval)}}),this.intervalMs)}hide(){clearInterval(this.updateInterval),this.container.style.display="none"}buildHLSOptions(){const h=this.player_.p2pMediaLoader(),s=h.getCurrentLevel(),c=(null==s?void 0:s.videoCodec)||(null==s?void 0:s.audioCodec)?`${(null==s?void 0:s.videoCodec)||""} / ${(null==s?void 0:s.audioCodec)||""}`:void 0,u=`${null==s?void 0:s.height}p${(null==s?void 0:s.attrs["FRAME-RATE"])||""}`,p=this.timeRangesToString(this.player().buffered());let y,O;return this.options_.videoIsLive?O=(0,Xe.nH)(h.getLiveLatency()):y=this.player().bufferedPercent(),{playerNetworkInfo:this.playerNetworkInfo,resolution:u,codecs:c,buffer:p,latency:O,progress:y}}buildWebTorrentOptions(){var h;return(0,Ue.mG)(this,void 0,void 0,function*(){const s=this.player_.webtorrent().getCurrentVideoFile();this.metadataStore[s.fileUrl]||(this.metadataStore[s.fileUrl]=yield fetch(s.metadataUrl).then(V=>V.json()));const c=this.metadataStore[s.fileUrl];let u="unknown",p="unknown";if(null==c?void 0:c.streams[0]){const V=c.streams[0];u="unknown"!==V.color_space?V.color_space:"bt709",p=V.codec_name||"avc1"}const y=(null==s?void 0:s.resolution.label)+(null==s?void 0:s.fps),O=this.timeRangesToString(this.player().buffered()),M=null===(h=this.player_.webtorrent().getTorrent())||void 0===h?void 0:h.progress;return{playerNetworkInfo:this.playerNetworkInfo,progress:M,colorSpace:u,codecs:p,resolution:y,buffer:O}})}getListTemplate(h){const{playerNetworkInfo:s,progress:c,colorSpace:u,codecs:p,resolution:y,buffer:O,latency:M}=h,V=this.player(),Q=V.getVideoPlaybackQuality(),je=`${Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)}x${Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}*${(window.devicePixelRatio||1).toFixed(2)} / ${Q.droppedVideoFrames} dropped of ${Q.totalVideoFrames}`,Je=V.duration();let Ne=`${Math.round(100*V.volume())}`;V.muted()&&(Ne+=" (muted)");const Ve=s.downloadSpeed?`${s.downloadSpeed} &dArr; / ${s.uploadSpeed} &uArr;`:void 0,Ge=s.totalDownloaded?`${s.totalDownloaded} &dArr; / ${s.totalUploaded} &uArr;`:void 0,xe=s.downloadedFromServer?`${s.downloadedFromServer} from server \xb7 ${s.downloadedFromPeers} from peers`:void 0,Kt=void 0!==c?`${(100*c).toFixed(1)}% (${(c*Je).toFixed(1)}s)`:void 0;return`\n      ${this.buildElement(V.localize("Player mode"),this.mode||"HTTP")}\n\n      ${this.buildElement(V.localize("Video UUID"),this.options_.videoUUID)}\n\n      ${this.buildElement(V.localize("Viewport / Frames"),je)}\n\n      ${this.buildElement(V.localize("Resolution"),y)}\n\n      ${this.buildElement(V.localize("Volume"),Ne)}\n\n      ${this.buildElement(V.localize("Codecs"),p)}\n      ${this.buildElement(V.localize("Color"),u)}\n\n      ${this.buildElement(V.localize("Connection Speed"),s.averageBandwidth)}\n\n      ${this.buildElement(V.localize("Network Activity"),Ve)}\n      ${this.buildElement(V.localize("Total Transfered"),Ge)}\n      ${this.buildElement(V.localize("Download Breakdown"),xe)}\n\n      ${this.buildElement(V.localize("Buffer Progress"),Kt)}\n      ${this.buildElement(V.localize("Buffer State"),O)}\n\n      ${this.buildElement(V.localize("Live Latency"),M)}\n    `}getMainTemplate(){return'\n      <button class="vjs-stats-close" tabindex=0 aria-label="Close stats" title="Close stats">[x]</button>\n      <div class="vjs-stats-list"></div>\n    '}buildElement(h,s){return s?`<div><div>${h}</div><span>${s}</span></div>`:""}timeRangesToString(h){let s="";for(let c=0;c<h.length;c++){const u=Math.floor(h.start(c)),p=Math.floor(h.end(c));s+=`[${(0,Xe.nH)(u)}, ${(0,Xe.nH)(p)}] `}return s}}P().registerComponent("StatsCard",lo);const nt=P().getPlugin("plugin");P().registerPlugin("stats",class extends nt{constructor(h,s){const c=Object.assign({},s);super(h),this.player.ready(()=>{h.addClass("vjs-stats-for-nerds")}),this.statsCard=new lo(h,s),h.addChild(this.statsCard,c)}show(){this.statsCard.show()}});const li=P().getComponent("Component");P().registerComponent("PauseBezel",class extends li{constructor(h,s){super(h,s),h.on("pause",c=>{h.seeking()||h.ended()||(this.container.innerHTML='\n  <div class="vjs-bezels-pause">\n    <div class="vjs-bezel" role="status" aria-label="Pause">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-1"></use>\n          <path class="vjs-svg-fill" d="M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z" id="vjs-id-1"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',this.showBezel())}),h.on("play",c=>{h.seeking()||(this.container.innerHTML='\n  <div class="vjs-bezels-play">\n    <div class="vjs-bezel" role="status" aria-label="Play">\n      <div class="vjs-bezel-icon">\n        <svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">\n          <use class="vjs-svg-shadow" xlink:href="#vjs-id-2"></use>\n          <path class="vjs-svg-fill" d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z" id="ytp-id-2"></path>\n        </svg>\n      </div>\n    </div>\n  </div>\n  ',this.showBezel())})}createEl(){return this.container=super.createEl("div",{className:"vjs-bezels-content"}),this.container.style.display="none",this.container}showBezel(){this.container.style.display="inherit",setTimeout(()=>{this.container.style.display="none"},500)}});const js=P().getPlugin("plugin");P().registerPlugin("bezels",class extends js{constructor(h,s){super(h),this.player.ready(()=>{h.addClass("vjs-bezels")}),h.addChild("PauseBezel",s)}});const uo=P().getComponent("MenuItem"),ho=P().getComponent("Component");class kn extends uo{constructor(h,s){super(h,s),this.settingsButton=s.menuButton,this.dialog=this.settingsButton.dialog,this.mainMenu=this.settingsButton.menu,this.panel=this.dialog.getChild("settingsPanel"),this.panelChild=this.panel.getChild("settingsPanelChild"),this.panelChildEl=this.panelChild.el(),this.size=null,this.menuToLoad="mainmenu";const c=(0,Pe.LF)(s.entry),u=P().getComponent(c);if(!u)throw new Error(`Component ${c} does not exist`);const p=Object.assign({},s,{entry:s.menuButton,menuButton:this});this.subMenu=new u(this.player(),p);const y=this.subMenu.buildCSSClass().split(" ")[0];this.settingsSubMenuEl_.className+=" "+y,this.eventHandlers(),h.ready(()=>{setTimeout(()=>{!this.player_||(this.build(),h.on("ratechange",this.submenuClickHandler),"CaptionsButton"===c&&h.on("captionsChanged",()=>{setTimeout(()=>{this.settingsSubMenuEl_.innerHTML="",this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el()),this.update(),this.bindClickEvents()},0)}),this.reset())},0)})}eventHandlers(){this.submenuClickHandler=this.onSubmenuClick.bind(this),this.transitionEndHandler=this.onTransitionEnd.bind(this)}onSubmenuClick(h){let s=null;s="tap"===h.type?h.target:h.currentTarget,(null==s?void 0:s.classList.contains("vjs-back-button"))?this.loadMainMenu():(setTimeout(()=>this.update(h),0),this.subMenu.menu.removeClass("vjs-hidden"))}createEl(){const h=P().dom.createEl("li",{className:"vjs-menu-item"});return this.settingsSubMenuTitleEl_=P().dom.createEl("div",{className:"vjs-settings-sub-menu-title"}),h.appendChild(this.settingsSubMenuTitleEl_),this.settingsSubMenuValueEl_=P().dom.createEl("div",{className:"vjs-settings-sub-menu-value"}),h.appendChild(this.settingsSubMenuValueEl_),this.settingsSubMenuEl_=P().dom.createEl("div",{className:"vjs-settings-sub-menu"}),h}handleClick(h){this.menuToLoad="submenu",P().dom.removeClass(this.el(),"open"),super.handleClick(h),this.mainMenu.el().style.opacity="0",P().dom.hasClass(this.settingsSubMenuEl_,"vjs-hidden")?(P().dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),setTimeout(()=>{this.settingsSubMenuEl_.style.opacity="1",this.settingsSubMenuEl_.style.marginRight="0px"},0),this.settingsButton.setDialogSize(this.size)):P().dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}createBackButton(){const h=this.subMenu.menu.addChild("MenuItem",{},0);h.addClass("vjs-back-button"),h.el().innerHTML=this.player().localize(this.subMenu.controlText())}PrefixedEvent(h,s,c,u="addEvent"){const p=["webkit","moz","MS","o",""];for(let y=0;y<p.length;y++)p[y]||(s=s.toLowerCase()),"addEvent"===u?h.addEventListener(p[y]+s,c,!1):"removeEvent"===u&&h.removeEventListener(p[y]+s,c,!1)}onTransitionEnd(h){"margin-right"===h.propertyName&&"mainmenu"===this.menuToLoad&&(P().dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0")}reset(){P().dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0",this.setMargin()}loadMainMenu(){const h=this.mainMenu.el();this.menuToLoad="mainmenu",this.mainMenu.show(),h.style.opacity="0";const s=this.mainMenu;this.settingsButton.setDialogSize([s.width,s.height]),setTimeout(()=>{this.setMargin(),h.style.opacity="1"},0)}build(){this.subMenu.on("updateLabel",()=>{this.update()}),this.subMenu.on("menuChanged",()=>{this.bindClickEvents(),this.setSize(),this.update()}),this.settingsSubMenuTitleEl_.innerHTML=this.player().localize(this.subMenu.controlText()),this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el()),this.panelChildEl.appendChild(this.settingsSubMenuEl_),this.update(),this.createBackButton(),this.setSize(),this.bindClickEvents(),this.PrefixedEvent(this.settingsSubMenuEl_,"TransitionEnd",this.transitionEndHandler,"addEvent")}update(h){let s=null;const c=this.subMenu.name();if(h&&"tap"===h.type?s=h.target:h&&(s=h.currentTarget),"PlaybackRateMenuButton"===c){const u=this.subMenu.labelEl_.innerHTML;setTimeout(()=>{this.settingsSubMenuValueEl_.innerHTML=u},250)}else for(const u of this.subMenu.menu.children_)if(u instanceof ho&&u.hasClass("vjs-selected")){const p=u;if("function"==typeof p.getLabel){this.settingsSubMenuValueEl_.innerHTML=p.getLabel();break}this.settingsSubMenuValueEl_.innerHTML=p.options_.label}s&&!s.classList.contains("vjs-back-button")&&this.settingsButton.hideDialog()}bindClickEvents(){for(const h of this.subMenu.menu.children())h instanceof ho&&h.on(["tap","click"],this.submenuClickHandler)}setSize(){this.dialog.removeClass("vjs-hidden"),P().dom.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),this.size=this.settingsButton.getComponentSize(this.settingsSubMenuEl_),this.setMargin(),this.dialog.addClass("vjs-hidden"),P().dom.addClass(this.settingsSubMenuEl_,"vjs-hidden")}setMargin(){if(!this.size)return;const[h]=this.size;this.settingsSubMenuEl_.style.marginRight=`-${h}px`}hideSubMenu(){!this.el()||P().dom.hasClass(this.el(),"open")&&(P().dom.addClass(this.settingsSubMenuEl_,"vjs-hidden"),P().dom.removeClass(this.el(),"open"))}}kn.prototype.contentElType="button",P().registerComponent("SettingsMenuItem",kn);const _o=P().getComponent("Button"),ci=P().getComponent("Menu"),po=P().getComponent("Component");po.registerComponent("SettingsButton",class extends _o{constructor(h,s){super(h,s),this.settingsButtonOptions=s,this.controlText("Settings"),this.dialog=this.player().addChild("settingsDialog"),this.dialogEl=this.dialog.el(),this.menu=null,this.panel=this.dialog.addChild("settingsPanel"),this.panelChild=this.panel.addChild("settingsPanelChild"),this.addClass("vjs-settings"),this.el().setAttribute("aria-label","Settings Button"),this.addSettingsItemHandler=this.onAddSettingsItem.bind(this),this.disposeSettingsItemHandler=this.onDisposeSettingsItem.bind(this),this.documentClickHandler=this.onDocumentClick.bind(this),this.userInactiveHandler=this.onUserInactive.bind(this),this.buildMenu(),this.bindEvents(),this.player().one("play",()=>this.hideDialog())}onDocumentClick(h){var s,c,u;const p=h.target;(null===(s=null==p?void 0:p.classList)||void 0===s?void 0:s.contains("vjs-settings"))||(null===(u=null===(c=null==p?void 0:p.parentElement)||void 0===c?void 0:c.classList)||void 0===u?void 0:u.contains("vjs-settings"))||this.dialog.hasClass("vjs-hidden")||this.hideDialog()}onDisposeSettingsItem(h,s){if(void 0===s){const c=this.menu.children();for(;c.length>0;)c[0].dispose(),this.menu.removeChild(c[0]);this.addClass("vjs-hidden")}else{const c=this.menu.getChild(s);c&&(c.dispose(),this.menu.removeChild(c))}this.hideDialog(),0===this.settingsButtonOptions.entries.length&&this.addClass("vjs-hidden")}dispose(){document.removeEventListener("click",this.documentClickHandler),this.isInIframe()&&window.removeEventListener("blur",this.documentClickHandler)}onAddSettingsItem(h,s){const[c,u]=s;this.addMenuItem(c,u),this.removeClass("vjs-hidden")}onUserInactive(){this.dialog.hasClass("vjs-hidden")||this.hideDialog()}bindEvents(){document.addEventListener("click",this.documentClickHandler),this.isInIframe()&&window.addEventListener("blur",this.documentClickHandler),this.player().on("addsettingsitem",this.addSettingsItemHandler),this.player().on("disposesettingsitem",this.disposeSettingsItemHandler),this.player().on("userinactive",this.userInactiveHandler)}buildCSSClass(){return`vjs-icon-settings ${super.buildCSSClass()}`}handleClick(){this.dialog.hasClass("vjs-hidden")?this.showDialog():this.hideDialog()}showDialog(){this.player().peertube().onMenuOpen(),this.menu.el().style.opacity="1",this.dialog.show(),this.setDialogSize(this.getComponentSize(this.menu))}hideDialog(){this.player_.peertube().onMenuClosed(),this.dialog.hide(),this.setDialogSize(this.getComponentSize(this.menu)),this.menu.el().style.opacity="1",this.resetChildren()}getComponentSize(h){let s=null,c=null;if(h instanceof po){const u=h.el();s=u.offsetWidth,c=u.offsetHeight,h.width=s,h.height=c}else s=h.offsetWidth,c=h.offsetHeight;return[s,c]}setDialogSize([h,s]){if("number"!=typeof s)return;const c=this.settingsButtonOptions.setup.maxHeightOffset,u=this.player().el().offsetHeight-c,p=this.panel.el();s>u?(h+=17,p.style.maxHeight=`${s=u}px`):""!==p.style.maxHeight&&(p.style.maxHeight=""),this.dialogEl.style.width=`${h}px`,this.dialogEl.style.height=`${s}px`}buildMenu(){this.menu=new ci(this.player()),this.menu.addClass("vjs-main-menu");const h=this.settingsButtonOptions.entries;if(0===h.length)return this.addClass("vjs-hidden"),void this.panelChild.addChild(this.menu);for(const s of h)this.addMenuItem(s,this.settingsButtonOptions);this.panelChild.addChild(this.menu)}addMenuItem(h,s){s.name=(0,Pe.LF)(h);const u=Object.assign({},s,{entry:h,menuButton:this}),p=new kn(this.player(),u);this.menu.addChild(p),p.on("click",P().bind(this,this.hideChildren)),p.on("click",function(){P().dom.hasClass(this.el_,"open")?P().dom.removeClass(this.el_,"open"):P().dom.addClass(this.el_,"open")})}resetChildren(){for(const h of this.menu.children())h.reset()}hideChildren(){for(const h of this.menu.children())h.hideSubMenu()}isInIframe(){return window.self!==window.top}});const Zt=P().getPlugin("plugin");P().registerPlugin("peertube",class extends Zt{constructor(h,s){super(h),this.CONSTANTS={USER_WATCHING_VIDEO_INTERVAL:5e3},this.menuOpened=!1,this.mouseInControlBar=!1,this.videoViewUrl=s.videoViewUrl,this.videoDuration=s.videoDuration,this.videoCaptions=s.videoCaptions,this.isLive=s.isLive,this.savedInactivityTimeout=h.options_.inactivityTimeout,s.autoplay&&this.player.addClass("vjs-has-autoplay"),this.player.on("autoplay-failure",()=>{this.player.removeClass("vjs-has-autoplay")}),this.player.ready(()=>{const c=this.player.options_;"webtorrent"===s.mode&&(this.player.webtorrent().on("resolutionChange",(y,O)=>this.handleResolutionChange(O)),this.player.webtorrent().on("autoResolutionChange",(y,O)=>this.trigger("autoResolutionChange",O))),"p2p-media-loader"===s.mode&&this.player.p2pMediaLoader().on("resolutionChange",(y,O)=>this.handleResolutionChange(O)),this.player.tech(!0).on("loadedqualitydata",()=>{setTimeout(()=>{this.lastResolutionChange&&this.handleResolutionChange(this.lastResolutionChange)},0)});const u=(0,Re.OV)();void 0!==u&&this.player.volume(u);const p=void 0!==c.muted?c.muted:(0,Re.W7)();if(void 0!==p&&this.player.muted(p),this.defaultSubtitle=s.subtitle||(0,Re.pW)(),this.player.on("volumechange",()=>{(0,Re.ao)(this.player.volume()),(0,Re.ZC)(this.player.muted())}),s.stopTime){const y=(0,Xe.h8)(s.stopTime),O=this;this.player.on("timeupdate",function M(){O.player.currentTime()>y&&(O.player.pause(),O.player.trigger("stopped"),O.player.off("timeupdate",M))})}this.player.textTracks().on("change",()=>{const y=this.player.textTracks().tracks_.find(O=>"captions"===O.kind&&"showing"===O.mode);(0,Re.v_)(y?y.language:"off")}),this.player.on("sourcechange",()=>this.initCaptions()),this.player.duration(s.videoDuration),this.initializePlayer(),this.runViewAdd(),this.runUserWatchVideo(s.userWatching,s.videoUUID)})}dispose(){this.videoViewInterval&&clearInterval(this.videoViewInterval),this.userWatchingVideoInterval&&clearInterval(this.userWatchingVideoInterval)}onMenuOpen(){this.menuOpened=!1,this.alterInactivity()}onMenuClosed(){this.menuOpened=!0,this.alterInactivity()}initializePlayer(){(0,Pe.tq)()&&this.player.addClass("vjs-is-mobile"),this.initSmoothProgressBar(),this.initCaptions(),this.listenControlBarMouse()}runViewAdd(){this.clearVideoViewInterval();let h=30;!this.isLive&&this.videoDuration<h&&(h=3*this.videoDuration/4);let s=0;this.videoViewInterval=setInterval(()=>{this.player&&!this.player.paused()&&(s+=1,s>h&&(this.isLive?s=0:this.clearVideoViewInterval(),this.addViewToVideo().catch(c=>console.error(c))))},1e3)}runUserWatchVideo(h,s){let c=0;this.userWatchingVideoInterval=setInterval(()=>{const u=Math.floor(this.player.currentTime());u-c>=1&&(c=u,h?this.notifyUserIsWatching(u,h.url,h.authorizationHeader).catch(p=>console.error("Cannot notify user is watching.",p)):(0,Re.Pz)(s,u))},this.CONSTANTS.USER_WATCHING_VIDEO_INTERVAL)}clearVideoViewInterval(){void 0!==this.videoViewInterval&&(clearInterval(this.videoViewInterval),this.videoViewInterval=void 0)}addViewToVideo(){return this.videoViewUrl?fetch(this.videoViewUrl,{method:"POST"}):Promise.resolve(void 0)}notifyUserIsWatching(h,s,c){const u=new URLSearchParams;u.append("currentTime",h.toString());const p=new Headers({Authorization:c});return fetch(s,{method:"PUT",body:u,headers:p})}handleResolutionChange(h){this.lastResolutionChange=h;const s=this.player.qualityLevels();for(let c=0;c<s.length;c++)if(s[c].height===h.resolutionId){h.id=s[c].id;break}console.log("Resolution changed.",h),this.trigger("resolutionChange",h)}listenControlBarMouse(){this.player.controlBar.on("mouseenter",()=>{this.mouseInControlBar=!0,this.alterInactivity()}),this.player.controlBar.on("mouseleave",()=>{this.mouseInControlBar=!1,this.alterInactivity()})}alterInactivity(){this.menuOpened?this.player.options_.inactivityTimeout=this.savedInactivityTimeout:!this.mouseInControlBar&&!this.isTouchEnabled()&&(this.player.options_.inactivityTimeout=1)}isTouchEnabled(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}initCaptions(){for(const h of this.videoCaptions)this.player.addRemoteTextTrack({kind:"captions",label:h.label,language:h.language,id:h.language,src:h.src,default:this.defaultSubtitle===h.language},!1);this.player.trigger("captionsChanged")}initSmoothProgressBar(){const h=P().getComponent("SeekBar");h.prototype.getPercent=function(){const u=this.player_.currentTime()/this.player_.duration();return u>=1?1:u},h.prototype.handleMouseMove=function(c){let u=this.calculateDistance(c)*this.player_.duration();u===this.player_.duration()&&(u-=.1),this.player_.currentTime(u),this.update()}}});const ui=P().getComponent("Button");class Pn extends ui{constructor(h,s){super(h,s),this.nextPreviousVideoButtonOptions=s,this.update()}createEl(){const h=this.options_.type,s=P().dom.createEl("button",{className:"vjs-"+h+"-video"}),c=P().dom.createEl("span",{className:"icon icon-"+h});return s.appendChild(c),s.title=this.player_.localize("next"===h?"Next video":"Previous video"),s}handleClick(){this.nextPreviousVideoButtonOptions.handler()}update(){this.nextPreviousVideoButtonOptions.isDisabled()?this.addClass("vjs-disabled"):this.removeClass("vjs-disabled")}}P().registerComponent("NextVideoButton",Pn),P().registerComponent("PreviousVideoButton",Pn);const As=P().getComponent("Button");P().registerComponent("P2PInfoButton",class extends As{createEl(){const h=P().dom.createEl("div",{className:"vjs-peertube"}),s=P().dom.createEl("div",{className:"vjs-peertube-hidden"});h.appendChild(s);const c=P().dom.createEl("span",{className:"icon icon-download"});s.appendChild(c);const u=P().dom.createEl("span",{className:"download-speed-text"}),p=P().dom.createEl("span",{className:"download-speed-number"}),y=P().dom.createEl("span");u.appendChild(p),u.appendChild(y),s.appendChild(u);const O=P().dom.createEl("span",{className:"icon icon-upload"});s.appendChild(O);const M=P().dom.createEl("span",{className:"upload-speed-text"}),V=P().dom.createEl("span",{className:"upload-speed-number"}),Q=P().dom.createEl("span");M.appendChild(V),M.appendChild(Q),s.appendChild(M);const J=P().dom.createEl("span",{className:"peers-text"}),_e=P().dom.createEl("span",{className:"peers-number"});s.appendChild(_e),s.appendChild(J);const be=P().dom.createEl("div",{className:"vjs-peertube-hidden"}),je=P().dom.createEl("span",{className:"http-fallback",textContent:"HTTP"});return be.appendChild(je),h.appendChild(be),this.player_.on("p2pInfo",(Je,Ne)=>{if(!Ne)return be.className="vjs-peertube-displayed",void(s.className="vjs-peertube-hidden");const Ve=Ne.p2p,Ge=Ne.http,xe=(0,Pe.aI)(Ve.downloadSpeed+Ge.downloadSpeed),Kt=(0,Pe.aI)(Ve.uploadSpeed+Ge.uploadSpeed),Rn=(0,Pe.aI)(Ve.downloaded+Ge.downloaded),it=(0,Pe.aI)(Ve.uploaded+Ge.uploaded),zo=Ve.numPeers;if(s.title=this.player().localize("Total downloaded: ")+Rn.join(" ")+"\n","p2p-media-loader"===Ne.source){const $o=(0,Pe.aI)(Ge.downloaded).join(" "),$=(0,Pe.aI)(Ve.downloaded).join(" ");s.title+=" * "+this.player().localize("From servers: ")+$o+"\n * "+this.player().localize("From peers: ")+$+"\n"}s.title+=this.player().localize("Total uploaded: ")+it.join(" "),p.textContent=xe[0],y.textContent=" "+xe[1],V.textContent=Kt[0],Q.textContent=" "+Kt[1],_e.textContent=zo.toString(),J.textContent=" "+(zo>1?this.player().localize("peers"):this.player_.localize("peer")),be.className="vjs-peertube-hidden",s.className="vjs-peertube-displayed"}),h}});const Os=P().getComponent("Button");P().registerComponent("PeerTubeLinkButton",class extends Os{constructor(h,s){super(h,s)}createEl(){return this.buildElement()}updateHref(){this.el().setAttribute("href",this.buildLink())}handleClick(){this.player().pause()}buildElement(){const h=P().dom.createEl("a",{href:this.buildLink(),innerHTML:"PeerTube",title:this.player().localize("Video page (new window)"),className:"vjs-peertube-link",target:"_blank"});return h.addEventListener("mouseenter",()=>this.updateHref()),h}buildLink(){const h=(0,Xe.d6)({shortUUID:this.options_.shortUUID});return(0,Xe.fj)({url:h,startTime:this.player().currentTime()})}});const an=P().getComponent("Component");an.registerComponent("PeerTubeLoadProgressBar",class extends an{constructor(h,s){super(h,s),this.on(h,"progress",this.update)}createEl(){return super.createEl("div",{className:"vjs-load-progress",innerHTML:`<span class="vjs-control-text"><span>${this.localize("Loaded")}</span>: 0%</span>`})}dispose(){super.dispose()}update(){const h=this.player().webtorrent().getTorrent();!h||(this.el().style.width=100*h.progress+"%")}});const _i=P().getComponent("MenuItem");class pi extends _i{constructor(h,s){s.selectable=!0,super(h,s),this.autoResolutionPossible=!0,this.currentResolutionLabel="",this.resolutionId=s.id,this.label=s.label,this.labels=s.labels,this.callback=s.callback,h.peertube().on("resolutionChange",(c,u)=>this.updateSelection(u)),-1===this.resolutionId&&h.peertube().on("autoResolutionChange",(c,u)=>this.updateAutoResolution(u))}handleClick(h){!1===this.autoResolutionPossible&&-1===this.resolutionId||(super.handleClick(h),this.callback(this.resolutionId,"video"))}updateSelection(h){-1===this.resolutionId&&(this.currentResolutionLabel=this.labels[h.id]),this.selected(!0!==h.auto?this.resolutionId===h.id:-1===this.resolutionId)}updateAutoResolution(h){!1===h.possible?this.addClass("disabled"):this.removeClass("disabled"),this.autoResolutionPossible=h.possible}getLabel(){return-1===this.resolutionId?this.label+" <small>"+this.currentResolutionLabel+"</small>":this.label}}P().registerComponent("ResolutionMenuItem",pi);const Ms=P().getComponent("Menu"),fi=P().getComponent("MenuButton");P().registerComponent("ResolutionMenuButton",class extends fi{constructor(h,s){super(h,s),this.controlText("Quality"),h.tech(!0).on("loadedqualitydata",(c,u)=>this.buildQualities(u)),h.peertube().on("resolutionChange",()=>setTimeout(()=>this.trigger("updateLabel"),0))}createEl(){const h=super.createEl();return this.labelEl_=P().dom.createEl("div",{className:"vjs-resolution-value"}),h.appendChild(this.labelEl_),h}updateARIAAttributes(){this.el().setAttribute("aria-label","Quality")}createMenu(){return new Ms(this.player_)}buildCSSClass(){return super.buildCSSClass()+" vjs-resolution-button"}buildWrapperCSSClass(){return"vjs-resolution-control "+super.buildWrapperCSSClass()}addClickListener(h){h.on("click",()=>{const s=this.menu.children();for(const c of s)h!==c&&c.selected(!1)})}buildQualities(h){const s={};h.qualityData.video.sort((c,u)=>c.id>u.id?-1:c.id===u.id?0:1);for(const c of h.qualityData.video){if(-1===c.id)continue;const u="0p"===c.label?this.player().localize("Audio-only"):c.label;this.menu.addChild(new pi(this.player_,{id:c.id,label:u,selected:c.selected,callback:h.qualitySwitchCallback})),s[c.id]=c.label}this.menu.addChild(new pi(this.player_,{id:-1,label:this.player_.localize("Auto"),labels:s,callback:h.qualitySwitchCallback,selected:!0}));for(const c of this.menu.children())this.addClickListener(c);this.trigger("menuChanged")}});const ln=P().getComponent("Component");ln.registerComponent("SettingsDialog",class extends ln{constructor(h){super(h),this.hide()}createEl(){const h=this.id();return super.createEl("div",{className:"vjs-settings-dialog vjs-modal-overlay",innerHTML:"",tabIndex:-1},{role:"dialog","aria-labelledby":"TTsettingsDialogLabel-"+h,"aria-describedby":"TTsettingsDialogDescription-"+h})}});const In=P().getComponent("Component");In.registerComponent("SettingsPanel",class extends In{createEl(){return super.createEl("div",{className:"vjs-settings-panel",innerHTML:"",tabIndex:-1})}});const vi=P().getComponent("Component");vi.registerComponent("SettingsPanelChild",class extends vi{createEl(){return super.createEl("div",{className:"vjs-settings-panel-child",innerHTML:"",tabIndex:-1})}});const ks=P().getComponent("Button");let Ps=(()=>{class d extends ks{constructor(s,c){super(s,c);const u=(0,Re.y_)();!0===u&&(this.player().addClass(d.THEATER_MODE_CLASS),this.handleTheaterChange()),this.controlText("Theater mode"),this.player().theaterEnabled=u}buildCSSClass(){return`vjs-theater-control ${super.buildCSSClass()}`}handleTheaterChange(){const s=this.isTheaterEnabled();this.controlText(s?"Normal mode":"Theater mode"),(0,Re.AO)(s),this.player_.trigger("theaterChange",s)}handleClick(){this.player_.toggleClass(d.THEATER_MODE_CLASS),this.handleTheaterChange()}isTheaterEnabled(){return this.player_.hasClass(d.THEATER_MODE_CLASS)}}return d.THEATER_MODE_CLASS="vjs-theater-enabled",d})();P().registerComponent("TheaterButton",Ps);const Is=P().getComponent("ClickableComponent");class mi extends Is{constructor(h,s){super(h,s)}createEl(){this.wrapper=super.createEl("div",{className:"vjs-playlist-button",innerHTML:"",tabIndex:-1});const h=super.createEl("div",{className:"vjs-playlist-icon",innerHTML:"",tabIndex:-1});return this.playlistInfoElement=super.createEl("div",{className:"vjs-playlist-info",innerHTML:"",tabIndex:-1}),this.wrapper.appendChild(h),this.wrapper.appendChild(this.playlistInfoElement),this.update(),this.wrapper}update(){const h=this.options_;this.playlistInfoElement.innerHTML=h.getCurrentPosition()+"/"+h.playlist.videosLength,this.wrapper.title=this.player().localize("Playlist: {1}",[h.playlist.displayName])}handleClick(){this.getPlaylistMenu().open()}getPlaylistMenu(){return this.options_.playlistMenu}}P().registerComponent("PlaylistButton",mi);const cn=P().getComponent("Component");class gi extends cn{constructor(h,s){super(h,s),this.emitTapEvents(),this.element=s.element,this.on(["click","tap"],()=>this.switchPlaylistItem()),this.on("keydown",c=>this.handleKeyDown(c))}createEl(){const h=this.options_,s=super.createEl("li",{className:"vjs-playlist-menu-item",innerHTML:""});h.element.video||s.classList.add("vjs-disabled");const c=super.createEl("div",{className:"item-position-block"}),u=super.createEl("div",{className:"item-position",innerHTML:h.element.position});return c.appendChild(u),s.appendChild(c),h.element.video?this.buildAvailableVideo(s,c,h):this.buildUnavailableVideo(s),s}setSelected(h){h?this.addClass("vjs-selected"):this.removeClass("vjs-selected")}getElement(){return this.element}buildAvailableVideo(h,s,c){const u=c.element,p=super.createEl("div",{className:"item-player"});s.appendChild(p);const y=super.createEl("img",{src:window.location.origin+u.video.thumbnailPath}),O=super.createEl("div",{className:"info-block"}),M=super.createEl("div",{innerHTML:u.video.name,className:"title"}),V=super.createEl("div",{innerHTML:u.video.channel.displayName,className:"channel"});if(O.appendChild(M),O.appendChild(V),u.startTimestamp||u.stopTimestamp){let Q="";u.startTimestamp&&(Q+=(0,Xe.nH)(u.startTimestamp)),u.stopTimestamp&&(Q+=" - "+(0,Xe.nH)(u.stopTimestamp));const J=super.createEl("div",{innerHTML:Q,className:"timestamps"});O.append(J)}h.append(y),h.append(O)}buildUnavailableVideo(h){const s=super.createEl("div",{className:"item-unavailable",innerHTML:this.player().localize("Unavailable video")});h.appendChild(s)}handleKeyDown(h){("Space"===h.code||"Enter"===h.code)&&this.switchPlaylistItem()}switchPlaylistItem(){this.options_.onClicked()}}cn.registerComponent("PlaylistMenuItem",gi);const bo=P().getComponent("Component");class yi extends bo{constructor(h,s){super(h,s);const c=this;function u(){c.close()}this.el().addEventListener("mouseenter",()=>{this.player().off("userinactive",u)}),this.el().addEventListener("mouseleave",()=>{this.player().one("userinactive",u)}),this.player().on("click",p=>{let y=p.target;do{if(y.classList.contains("vjs-playlist-menu")||y.classList.contains("vjs-playlist-button"))return;y=y.parentElement}while(y);this.close()})}createEl(){this.menuItems=[];const h=this.getOptions(),s=super.createEl("div",{className:"vjs-playlist-menu",innerHTML:"",tabIndex:-1}),c=super.createEl("div",{className:"header"}),u=super.createEl("div"),p=super.createEl("div",{innerHTML:h.playlist.displayName,className:"title"}),y=h.playlist.videoChannel,O=super.createEl("div",{innerHTML:y?this.player().localize("By {1}",[y.displayName]):"",className:"channel"});u.appendChild(p),u.appendChild(O);const M=super.createEl("div",{className:"cross"});M.addEventListener("click",()=>this.close()),c.appendChild(u),c.appendChild(M);const V=super.createEl("ol");for(const Q of h.elements){const J=new gi(this.player(),{element:Q,onClicked:()=>this.onItemClicked(Q)});V.appendChild(J.el()),this.menuItems.push(J)}return s.appendChild(c),s.appendChild(V),s}update(){const h=this.getOptions();this.updateSelected(h.getCurrentPosition())}open(){this.player().addClass("playlist-menu-displayed")}close(){this.player().removeClass("playlist-menu-displayed")}updateSelected(h){for(const s of this.menuItems)s.setSelected(s.getElement().position===h)}getOptions(){return this.options_}onItemClicked(h){this.getOptions().onItemClicked(h)}}bo.registerComponent("PlaylistMenu",yi);const To=P().getPlugin("plugin");P().registerPlugin("playlist",class extends To{constructor(h,s){super(h,s),this.options=s,this.player.ready(()=>{h.addClass("vjs-playlist")}),this.playlistMenu=new yi(h,s),this.playlistButton=new mi(h,Object.assign({},s,{playlistMenu:this.playlistMenu})),h.addChild(this.playlistMenu,s),h.addChild(this.playlistButton,s)}updateSelected(){this.playlistMenu.updateSelected(this.options.getCurrentPosition())}});var Et=E(35436),Ct=E(62146),bi=E(49899);class un{constructor(h=[]){this.baseUrls=h}removeBySegmentUrl(h){console.log("Removing redundancy of segment URL %s.",h);const s=(0,bi.dirname)(h);this.baseUrls=this.baseUrls.filter(c=>c!==s&&c!==s+"/")}buildUrl(h){const s=this.baseUrls.length+1,c=this.getRandomInt(s);if(c===s-1)return h;const u=this.baseUrls[c],p=u.endsWith("/")?"":"/";return u+p+(0,bi.basename)(h)}countBaseUrls(){return this.baseUrls.length}getRandomInt(h){return Math.floor(Math.random()*Math.floor(h))}}function dn(d){return function(s){return d.buildUrl(s.url)}}function Yt(d,h){let s=Ti(d);const c=/bytes=(\d+)-(\d+)/;return function u(p,y,O,M=1){return(0,Ue.mG)(this,void 0,void 0,function*(){h&&(yield(0,Ct.Dc)(1e3));const V=(0,bi.basename)(p.url),Q=(yield s)[V];if(!Q&&M>3)throw new Error(`Unknown segment name ${V} in segment validator`);if(!Q)return console.log("Refetching sha segments for %s.",V),yield(0,Ct.Dc)(1e3),s=Ti(d),void(yield u(p,y,O,M+1));let J,_e="";if("string"==typeof Q)J=Q;else{const je=c.exec(p.range);_e=je[1]+"-"+je[2],J=Q[_e]}if(void 0===J)throw new Error(`Unknown segment name ${V}/${_e} in segment validator`);const be=yield function(d){return(0,Ue.mG)(this,void 0,void 0,function*(){if(d)return window.crypto.subtle?window.crypto.subtle.digest("SHA-256",d).then(s=>function(d){if(!d)return"";let h="";const s="0123456789abcdef";return new Uint8Array(d).forEach(u=>{h+=s[u>>4]+s[15&u]}),h}(s)):(new((yield Promise.all([E.e(933),E.e(788)]).then(E.t.bind(E,82788,23))).default.sha256)).update(Buffer.from(d)).digest("hex")})}(p.data);if(be!==J)throw new Error(`Hashes does not correspond for segment ${V}/${_e}(expected: ${J} instead of ${be})`)})}}function Ti(d){return fetch(d).then(h=>h.json()).catch(h=>(console.error("Cannot get sha256 segments",h),{}))}let Si=(()=>{class d{static getServerTranslations(s,c){const u=d.getLocalePath(s,c);return u?fetch(u+"/server.json").then(p=>p.json()).catch(p=>{console.error("Cannot get server translations",p)}):Promise.resolve(void 0)}static loadLocaleInVideoJS(s,c,u){const p=d.getLocalePath(s,c);if(!p)return Promise.resolve(void 0);let y;y=d.videojsLocaleCache[p]?Promise.resolve(d.videojsLocaleCache[p]):fetch(p+"/player.json").then(M=>M.json()).then(M=>(d.videojsLocaleCache[p]=M,M)).catch(M=>{console.error("Cannot get player translations",M)});const O=(0,Et.jT)(c);return y.then(M=>u.addLanguage((0,Et.xH)(O),M))}static getLocalePath(s,c){const u=(0,Et.jT)(c);if((0,Et.GM)(u)&&!(0,Et.TF)(u))return s+"/client/locales/"+u}}return d.videojsLocaleCache={},d})();P().getComponent("PlaybackRateMenuButton").prototype.controlText_="Speed";const wn=P().getComponent("CaptionsButton");wn.prototype.controlText_="Subtitles/CC",wn.prototype.label_=" ";let Dn=(()=>{class d{static initState(){d.alreadyPlayed=!1}static initialize(s,c,u){return(0,Ue.mG)(this,void 0,void 0,function*(){let p;this.pluginsManager=c.pluginsManager,this.onPlayerChange=u,this.playerElementClassName=c.common.playerElement.className,"webtorrent"===s&&(yield Promise.all([E.e(933),E.e(268),E.e(592),E.e(49)]).then(E.bind(E,9049))),"p2p-media-loader"===s&&([p]=yield Promise.all([Promise.all([E.e(933),E.e(268),E.e(571)]).then(E.t.bind(E,58571,23)),Promise.all([E.e(933),E.e(268),E.e(571),E.e(342)]).then(E.bind(E,17342))]));const y=yield this.getVideojsOptions(s,c,p);yield Si.loadLocaleInVideoJS(c.common.serverUrl,c.common.language,P());const O=this;return new Promise(M=>{P()(c.common.playerElement,y,function(){const V=this;let Q=!1;return V.tech(!0).one("error",()=>{Q||O.maybeFallbackToWebTorrent(s,V,c),Q=!0}),V.one("error",()=>{Q||O.maybeFallbackToWebTorrent(s,V,c),Q=!0}),V.one("play",()=>{d.alreadyPlayed=!0}),O.addContextMenu({mode:s,player:V,videoShortUUID:c.common.videoShortUUID,videoEmbedUrl:c.common.embedUrl,videoEmbedTitle:c.common.embedTitle}),V.bezels(),V.stats({videoUUID:c.common.videoUUID,videoIsLive:c.common.isLive,mode:s}),V.on("p2pInfo",(J,_e)=>{"p2p-media-loader"!==_e.source||isNaN(_e.bandwidthEstimate)||(0,Re.M_)(_e.bandwidthEstimate)}),M(V)})})})}static maybeFallbackToWebTorrent(s,c,u){return(0,Ue.mG)(this,void 0,void 0,function*(){if("webtorrent"===s)return;console.log("Fallback to webtorrent.");const p=document.createElement("video");p.className=this.playerElementClassName;let y=u.common.playerElement.parentNode;y||(y=document.getElementById(u.common.playerElement.id).parentNode),y.parentNode.insertBefore(p,y),u.common.playerElement=p,u.common.onPlayerElementChange(p),c.dispose(),yield Promise.all([E.e(933),E.e(268),E.e(592),E.e(49)]).then(E.bind(E,9049));const O="webtorrent",M=yield this.getVideojsOptions(O,u),V=this;P()(p,M,function(){V.addContextMenu({mode:O,player:this,videoShortUUID:u.common.videoShortUUID,videoEmbedUrl:u.common.embedUrl,videoEmbedTitle:u.common.embedTitle}),d.onPlayerChange(this)})})}static getVideojsOptions(s,c,u){return(0,Ue.mG)(this,void 0,void 0,function*(){const p=c.common,y="p2p-media-loader"===s;let O=this.getAutoPlayValue(p.autoplay);const M={preloadTextTracks:!1},V={peertube:{mode:s,autoplay:O,videoViewUrl:p.videoViewUrl,videoDuration:p.videoDuration,userWatching:p.userWatching,subtitle:p.subtitle,videoCaptions:p.videoCaptions,stopTime:p.stopTime,isLive:p.isLive,videoUUID:p.videoUUID}};if(p.playlist&&(V.playlist=p.playlist),!0===p.enableHotkeys&&d.addHotkeysOptions(V),y){const{hlsjs:J}=d.addP2PMediaLoaderOptions(V,c,u);Object.assign(M,J.html5)}"webtorrent"===s&&(d.addWebTorrentOptions(V,c),O=!1);const Q={html5:M,textTrackSettings:!1,controls:void 0===p.controls||p.controls,loop:void 0!==p.loop&&p.loop,muted:void 0!==p.muted?p.muted:void 0,autoplay:this.getAutoPlayValue(O),poster:p.poster,inactivityTimeout:p.inactivityTimeout,playbackRates:[.5,.75,1,1.25,1.5,1.75,2],plugins:V,controlBar:{children:this.getControlBarChildren(s,{videoShortUUID:p.videoShortUUID,captions:p.captions,peertubeLink:p.peertubeLink,theaterButton:p.theaterButton,nextVideo:p.nextVideo,hasNextVideo:p.hasNextVideo,previousVideo:p.previousVideo,hasPreviousVideo:p.hasPreviousVideo})}};return p.language&&!(0,Et.TF)(p.language)&&Object.assign(Q,{language:p.language}),this.pluginsManager.runHook("filter:internal.player.videojs.options.result",Q)})}static addP2PMediaLoaderOptions(s,c,u){const p=c.p2pMediaLoader,y=c.common,O=p.trackerAnnounce.filter(je=>je.startsWith("ws")),M=new un(c.p2pMediaLoader.redundancyBaseUrls),V={redundancyUrlManager:M,type:"application/x-mpegURL",startTime:y.startTime,src:p.playlistUrl};let Q=!1;navigator&&navigator.connection&&"cellular"===navigator.connection.type&&(console.log("We are on a cellular connection: disabling seeding."),Q=!0);const J={loader:{trackerAnnounce:O,segmentValidator:Yt(c.p2pMediaLoader.segmentsSha256Url,c.common.isLive),rtcConfig:(0,Pe.gI)(),requiredSegmentsPriority:1,simultaneousHttpDownloads:1,segmentUrlBuilder:dn(M),useP2P:(0,Re.H2)(),consumeOnly:Q},segments:{swarmId:p.playlistUrl}},be={p2pMediaLoader:V,hlsjs:{levelLabelHandler:je=>{const Je=Math.min(je.height||0,je.width||0),Ne=p.videoFiles.find(Ge=>Ge.resolution.id===Je);if(!Ne)return je.height;let Ve=Ne.resolution.label;return Ne.fps>=50&&(Ve+=Ne.fps),Ve},html5:{hlsjsConfig:this.getHLSOptions(u,J)}}};return Object.assign(s,be),be}static getHLSOptions(s,c){const u={capLevelToPlayerSize:!0,autoStartLoad:!1,liveSyncDurationCount:5,loader:new s.Engine(c).createLoaderClass()},p=(0,Re.zZ)();return p?Object.assign(Object.assign({},u),{abrEwmaDefaultEstimate:8*p,startLevel:-1,testBandwidth:!1,debug:!1}):u}static addWebTorrentOptions(s,c){const u=c.common,p=c.webtorrent,y=c.p2pMediaLoader,M={autoplay:"play"===this.getAutoPlayValue(u.autoplay),videoDuration:u.videoDuration,playerElement:u.playerElement,videoFiles:0!==p.videoFiles.length?p.videoFiles:(null==y?void 0:y.videoFiles)||[],startTime:u.startTime};Object.assign(s,{webtorrent:M})}static getControlBarChildren(s,c){const u=[],p="webtorrent"===s?"peerTubeLoadProgressBar":"loadProgressBar";u.push("playbackRateMenuButton"),!0===c.captions&&u.push("captionsButton"),u.push("resolutionMenuButton");const y={};return c.previousVideo&&Object.assign(y,{previousVideoButton:{type:"previous",handler:c.previousVideo,isDisabled:()=>!!c.hasPreviousVideo&&!c.hasPreviousVideo()}}),Object.assign(y,{playToggle:{}}),c.nextVideo&&Object.assign(y,{nextVideoButton:{type:"next",handler:c.nextVideo,isDisabled:()=>!!c.hasNextVideo&&!c.hasNextVideo()}}),Object.assign(y,{currentTimeDisplay:{},timeDivider:{},durationDisplay:{},liveDisplay:{},flexibleWidthSpacer:{},progressControl:{children:{seekBar:{children:{[p]:{},mouseTimeDisplay:{},playProgressBar:{}}}}},p2PInfoButton:{},muteToggle:{},volumeControl:{},settingsButton:{setup:{maxHeightOffset:40},entries:u}}),!0===c.peertubeLink&&Object.assign(y,{peerTubeLinkButton:{shortUUID:c.videoShortUUID}}),!0===c.theaterButton&&Object.assign(y,{theaterButton:{}}),Object.assign(y,{fullscreenToggle:{}}),y}static addContextMenu(s){const{mode:c,player:u,videoEmbedTitle:p,videoEmbedUrl:y,videoShortUUID:O}=s;u.contextmenuUI({content:()=>{const V=u.options_.loop,Q=[{icon:"repeat",label:u.localize("Play in loop")+(V?'<span class="vjs-icon-tick-white"></span>':""),listener:function(){u.options_.loop=!V}},{label:u.localize("Copy the video URL"),listener:function(){(0,Ct.vQ)((0,Xe.d6)({shortUUID:O}))}},{label:u.localize("Copy the video URL at the current time"),listener:function(){const J=(0,Xe.d6)({shortUUID:O});(0,Ct.vQ)((0,Xe.fj)({url:J,startTime:this.currentTime()}))}},{icon:"code",label:u.localize("Copy embed code"),listener:()=>{(0,Ct.vQ)((0,Pe.t3)(y,p))}}];return"webtorrent"===c&&Q.push({label:u.localize("Copy magnet URI"),listener:function(){(0,Ct.vQ)(this.webtorrent().getCurrentVideoFile().magnetUri)}}),Q.push({icon:"info",label:u.localize("Stats for nerds"),listener:()=>{u.stats().show()}}),Q.map(J=>Object.assign(Object.assign({},J),{label:`<span class="vjs-icon-${J.icon||"link-2"}"></span>`+J.label}))}})}static addHotkeysOptions(s){const c=(u,p)=>!(u.ctrlKey||u.altKey||u.metaKey||u.shiftKey||u.key!==p);Object.assign(s,{hotkeys:{skipInitialFocus:!0,enableInactiveFocus:!1,captureDocumentHotkeys:!0,documentHotkeysFocusElementFilter:u=>{const p=u.tagName.toLowerCase();return"content"===u.id||"body"===p||"video"===p},enableVolumeScroll:!1,enableModifiersForNumbers:!1,rewindKey:function(u){return c(u,"ArrowLeft")},forwardKey:function(u){return c(u,"ArrowRight")},fullscreenKey:function(u){return c(u,"f")||!u.altKey&&u.ctrlKey&&"Enter"===u.key},customKeys:{increasePlaybackRateKey:{key:function(u){return c(u,">")},handler:function(u){const p=Math.min(u.playbackRate()+.1,5);u.playbackRate(parseFloat(p.toFixed(2)))}},decreasePlaybackRateKey:{key:function(u){return c(u,"<")},handler:function(u){const p=Math.max(u.playbackRate()-.1,.1);u.playbackRate(parseFloat(p.toFixed(2)))}},frameByFrame:{key:function(u){return c(u,".")},handler:function(u){u.pause(),u.currentTime(u.currentTime()+1/30)}}}}})}static getAutoPlayValue(s){return!0!==s?s:(0,Pe.gn)()||(0,Pe.G6)()?!!d.alreadyPlayed&&"play":"play"}}return d.alreadyPlayed=!1,d})();var ji=E(24766);let xi=(()=>{class d{getId(){return"plugin-placeholder-"+this.pluginId}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-plugin-placeholder"]],inputs:{pluginId:"pluginId"},decls:1,vars:1,consts:[[3,"id"]],template:function(s,c){1&s&&n._UZ(0,"div",0),2&s&&n.Q6J("id",c.getId())},styles:["div[_ngcontent-%COMP%]{height:100%}"]}),d})();function So(d,h){1&d&&(n.TgZ(0,"div",3),n.SDv(1,4),n.qZA())}function jo(d,h){1&d&&(n.TgZ(0,"div",3),n.SDv(1,5),n.qZA())}function Ai(d,h){1&d&&(n.TgZ(0,"div",3),n.SDv(1,6),n.qZA())}function xo(d,h){if(1&d&&(n.TgZ(0,"div",7),n.SDv(1,8),n.ALo(2,"date"),n.qZA()),2&d){const s=n.oxw();n.xp6(2),n.pQV(n.xi3(2,1,s.video.scheduledUpdate.updateAt,"full")),n.QtT(1)}}function Ao(d,h){1&d&&(n.TgZ(0,"div",7),n.SDv(1,9),n.qZA())}function ws(d,h){1&d&&(n.TgZ(0,"div",7),n.SDv(1,10),n.qZA())}function Nn(d,h){if(1&d&&(n.TgZ(0,"div",11),n.TgZ(1,"div",12),n.SDv(2,13),n.qZA(),n._uU(3),n.qZA()),2&d){const s=n.oxw();n.xp6(3),n.hij(" ",s.video.blockedReason,"\n")}}let Oo=(()=>{class d{isVideoToTranscode(){return this.video&&2===this.video.state.id}isVideoToImport(){return this.video&&3===this.video.state.id}isVideoToMoveToExternalStorage(){return this.video&&6===this.video.state.id}hasVideoScheduledPublication(){var s;return void 0!==(null===(s=this.video)||void 0===s?void 0:s.scheduledUpdate)}isWaitingForLive(){var s;return 4===(null===(s=this.video)||void 0===s?void 0:s.state.id)}isLiveEnded(){var s;return 5===(null===(s=this.video)||void 0===s?void 0:s.state.id)}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-alert"]],inputs:{video:"video"},decls:7,vars:7,consts:function(){let h,s,c,u,p,y,O;return h=" The video is being imported, it will be available when the import is finished.\n",s=" The video is being transcoded, it may not work properly.\n",c=" The video is being moved to an external server, it may not work properly.\n",u=" This video will be published on " + "\ufffd0\ufffd" + ".\n",p=" This live has not started yet.\n",y=" This live has ended.\n",O="This video is blocked.",[["class","alert alert-warning",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-warning"],h,s,c,[1,"alert","alert-info"],u,p,y,[1,"alert","alert-danger"],[1,"blocked-label"],O]},template:function(s,c){1&s&&(n.YNc(0,So,2,0,"div",0),n.YNc(1,jo,2,0,"div",0),n.YNc(2,Ai,2,0,"div",0),n.YNc(3,xo,3,4,"div",1),n.YNc(4,Ao,2,0,"div",1),n.YNc(5,ws,2,0,"div",1),n.YNc(6,Nn,4,1,"div",2)),2&s&&(n.Q6J("ngIf",c.isVideoToImport()),n.xp6(1),n.Q6J("ngIf",c.isVideoToTranscode()),n.xp6(1),n.Q6J("ngIf",c.isVideoToMoveToExternalStorage()),n.xp6(1),n.Q6J("ngIf",c.hasVideoScheduledPublication()),n.xp6(1),n.Q6J("ngIf",c.isWaitingForLive()),n.xp6(1),n.Q6J("ngIf",c.isLiveEnded()),n.xp6(1),n.Q6J("ngIf",null==c.video?null:c.video.blacklisted))},directives:[k.O5],pipes:[k.uU],styles:[".alert[_ngcontent-%COMP%]{text-align:center;border-radius:0}"]}),d})(),Oi=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-player-styles"]],decls:0,vars:0,template:function(s,c){},styles:['@charset "UTF-8";.vjs-modal-dialog .vjs-modal-dialog-content,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");font-weight:normal;font-style:normal}.vjs-icon-play,.video-js .vjs-play-control .vjs-icon-placeholder,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-play:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{content:"\\f101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-play-circle:before{content:"\\f102"}.vjs-icon-pause,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-pause:before,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before{content:"\\f103"}.vjs-icon-volume-mute,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-mute:before,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before{content:"\\f104"}.vjs-icon-volume-low,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-low:before,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before{content:"\\f105"}.vjs-icon-volume-mid,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-mid:before,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before{content:"\\f106"}.vjs-icon-volume-high,.video-js .vjs-mute-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-high:before,.video-js .vjs-mute-control .vjs-icon-placeholder:before{content:"\\f107"}.vjs-icon-fullscreen-enter,.video-js .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-fullscreen-enter:before,.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before{content:"\\f108"}.vjs-icon-fullscreen-exit,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-fullscreen-exit:before,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before{content:"\\f109"}.vjs-icon-square{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-square:before{content:"\\f10a"}.vjs-icon-spinner{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-spinner:before{content:"\\f10b"}.vjs-icon-subtitles,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-subtitles:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before{content:"\\f10c"}.vjs-icon-captions,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-captions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-captions:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-captions-button .vjs-icon-placeholder:before{content:"\\f10d"}.vjs-icon-chapters,.video-js .vjs-chapters-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-chapters:before,.video-js .vjs-chapters-button .vjs-icon-placeholder:before{content:"\\f10e"}.vjs-icon-share{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-share:before{content:"\\f10f"}.vjs-icon-cog{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-cog:before{content:"\\f110"}.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder,.video-js .vjs-volume-level,.video-js .vjs-play-progress{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before,.video-js .vjs-volume-level:before,.video-js .vjs-play-progress:before{content:"\\f111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-circle-outline:before{content:"\\f112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\f113"}.vjs-icon-hd{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-hd:before{content:"\\f114"}.vjs-icon-cancel,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-cancel:before,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before{content:"\\f115"}.vjs-icon-replay,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-replay:before,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before{content:"\\f116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-facebook:before{content:"\\f117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-gplus:before{content:"\\f118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-linkedin:before{content:"\\f119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-twitter:before{content:"\\f11a"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-tumblr:before{content:"\\f11b"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-pinterest:before{content:"\\f11c"}.vjs-icon-audio-description,.video-js .vjs-descriptions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-audio-description:before,.video-js .vjs-descriptions-button .vjs-icon-placeholder:before{content:"\\f11d"}.vjs-icon-audio,.video-js .vjs-audio-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-audio:before,.video-js .vjs-audio-button .vjs-icon-placeholder:before{content:"\\f11e"}.vjs-icon-next-item{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-next-item:before{content:"\\f11f"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-previous-item:before{content:"\\f120"}.vjs-icon-picture-in-picture-enter,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-picture-in-picture-enter:before,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:"\\f121"}.vjs-icon-picture-in-picture-exit,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-picture-in-picture-exit:before,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:"\\f122"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:normal;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js *:before,.video-js *:after{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-fluid,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-1-1{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-9-16{padding-top:177.7777777778%}.video-js.vjs-1-1{padding-top:100%}.video-js.vjs-fill{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs){width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1!important;visibility:visible!important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:#2b333fb3;border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js:hover .vjs-big-play-button,.video-js .vjs-big-play-button:focus{border-color:#fff;background-color:#73859f;background-color:#73859f80;transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button,.vjs-error .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover,.js-focus-visible .vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:#73859f80}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover,.js-focus-visible .vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible){background:none}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:bold;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0em;margin-bottom:1.5em;border-top-color:#2b333fb3}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:#2b333fb3;position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,.vjs-menu-button-popup .vjs-menu.vjs-lock-showing{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline:hover,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline:hover .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline.vjs-slider-active .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:#2b333fb3}.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar,.vjs-error .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before,.video-js .vjs-control:focus{text-shadow:0em 0em 1em white}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:#fffc;border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:#000c}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;background-color:#73859f;background-color:#73859f80}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0em 0em 1em white;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em;z-index:1}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:#2b333fb3}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:#fffc;border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.vjs-no-flex .vjs-volume-control .vjs-mouse-display{z-index:0}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-volume-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:#000c}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js:not(.vjs-live) .vjs-live-control,.video-js.vjs-liveui .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control{display:none}.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time{display:none}.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.vjs-playback-rate>.vjs-menu-button,.vjs-playback-rate .vjs-playback-rate-value{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0em}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:before,.vjs-loading-spinner:after{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:before,.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after{animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\f10d";font-size:1.5em;line-height:inherit}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\f11d";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-chapters-button,.video-js.vjs-layout-small .vjs-descriptions-button,.video-js.vjs-layout-small .vjs-captions-button,.video-js.vjs-layout-small .vjs-subtitles-button,.video-js.vjs-layout-small .vjs-audio-button,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-chapters-button,.video-js.vjs-layout-x-small .vjs-descriptions-button,.video-js.vjs-layout-x-small .vjs-captions-button,.video-js.vjs-layout-x-small .vjs-subtitles-button,.video-js.vjs-layout-x-small .vjs-audio-button,.video-js.vjs-layout-x-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-chapters-button,.video-js.vjs-layout-tiny .vjs-descriptions-button,.video-js.vjs-layout-tiny .vjs-captions-button,.video-js.vjs-layout-tiny .vjs-subtitles-button,.video-js.vjs-layout-tiny .vjs-audio-button,.video-js.vjs-layout-tiny .vjs-volume-control{display:none!important}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active{width:auto;width:initial}.video-js.vjs-layout-x-small:not(.vjs-liveui) .vjs-subs-caps-button,.video-js.vjs-layout-x-small:not(.vjs-live) .vjs-subs-caps-button,.video-js.vjs-layout-tiny .vjs-subs-caps-button{display:none}.video-js.vjs-layout-x-small.vjs-liveui .vjs-custom-control-spacer,.video-js.vjs-layout-tiny .vjs-custom-control-spacer{flex:auto;display:block}.video-js.vjs-layout-x-small.vjs-liveui.vjs-no-flex .vjs-custom-control-spacer,.video-js.vjs-layout-tiny.vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js.vjs-layout-x-small.vjs-liveui .vjs-progress-control,.video-js.vjs-layout-tiny .vjs-progress-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:#2b333fbf;color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-font,.vjs-text-track-settings .vjs-track-settings-controls{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display: grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:focus,.vjs-track-settings-controls button:active{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:#2b333fbf}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>*:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js *:focus:not(.focus-visible){outline:none}.video-js *:focus:not(:focus-visible){outline:none}body{--embedForegroundColor: #fff;--embedBigPlayBackgroundColor: rgba(0, 0, 0, .8)}.video-js.vjs-peertube-skin{font-size:13px;color:var(--embedForegroundColor)}.video-js.vjs-peertube-skin .vjs-dock-text{padding:20px;background:linear-gradient(to bottom,rgba(0,0,0,.6) 0,rgba(0,0,0,.2) 70%,rgba(0,0,0,0) 100%)}@supports (padding-inline-end: 60px){.video-js.vjs-peertube-skin .vjs-dock-text{padding-inline-end:60px}}@supports not (padding-inline-end: 60px){.video-js.vjs-peertube-skin .vjs-dock-text{padding-right:60px}}.video-js.vjs-peertube-skin .vjs-dock-title,.video-js.vjs-peertube-skin .vjs-dock-description{text-shadow:0 0 2px rgba(0,0,0,.5)}.video-js.vjs-peertube-skin .vjs-dock-description{font-size:11px}@supports (margin-inline-end: 4px){.video-js.vjs-peertube-skin .vjs-dock-description .text:before{margin-inline-end:4px}}@supports not (margin-inline-end: 4px){.video-js.vjs-peertube-skin .vjs-dock-description .text:before{margin-right:4px}}.video-js.vjs-peertube-skin .vjs-dock-description .text:after{transform:scaleX(-1)}@supports (margin-inline-start: 4px){.video-js.vjs-peertube-skin .vjs-dock-description .text:after{margin-inline-start:4px}}@supports not (margin-inline-start: 4px){.video-js.vjs-peertube-skin .vjs-dock-description .text:after{margin-left:4px}}.video-js.vjs-peertube-skin .vjs-volume-level:before{content:""}.video-js.vjs-peertube-skin .vjs-audio-button{display:none}.video-js.vjs-peertube-skin .vjs-big-play-button{outline:0;font-size:6em;border:2px solid #fff;border-radius:100%;left:50%;top:50%;width:1.2em;height:1.2em;line-height:1.2em;margin-top:-.6em;transition:.4s opacity}@supports (margin-inline-start: -.6em){.video-js.vjs-peertube-skin .vjs-big-play-button{margin-inline-start:-.6em}}@supports not (margin-inline-start: -.6em){.video-js.vjs-peertube-skin .vjs-big-play-button{margin-left:-.6em}}.video-js.vjs-peertube-skin .vjs-big-play-button::-moz-focus-inner{border:0;padding:0}.video-js.vjs-peertube-skin .vjs-big-play-button .vjs-icon-placeholder:before{width:45px;height:45px;top:calc(50% - 22.5px);left:calc(53% - 22.5px);content:"";background-image:url(big-play-button.3f0f736e86764018c7c6.svg)}.video-js.vjs-peertube-skin .vjs-big-play-button.focus-visible,.video-js.vjs-peertube-skin .vjs-big-play-button:hover{background-color:var(--mainColor, #696969)}.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-big-play-button,.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-poster{display:block;visibility:hidden}.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-big-play-button.vjs-big-play-button,.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-big-play-button.vjs-big-play-button:before,.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-poster.vjs-big-play-button,.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-poster.vjs-big-play-button:before{opacity:0;transition:visibility .2s,opacity .2s}.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-big-play-button.vjs-poster,.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-big-play-button.vjs-poster:before,.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-poster.vjs-poster,.video-js.vjs-peertube-skin.vjs-has-big-play-button-clicked .vjs-poster.vjs-poster:before{opacity:0;transition:visibility .3s,opacity .3s;transition-delay:.05s}.video-js.vjs-peertube-skin.vjs-playing-audio-only-content .vjs-poster{display:block;visibility:visible}.video-js.vjs-peertube-skin.vjs-playing-audio-only-content .vjs-control-bar{opacity:1}.video-js.vjs-peertube-skin.vjs-has-autoplay:not(.vjs-has-started) .vjs-poster{opacity:0;visibility:hidden}.video-js.vjs-peertube-skin.vjs-has-autoplay .vjs-big-play-button{display:none!important}.video-js.vjs-peertube-skin .vjs-control-bar,.video-js.vjs-peertube-skin .vjs-big-play-button,.video-js.vjs-peertube-skin .vjs-settings-dialog{background-color:var(--embedBigPlayBackgroundColor)}.video-js.vjs-peertube-skin .vjs-poster{outline:none;outline:0}.video-js.vjs-peertube-skin .vjs-control-bar{height:34px;background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.6));box-shadow:0 -15px 40px 10px #0003;text-shadow:0 0 2px rgba(0,0,0,.5)}@supports (margin-inline-start: 10px){.video-js.vjs-peertube-skin .vjs-control-bar>button:first-child{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.video-js.vjs-peertube-skin .vjs-control-bar>button:first-child{margin-left:10px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-play-control,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-playback-rate,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-mute-control,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-control,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-resolution-control,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube-link,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-settings{color:var(--embedForegroundColor)!important;opacity:.9;transition:opacity .1s}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-play-control:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-playback-rate:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-mute-control:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-control:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-resolution-control:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube-link:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-settings:hover{opacity:1}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-current-time,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-duration,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube{color:var(--embedForegroundColor);opacity:.9}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control{position:absolute;z-index:100;bottom:29px;width:calc(100% - (2 * 10px));height:14px}@supports (margin-inline-start: 10px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control{margin-left:10px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider{margin:0;border-radius:0;background-color:#fff3;height:3px;transition:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider .vjs-play-progress{background:var(--embedForegroundColor)}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider .vjs-play-progress:before{opacity:0;transition:opacity .1s ease;font-size:14px;top:-.3em}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider .vjs-play-progress .vjs-time-tooltip{display:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider .vjs-load-progress,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider .vjs-load-progress div{background:rgba(255,255,255,.2)}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control:hover .vjs-slider,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider.vjs-sliding{height:5px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control:hover .vjs-slider .vjs-play-progress:before,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-progress-control .vjs-slider.vjs-sliding .vjs-play-progress:before{opacity:1}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-play-control{cursor:pointer;width:2em}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-play-control:focus:not(.focus-visible){outline:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-play-control .vjs-icon-placeholder{line-height:34px;position:relative;top:-1px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-play-control .vjs-icon-placeholder:before{font-size:28px;line-height:unset;position:relative}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control{line-height:inherit}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time{font-size:13px;display:inline-block;padding:0}@supports (margin-inline-start: .5em){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time{margin-inline-start:.5em}}@supports not (margin-inline-start: .5em){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time{margin-left:.5em}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time .vjs-current-time-display{line-height:calc(34px - 1px)}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time .vjs-current-time-display:after{margin-top:0;margin-bottom:0;content:"/"}@supports (margin-inline-start: 2px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time .vjs-current-time-display:after{margin-inline-start:2px}}@supports not (margin-inline-start: 2px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time .vjs-current-time-display:after{margin-left:2px}}@supports (margin-inline-end: 1px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time .vjs-current-time-display:after{margin-inline-end:1px}}@supports not (margin-inline-end: 1px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-current-time .vjs-current-time-display:after{margin-right:1px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-duration{font-size:13px;display:inline-block;padding:0}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-duration .vjs-duration-display{line-height:calc(34px - 1px)}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-time-control.vjs-remaining-time{display:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-live-control{line-height:34px;min-width:4em;width:inherit}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube{width:100%;line-height:34px;text-align:end;overflow:hidden}@supports (margin-inline-end: 6px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube{margin-inline-end:6px}}@supports not (margin-inline-end: 6px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube{margin-right:6px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .vjs-peertube-displayed{display:block}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .vjs-peertube-hidden{display:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .download-speed-number,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .upload-speed-number,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .peers-number,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .http-fallback{font-weight:600}@supports (margin-inline-end: 15px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .download-speed-text,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .upload-speed-text,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .peers-text,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .http-fallback{margin-inline-end:15px}}@supports not (margin-inline-end: 15px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .download-speed-text,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .upload-speed-text,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .peers-text,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .http-fallback{margin-right:15px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .icon.icon-download{background-image:url(arrow-down.8ef29f9ef64518364c51.svg)}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .icon.icon-upload{background-image:url(arrow-up.c45d1ec9ef8a86e8f087.svg)}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-next-video,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-previous-video{line-height:34px;text-align:end}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-next-video .icon.icon-next,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-next-video .icon.icon-previous,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-previous-video .icon.icon-next,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-previous-video .icon.icon-previous{mask-image:url(next.9908dcc45ffc2d2f00ee.svg);-webkit-mask-image:url(next.9908dcc45ffc2d2f00ee.svg);mask-size:cover;-webkit-mask-size:cover;background-color:#fff;width:11px;height:11px;margin-top:-2px;display:inline-block}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-next-video .icon.icon-previous,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-previous-video .icon.icon-previous{transform:rotate(180deg)}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube .icon{display:inline-block;width:15px;height:15px;background-size:contain;vertical-align:middle;background-repeat:no-repeat;position:relative;top:-1px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-playback-rate{font-size:10px;width:37px!important}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-playback-rate .vjs-playback-rate-value{font-size:13px;line-height:34px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-playback-rate .vjs-menu .vjs-menu-content{width:37px!important}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-mute-control{padding:0;width:30px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-mute-control:focus:not(.focus-visible){outline:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-mute-control .vjs-icon-placeholder{display:inline-block;width:22px;height:22px;vertical-align:middle;background:url(volume.e52fe5edf467b02bd891.svg) no-repeat;background-size:contain}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-mute-control .vjs-icon-placeholder:before{content:""}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder{background:url(volume-mute.6e9fad75f24d1779c10a.svg) no-repeat;background-size:contain}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-control{margin-top:0;margin-bottom:0;width:30px}@supports (margin-inline-start: 0){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-control{margin-inline-start:0}}@supports not (margin-inline-start: 0){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-control{margin-left:0}}@supports (margin-inline-end: 5px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-control{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-control{margin-right:5px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-bar{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAcCAQAAACw95UnAAAAMElEQVRIx2NgoBL4n4YKGUYNHkEG4zJg1OCRYDCpBowaPJwMppbLRg0eNXjUYBLEAXWNUA6QNm1lAAAAAElFTkSuQmCC) no-repeat;background-size:22px 14px;height:100%;width:100%;max-width:22px;max-height:14px;margin:7px 4px;border-radius:0;top:3px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-bar .vjs-volume-level{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAcAQAAAAAyhWABAAAAAnRSTlMAAHaTzTgAAAAZSURBVHgBYwAB/g9EUv+JokCqiaT+U4MCAPKPS7WUUOc1AAAAAElFTkSuQmCC) no-repeat;background-size:22px 14px;max-width:22px;max-height:14px;height:100%}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-bar:focus{text-shadow:none;box-shadow:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel.vjs-volume-panel-horizontal:focus,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:6em;transition-property:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control.vjs-volume-horizontal{width:3em;height:auto}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control{transition-property:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel .vjs-mute-control{width:2em;z-index:1;padding:0}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-volume-panel .vjs-volume-control{display:inline-block;position:relative;left:5px;opacity:1;width:3em;height:auto}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube-link{text-decoration:none;line-height:34px;font-weight:600;padding:0 5px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube-link:focus:not(.focus-visible){outline:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube-link:hover,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube-link:focus,.video-js.vjs-peertube-skin .vjs-control-bar .vjs-peertube-link:active{text-decoration:none!important;outline:none!important}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control{width:37px;cursor:pointer}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control:focus:not(.focus-visible){outline:none}@supports (margin-inline-end: 1px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control{margin-inline-end:1px}}@supports not (margin-inline-end: 1px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control{margin-right:1px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control .vjs-icon-placeholder{transition:transform .2s ease;display:inline-block;width:22px;height:22px;vertical-align:middle;background:url(theater.b50d498ace9c0a87732d.svg) no-repeat;background-size:contain}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-theater-control .vjs-icon-placeholder:before{content:""}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control{width:37px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control:focus:not(.focus-visible){outline:none}@supports (margin-inline-start: 10px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control{margin-left:10px}}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control .vjs-icon-placeholder{display:inline-block;width:22px;height:22px;vertical-align:middle;background:url(fullscreen.c7a8f2564a476675c42f.svg) no-repeat;background-size:contain}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-fullscreen-control .vjs-icon-placeholder:before{content:""}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-menu-button-popup{font-weight:600;width:50px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-menu-button-popup .vjs-resolution-button:focus:not(.focus-visible){outline:none}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-menu-button-popup .vjs-menu{top:20px;left:0}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-menu-button-popup .vjs-menu .vjs-menu-content{width:50px;bottom:20px}.video-js.vjs-peertube-skin .vjs-control-bar .vjs-menu-button-popup .vjs-menu li{text-transform:none;font-size:13px}@media screen and (max-width: 750px){.video-js.vjs-peertube-skin .vjs-theater-control{display:none}.video-js.vjs-peertube-skin .vjs-dock-text{font-size:16px}.video-js.vjs-peertube-skin .vjs-dock-description{font-size:9px}.video-js.vjs-peertube-skin .vjs-big-play-button{font-size:5em;border-width:3px}.video-js.vjs-peertube-skin .vjs-big-play-button .vjs-icon-placeholder:before{width:32px;height:32px;top:calc(50% - 16px);left:calc(53% - 16px)}}@media screen and (max-width: 570px){.video-js.vjs-peertube-skin .vjs-dock-text{font-size:14px}.video-js.vjs-peertube-skin .vjs-big-play-button{font-size:4.5em;border-width:2.5px}.video-js.vjs-peertube-skin .vjs-big-play-button .vjs-icon-placeholder:before{width:27px;height:27px;top:calc(50% - 13.5px);left:calc(53% - 13.5px)}.video-js.vjs-peertube-skin .vjs-peertube{padding:0!important}.video-js.vjs-peertube-skin .vjs-peertube .vjs-peertube-displayed{display:none!important}.video-js.vjs-peertube-skin.vjs-live .vjs-duration{display:none!important}.video-js.vjs-peertube-skin.vjs-live .vjs-peertube{display:none!important}}@media screen and (max-width: 350px){.video-js.vjs-peertube-skin .vjs-dock-text{font-size:13px}.video-js.vjs-peertube-skin .vjs-big-play-button{font-size:3em;border-width:2px}.video-js.vjs-peertube-skin .vjs-big-play-button .vjs-icon-placeholder:before{width:20px;height:20px;top:calc(50% - 10px);left:calc(53% - 10px)}.video-js.vjs-peertube-skin .vjs-volume-control,.video-js.vjs-peertube-skin .vjs-next-video,.video-js.vjs-peertube-skin .vjs-previous-video{display:none!important}.video-js.vjs-peertube-skin .vjs-peertube-link{padding:0!important}.video-js.vjs-peertube-skin .vjs-settings{width:33px}@supports (margin-inline-start: 5px){.video-js.vjs-peertube-skin .vjs-control-bar>button:first-child{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.video-js.vjs-peertube-skin .vjs-control-bar>button:first-child{margin-left:5px}}@supports (margin-inline-end: 5px){.video-js.vjs-peertube-skin .vjs-fullscreen-control{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.video-js.vjs-peertube-skin .vjs-fullscreen-control{margin-right:5px}}.video-js.vjs-peertube-skin.vjs-live .vjs-current-time{display:none!important}}.video-js.vjs-peertube-skin.vjs-theater-enabled .vjs-theater-control{width:30px}.video-js.vjs-peertube-skin.vjs-theater-enabled .vjs-theater-control .vjs-icon-placeholder{transform:scale(.8)}.video-js.vjs-peertube-skin.vjs-fullscreen .vjs-theater-control{display:none}.vjs-has-started .vjs-play-control.vjs-playing{animation:remove-pause-button .25s ease}.vjs-has-started .vjs-play-control.vjs-paused{animation:add-play-button .25s ease}@keyframes remove-pause-button{0%{transform:rotate(90deg)}to{transform:rotate(0)}}@keyframes add-play-button{0%{transform:rotate(-90deg)}to{transform:rotate(0)}}.vjs-error:not(.vjs-error-display-enabled) .vjs-error-display{display:none}.vjs-error:not(.vjs-error-display-enabled) .vjs-loading-spinner{display:block}.vjs-error.vjs-error-display-enabled .vjs-error-display{display:block}.vjs-no-next-in-playlist .vjs-next-video{cursor:default}.vjs-no-next-in-playlist .vjs-next-video .icon{background-color:#ffffff80}.video-js.vjs-peertube-skin.vjs-is-mobile .vjs-control-bar .vjs-progress-control .vjs-slider .vjs-play-progress:before{margin-top:-1px;opacity:1}.video-js .vjs-contextmenu-ui-menu{position:absolute;background-color:#000c;padding:8px 0;border-radius:4px;width:350px;z-index:105}.video-js .vjs-contextmenu-ui-menu .vjs-menu-content{opacity:.9;color:var(--embedForegroundColor);font-size:13px!important;font-weight:600}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item{cursor:pointer;font-size:1em;padding:8px 16px;text-align:start;text-transform:none}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item:hover{background-color:#fff3}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-]{display:inline-flex;position:relative;top:2px;cursor:pointer;width:14px;height:14px;background-color:#fff;-webkit-mask-size:cover;mask-size:cover}@supports (margin-inline-end: .8rem !important){.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-]{margin-inline-end:.8rem!important}}@supports not (margin-inline-end: .8rem !important){.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-]{margin-right:.8rem!important}}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-][class$=-link-2]{mask-image:url(link-2.1b3627509e9bc1000805.svg);-webkit-mask-image:url(link-2.1b3627509e9bc1000805.svg)}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-][class$=-repeat]{mask-image:url(repeat.76e2e1d04a7c1be4680d.svg);-webkit-mask-image:url(repeat.76e2e1d04a7c1be4680d.svg)}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-][class$=-code]{mask-image:url(code.106c530b69cfdf80b21c.svg);-webkit-mask-image:url(code.106c530b69cfdf80b21c.svg)}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-][class$=-tick-white]{mask-image:url(tick-white.f1d6600cc9dc82138256.svg);-webkit-mask-image:url(tick-white.f1d6600cc9dc82138256.svg)}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-][class$=-info]{mask-image:url(info.ffede3cd564db62670fe.svg);-webkit-mask-image:url(info.ffede3cd564db62670fe.svg)}.video-js .vjs-contextmenu-ui-menu .vjs-menu-item [class^=vjs-icon-][class$=-tick-white]{float:right;margin:0!important}.video-js .vjs-settings{cursor:pointer;width:33px}.video-js .vjs-settings:focus:not(.focus-visible){outline:none}.video-js .vjs-settings .vjs-icon-placeholder{display:inline-block;width:17px;height:17px;vertical-align:middle;background:url(settings.100495e9f1ee4781f01c.svg) no-repeat;background-size:contain}.video-js .vjs-settings .vjs-icon-placeholder:before{content:""}.video-js .vjs-settings-sub-menu-title{width:4em;text-transform:initial}.video-js .vjs-settings-dialog{position:absolute;right:.5em;bottom:3.5em;color:var(--embedForegroundColor);opacity:.9;margin:0 auto;font-size:13px!important;width:auto;overflow:hidden;transition:width .15s ease-out,height .15s ease-out}.video-js .vjs-settings-dialog .vjs-settings-sub-menu-value,.video-js .vjs-settings-dialog .vjs-settings-sub-menu-title{display:table-cell;padding:0 5px;text-transform:capitalize}.video-js .vjs-settings-dialog .vjs-settings-sub-menu-title{text-align:start;font-weight:600}.video-js .vjs-settings-dialog .vjs-settings-sub-menu-value{width:100%;text-align:end}.video-js .vjs-settings-dialog .vjs-settings-sub-menu-value small{font-size:.85em;opacity:.8}.video-js .vjs-settings-dialog .vjs-settings-panel{position:absolute;bottom:0;right:0;overflow-y:auto;overflow-x:hidden;border-radius:1px}.video-js .vjs-settings-dialog .vjs-settings-panel-child{display:flex;align-items:flex-end;white-space:nowrap}.video-js .vjs-settings-dialog .vjs-settings-panel-child:focus,.video-js .vjs-settings-dialog .vjs-settings-panel-child:active{outline:none}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu{flex:1;min-width:200px}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu,.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu{transition:all .15s ease-out}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-menu-item,.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item{font-size:1em;text-transform:initial}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-menu-item:hover,.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item:hover{cursor:pointer;background-color:#fff3}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-menu-item:first-child,.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item:first-child{margin-top:5px}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-menu-item:last-child,.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item:last-child{margin-bottom:5px}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-menu-item.disabled,.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item.disabled{opacity:.5;cursor:default!important;background-color:inherit!important}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-menu-item{padding:8px 16px}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-settings-sub-menu-value:after{border-style:solid;border-width:2px 2px 0 0;content:"";display:inline-block;transform:rotate(-45deg);height:9px;width:9px;left:0;transform:rotate(45deg)}@supports (margin-inline-start: 5px){.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-settings-sub-menu-value:after{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-menu .vjs-settings-sub-menu-value:after{margin-left:5px}}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu{min-width:80px}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item{outline:0;font-weight:600;text-align:end;padding:5px 8px}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item.vjs-back-button{background-color:inherit;padding:8px 8px 13px 12px;margin-bottom:5px;border-bottom:1px solid #808080;text-align:start}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item.vjs-back-button:before{border-style:solid;border-width:2px 2px 0 0;content:"";display:inline-block;transform:rotate(-45deg);height:9px;width:9px;left:.25em;transform:rotate(-135deg)}@supports (margin-inline-end: 5px){.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item.vjs-back-button:before{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item.vjs-back-button:before{margin-right:5px}}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item.vjs-selected{background-color:inherit;color:inherit;position:relative}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu-item.vjs-selected:before{display:inline-block;background-repeat:no-repeat;background-size:contain;width:15px;height:15px;vertical-align:middle;cursor:pointer;position:absolute;left:8px;content:" ";margin-top:1px;background-image:url(tick-white.f1d6600cc9dc82138256.svg)}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu.vjs-captions-button{width:200px}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu.vjs-captions-button .vjs-menu-item{text-align:start}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu.vjs-captions-button .vjs-menu-item .vjs-menu-item-text{text-transform:capitalize}@supports (margin-inline-start: 25px){.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu.vjs-captions-button .vjs-menu-item .vjs-menu-item-text{margin-inline-start:25px}}@supports not (margin-inline-start: 25px){.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu.vjs-captions-button .vjs-menu-item .vjs-menu-item-text{margin-left:25px}}.video-js .vjs-settings-dialog .vjs-settings-panel-child>.vjs-settings-sub-menu .vjs-menu{width:inherit}.vjs-loading-spinner{left:50%;font-size:10px;text-indent:-9999em;border:.7em solid rgba(255,255,255,.2);border-left-color:#fff;transform:translateZ(0);animation:.3s ease-out 1.1s forwards vjs-spinner-show,spinner 1.4s infinite linear!important;overflow:hidden;visibility:hidden}.vjs-loading-spinner:before{animation:none!important}.vjs-loading-spinner:after{border-radius:50%;width:6em;height:6em;animation:none!important}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes vjs-spinner-show{0%{display:none;opacity:0}1%{display:block;visibility:visible;opacity:0}to{display:block;visibility:visible;opacity:1}}.video-js .vjs-upnext-content{transition:opacity .1s;font-size:1.8em;pointer-events:auto;position:absolute;top:0;bottom:0;background:rgba(0,0,0,.6);width:100%}.video-js .vjs-upnext-top{margin:0 auto 60px;width:100%;position:absolute;bottom:50%}.video-js .vjs-upnext-bottom{margin:52px auto 0;width:100%;position:absolute;top:50%}.video-js .vjs-upnext-suspended,.video-js .vjs-upnext-cancel{display:block;float:none;text-align:center}.video-js .vjs-upnext-suspended{font-size:50%;margin-top:1rem}.video-js .vjs-upnext-headtext{display:block;font-size:14px;text-align:center;padding-bottom:7px}.video-js .vjs-upnext-title{display:block;padding:10px 10px 2px;text-align:center;font-size:22px;font-weight:600;overflow:hidden;white-space:nowrap;word-wrap:normal;text-overflow:ellipsis}.video-js .vjs-upnext-cancel-button{cursor:pointer;display:inline-block;float:none;padding:10px!important;font-size:16px!important;border:0}.video-js .vjs-upnext-cancel-button,.video-js .vjs-upnext-cancel-button:focus{outline:0}.video-js .vjs-upnext-cancel-button:hover{background-color:#ffffff40;border-radius:2px}.video-js.vjs-no-flex .vjs-upnext-content{padding-bottom:1em}.video-js .vjs-upnext-autoplay-icon{transition:stroke-dasharray .1s cubic-bezier(.4,0,1,1);position:absolute;top:50%;left:50%;width:98px;height:98px;margin:-49px 0 0 -49px;cursor:pointer}.video-js.vjs-upnext--showing .vjs-control-bar{z-index:1}@keyframes bezels-fadeout{0%{opacity:1}to{opacity:0;transform:scale(2)}}.vjs-bezel{position:absolute;left:50%;top:50%;width:52px;height:52px;z-index:19;margin-top:-26px;background:rgba(0,0,0,.5);border-radius:26px;animation:bezels-fadeout .5s linear 1 normal forwards;pointer-events:none}@supports (margin-inline-start: -26px){.vjs-bezel{margin-inline-start:-26px}}@supports not (margin-inline-start: -26px){.vjs-bezel{margin-left:-26px}}.vjs-bezel-icon{width:36px;height:36px;margin:8px}.vjs-bezel-icon svg .vjs-svg-fill{fill:#fff}.vjs-playlist-menu{position:absolute;right:0;height:100%;width:350px;background:rgba(0,0,0,.8)!important;z-index:101;transition:right .2s;overflow-y:scroll;right:-350px}.vjs-playlist-menu ol{padding:0;margin:0}.vjs-playlist-menu .header{border-bottom:1px solid #e9eff6;padding:20px 10px;display:flex;justify-content:space-between}.vjs-playlist-menu .header .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;margin-bottom:5px}.vjs-playlist-menu .header .channel{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:11px;color:#bfbfbf}.vjs-playlist-menu .header .cross{mask-image:url(x.6c9a4ba71a333be7b021.svg);-webkit-mask-image:url(x.6c9a4ba71a333be7b021.svg);mask-size:cover;-webkit-mask-size:cover;cursor:pointer;width:20px;height:20px;background-color:#fff}.playlist-menu-displayed .vjs-playlist-menu{right:0;display:block}.playlist-menu-displayed .vjs-playlist-button{display:none}@media screen and (max-width: 350px){.vjs-playlist-menu{width:100%;min-width:unset;display:none}.playlist-menu-displayed .vjs-playlist-menu{display:block}}.vjs-playlist-button{font-size:15px;position:absolute;right:0;top:0;z-index:100;padding:20px;cursor:pointer}.vjs-playlist-icon{mask-image:url(list.8486a1e6df1d1bbfdaae.svg);-webkit-mask-image:url(list.8486a1e6df1d1bbfdaae.svg);mask-size:cover;-webkit-mask-size:cover;width:22px;height:22px;background-color:#fff;margin-bottom:3px}.vjs-playing.vjs-user-inactive .vjs-playlist-button{opacity:0;transition:opacity 1s}.vjs-playing.vjs-no-flex.vjs-user-inactive .vjs-playlist-button{display:none}.vjs-playlist-menu-item{display:flex;padding:10px 0;height:60px}.vjs-playlist-menu-item:not(.vjs-disabled){cursor:pointer}.vjs-playlist-menu-item .item-position-block{position:relative;display:flex;align-items:center;justify-content:center;width:30px;flex-shrink:0}.vjs-playlist-menu-item .item-unavailable{position:relative;display:flex;align-items:center;justify-content:center}.vjs-playlist-menu-item .item-player{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:20px solid rgba(255,255,255,.95);display:none}.vjs-playlist-menu-item.vjs-selected{background-color:#9696964d}.vjs-playlist-menu-item.vjs-selected .item-position{display:none}.vjs-playlist-menu-item.vjs-selected .item-player{display:block}.vjs-playlist-menu-item:hover:not(.vjs-disabled){background-color:#96969633}.vjs-playlist-menu-item img{width:80px;height:40px}.vjs-playlist-menu-item .info-block{margin:0 10px;min-width:1px}.vjs-playlist-menu-item .info-block .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:13px;margin-bottom:3px}.vjs-playlist-menu-item .info-block .channel,.vjs-playlist-menu-item .info-block .timestamps{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:11px;color:#bfbfbf}.vjs-playlist-menu-item .info-block .timestamps{font-size:10px;margin-top:3px}.video-js .vjs-stats-content{transition:opacity .1s;position:absolute;background-color:#0009;padding:5px 0;border-radius:4px;width:420px;min-width:27em;max-width:calc(100vw - 20px);left:10px;top:10px;z-index:64;font-size:12px;line-height:1.2}.video-js .vjs-stats-close{cursor:pointer;position:absolute;right:3px;top:3px;padding:0}.video-js .vjs-stats-list>div>div{display:inline-block;font-weight:600;padding:0 .5em;text-align:end;min-width:11.5em;white-space:nowrap}\n'],encapsulation:2}),d})();var Mo=E(51214),ko=E(8453),Po=E(22394);const Io=["videoWatchPlaylist"],wo=["subscribeButton"];function Do(d,h){1&d&&(n.TgZ(0,"div",10),n._uU(1," Sorry, but this video is not available because the remote instance is not responding. "),n._UZ(2,"br"),n._uU(3," Please try again later. "),n.qZA())}function No(d,h){if(1&d&&n._UZ(0,"img",11),2&d){const s=n.oxw();n.Q6J("src",s.playerPlaceholderImgSrc,n.LSH)}}function Ro(d,h){if(1&d&&(n.ynx(0),n.tHW(1,35),n._UZ(2,"my-date-toggle",36),n.N_p(),n.BQk(),n._uU(3," \u2022 "),n._UZ(4,"my-video-views-counter",8)),2&d){const s=n.oxw(2);n.xp6(2),n.Q6J("date",s.video.publishedAt),n.xp6(2),n.Q6J("video",s.video)}}function Mi(d,h){}function ki(d,h){1&d&&n.YNc(0,Mi,0,0,"ng-template")}function Vo(d,h){}function Pt(d,h){1&d&&n.YNc(0,Vo,0,0,"ng-template")}const Lo=function(d){return["/c",d]},Ho=function(d){return["/a",d]};function Ds(d,h){if(1&d&&(n.ynx(0),n.TgZ(1,"a",37),n._uU(2),n.qZA(),n.TgZ(3,"a",38),n.TgZ(4,"span"),n.SDv(5,39),n.qZA(),n.qZA(),n.BQk()),2&d){const s=n.oxw(2);n.xp6(1),n.Q6J("routerLink",n.VKq(4,Lo,s.video.byVideoChannel)),n.xp6(1),n.hij(" ",s.video.channel.displayName," "),n.xp6(1),n.Q6J("routerLink",n.VKq(6,Ho,s.video.byAccount)),n.xp6(2),n.pQV(s.video.byAccount),n.QtT(5)}}function Ns(d,h){if(1&d&&(n.ynx(0),n.TgZ(1,"a",40),n.TgZ(2,"span"),n.SDv(3,41),n.qZA(),n.qZA(),n.BQk()),2&d){const s=n.oxw(2);n.xp6(1),n.Q6J("routerLink",n.VKq(2,Ho,s.video.byAccount)),n.xp6(2),n.pQV(s.video.byAccount),n.QtT(3)}}const Rs=function(d){return[d]},Vs=function(d,h){return{uuid:d,tags:h}};function Ls(d,h){if(1&d){const s=n.EpF();n.TgZ(0,"div",12),n.TgZ(1,"div",13),n.TgZ(2,"div",14),n.TgZ(3,"div"),n.YNc(4,Ro,5,2,"ng-template",null,15,n.W1O),n.TgZ(6,"div",16),n.TgZ(7,"h1",17),n._uU(8),n.qZA(),n.TgZ(9,"div",18),n.YNc(10,ki,1,0,void 0,19),n.qZA(),n.qZA(),n.TgZ(11,"div",20),n.TgZ(12,"div",21),n.TgZ(13,"h1",17),n._uU(14),n.qZA(),n.qZA(),n.TgZ(15,"div",22),n.TgZ(16,"div",23),n.YNc(17,Pt,1,0,void 0,19),n.qZA(),n._UZ(18,"my-action-buttons",24),n.qZA(),n.qZA(),n.TgZ(19,"div",25),n.TgZ(20,"div",26),n._UZ(21,"my-video-avatar-channel",27),n.TgZ(22,"div",28),n.YNc(23,Ds,6,8,"ng-container",29),n.YNc(24,Ns,4,4,"ng-container",29),n.qZA(),n.qZA(),n._UZ(25,"my-subscribe-button",30,31),n.qZA(),n.qZA(),n.qZA(),n.TgZ(27,"my-video-description",32),n.NdJ("timestampClicked",function(u){return n.CHM(s),n.oxw().handleTimestampClicked(u)}),n.qZA(),n._UZ(28,"my-video-attributes",8),n.TgZ(29,"my-video-comments",33),n.NdJ("timestampClicked",function(u){return n.CHM(s),n.oxw().handleTimestampClicked(u)}),n.qZA(),n.qZA(),n.TgZ(30,"my-recommended-videos",34),n.NdJ("gotRecommendations",function(u){return n.CHM(s),n.oxw().onRecommendations(u)}),n.qZA(),n.qZA()}if(2&d){const s=n.MAs(5),c=n.oxw();n.xp6(8),n.Oqu(c.video.name),n.xp6(2),n.Q6J("ngTemplateOutlet",s),n.xp6(4),n.Oqu(c.video.name),n.xp6(3),n.Q6J("ngTemplateOutlet",s),n.xp6(1),n.Q6J("video",c.video)("isUserLoggedIn",c.isUserLoggedIn())("videoCaptions",c.videoCaptions)("playlist",c.playlist)("currentTime",c.getCurrentTime())("currentPlaylistPosition",c.getCurrentPlaylistPosition()),n.xp6(3),n.Q6J("video",c.video)("genericChannel",c.isChannelDisplayNameGeneric()),n.xp6(2),n.Q6J("ngIf",!c.isChannelDisplayNameGeneric()),n.xp6(1),n.Q6J("ngIf",c.isChannelDisplayNameGeneric()),n.xp6(1),n.Q6J("videoChannels",n.VKq(22,Rs,c.video.channel)),n.xp6(2),n.Q6J("video",c.video),n.xp6(1),n.Q6J("video",c.video),n.xp6(1),n.Q6J("video",c.video)("user",c.user),n.xp6(1),n.Q6J("displayAsRow",c.displayOtherVideosAsRow())("inputRecommendation",n.WLB(24,Vs,c.video.uuid,c.video.tags))("playlist",c.playlist)}}const Pi=function(d){return{"theater-enabled":d}};let Bo=(()=>{class d{constructor(s,c,u,p,y,O,M,V,Q,J,_e,be,je,Je,Ne,Ve,Ge,xe,Kt,Rn,it){this.elementRef=s,this.route=c,this.router=u,this.videoService=p,this.playlistService=y,this.confirmService=O,this.metaService=M,this.authService=V,this.userService=Q,this.serverService=J,this.restExtractor=_e,this.notifier=be,this.zone=je,this.videoCaptionService=Je,this.hotkeysService=Ne,this.hooks=Ve,this.pluginService=Ge,this.peertubeSocket=xe,this.screenService=Kt,this.location=Rn,this.localeId=it,this.theaterEnabled=!1,this.video=null,this.videoCaptions=[],this.playlist=null,this.remoteServerDown=!1,this.nextVideoUUID="",this.nextVideoTitle="",this.hotkeys=[]}get user(){return this.authService.getUser()}get anonymousUser(){return this.userService.getAnonymousUser()}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),Dn.initState(),this.loadRouteParams(),this.loadRouteQuery(),this.initHotkeys(),this.theaterEnabled=(0,Re.y_)(),this.hooks.runAction("action:video-watch.init","video-watch"),setTimeout(Re.Tz,1500)}ngOnDestroy(){this.flushPlayer(),this.paramsSub&&this.paramsSub.unsubscribe(),this.queryParamsSub&&this.queryParamsSub.unsubscribe(),this.configSub&&this.configSub.unsubscribe(),this.liveVideosSub&&this.liveVideosSub.unsubscribe(),this.hotkeysService.remove(this.hotkeys)}getCurrentTime(){return this.currentTime}getCurrentPlaylistPosition(){return this.videoWatchPlaylist.currentPlaylistPosition}onRecommendations(s){if(0===s.length)return;const c=s[0];this.nextVideoUUID=c.uuid,this.nextVideoTitle=c.name}handleTimestampClicked(s){!this.player||this.video.isLive||(this.player.currentTime(s),(0,qi.k3)())}onPlaylistVideoFound(s){this.loadVideo(s)}isUserLoggedIn(){return this.authService.isLoggedIn()}isVideoBlur(s){return s.isVideoNSFWForUser(this.user,this.serverConfig)}isChannelDisplayNameGeneric(){return[`Main ${this.video.channel.ownerAccount.name} channel`,`Default ${this.video.channel.ownerAccount.name} channel`].includes(this.video.channel.displayName)}displayOtherVideosAsRow(){return this.screenService.getWindowInnerWidth()<=1100}loadRouteParams(){this.paramsSub=this.route.params.subscribe(s=>{const c=s.videoId;if(c)return this.loadVideo(c);const u=s.playlistId;return u?this.loadPlaylist(u):void 0})}loadRouteQuery(){this.queryParamsSub=this.route.queryParams.subscribe(s=>{var c;const u=null!==(c=s.playlistPosition)&&void 0!==c?c:1;this.playlistPosition="last"===u?-1:parseInt(u+"",10),isNaN(this.playlistPosition)&&(console.error(`playlistPosition query param '${u}' was parsed as NaN, defaulting to 1.`),this.playlistPosition=1),this.videoWatchPlaylist.updatePlaylistIndex(this.playlistPosition);const p=s.start;this.player&&p&&this.player.currentTime(parseInt(p,10))})}loadVideo(s){if(this.isSameElement(this.video,s))return;this.player&&this.player.pause();const c=this.hooks.wrapObsFun(this.videoService.getVideo.bind(this.videoService),{videoId:s},"video-watch","filter:api.video-watch.video.get.params","filter:api.video-watch.video.get.result");(0,ti.D)([c,this.videoCaptionService.listCaptions(s)]).subscribe({next:([u,p])=>{const y=this.route.snapshot.queryParams;this.onVideoFetched(u,p.data,{resume:y.resume,startTime:y.start,stopTime:y.stop,muted:y.muted,loop:y.loop,subtitle:y.subtitle,playerMode:y.mode,peertubeLink:!1}).catch(M=>this.handleGlobalError(M))},error:u=>this.handleRequestError(u)})}loadPlaylist(s){this.isSameElement(this.playlist,s)||this.playlistService.getVideoPlaylist(s).subscribe({next:c=>{this.playlist=c,this.videoWatchPlaylist.loadPlaylistElements(c,!this.playlistPosition,this.playlistPosition)},error:c=>this.handleRequestError(c)})}isSameElement(s,c){return!!s&&(s.id+""===c||s.uuid===c||s.shortUUID===c)}handleRequestError(s){var c;return(0,Ue.mG)(this,void 0,void 0,function*(){const u=s.body;if("does_not_respect_follow_constraints"===u.code&&u.originUrl){const p=u.originUrl+(null!==(c=window.location.search)&&void 0!==c?c:"");if(!0===(yield this.confirmService.confirm("This video is not available on this instance. Do you want to be redirected on the origin instance: <a href=\"" + p + "\">" + p + "</a>?","Redirection")))return window.location.href=p}return this.restExtractor.redirectTo404IfNotFound(s,"video",[Hn.WE.BAD_REQUEST_400,Hn.WE.FORBIDDEN_403,Hn.WE.NOT_FOUND_404])})}handleGlobalError(s){const c="string"==typeof s?s:s.message;if(c){if(c.includes("from xs param"))return this.flushPlayer(),void(this.remoteServerDown=!0);this.notifier.error(c)}}onVideoFetched(s,c,u){return(0,Ue.mG)(this,void 0,void 0,function*(){if(this.subscribeToLiveEventsIfNeeded(this.video,s),this.video=s,this.videoCaptions=c,this.playerPlaceholderImgSrc=void 0,this.remoteServerDown=!1,this.currentTime=void 0,this.isVideoBlur(this.video)&&!1===(yield this.confirmService.confirm("Aquesta vid\xE8o conten un contengut per adult o explicite. Vol\xE8tz vertadi\xE8rament la veire\xA0?","Contengut per adult o explicite")))return this.location.back();this.buildPlayer(u).catch(y=>console.error("Cannot build the player",y)),this.setOpenGraphTags();const p={videojs:P(),video:this.video,playlist:this.playlist};this.hooks.runAction("action:video-watch.video.loaded","video-watch",p)})}buildPlayer(s){return(0,Ue.mG)(this,void 0,void 0,function*(){this.flushPlayer();const c=this.video.state.id;if(5===c||4===c)return void(this.playerPlaceholderImgSrc=this.video.previewPath);const u=this.elementRef.nativeElement.querySelector("#videojs-wrapper");this.playerElement=document.createElement("video"),this.playerElement.className="video-js vjs-peertube-skin",this.playerElement.setAttribute("playsinline","true"),u.appendChild(this.playerElement);const p={video:this.video,videoCaptions:this.videoCaptions,urlOptions:s,user:this.user},{playerMode:y,playerOptions:O}=yield this.hooks.wrapFun(this.buildPlayerManagerOptions.bind(this),p,"video-watch","filter:internal.video-watch.player.build-options.params","filter:internal.video-watch.player.build-options.result");this.zone.runOutsideAngular(()=>(0,Ue.mG)(this,void 0,void 0,function*(){this.player=yield Dn.initialize(y,O,M=>this.player=M),this.player.on("customError",({err:M})=>{this.zone.run(()=>this.handleGlobalError(M))}),this.player.on("timeupdate",()=>{this.currentTime=Math.floor(this.player.currentTime())}),this.player.upnext({timeout:5e3,headText:"Seguent",cancelText:"Anullar",suspendedText:"La lectura automatica es suspenduda",getTitle:()=>this.nextVideoTitle,next:()=>this.zone.run(()=>this.playNextVideoInAngularZone()),condition:()=>this.playlist?!!this.isPlaylistAutoPlayNext()&&void this.playNextVideoInAngularZone():this.isAutoPlayNext(),suspended:()=>!(0,qi.xt)(this.player.el(),80)||!document.getElementById("content").contains(document.activeElement)}),this.player.one("stopped",()=>{this.playlist&&this.isPlaylistAutoPlayNext()&&this.playNextVideoInAngularZone()}),this.player.one("ended",()=>{this.video.isLive&&this.zone.run(()=>this.video.state.id=5)}),this.player.on("theaterChange",(M,V)=>{this.zone.run(()=>this.theaterEnabled=V)}),this.hooks.runAction("action:video-watch.player.loaded","video-watch",{player:this.player,videojs:P(),video:this.video})}))})}playNextVideoInAngularZone(){this.playlist?this.zone.run(()=>this.videoWatchPlaylist.navigateToNextPlaylistVideo()):this.nextVideoUUID&&this.router.navigate(["/w",this.nextVideoUUID])}isAutoplay(){return!(this.route.snapshot.params.threadId||this.user&&!1===this.user.autoPlayVideo)}isAutoPlayNext(){var s;return(null===(s=this.user)||void 0===s?void 0:s.autoPlayNextVideo)||this.anonymousUser.autoPlayNextVideo}isPlaylistAutoPlayNext(){var s;return(null===(s=this.user)||void 0===s?void 0:s.autoPlayNextVideoPlaylist)||this.anonymousUser.autoPlayNextVideoPlaylist}flushPlayer(){if(this.player)try{this.player.dispose(),this.player=void 0}catch(s){console.error("Cannot dispose player.",s)}}buildPlayerManagerOptions(s){const{video:c,videoCaptions:u,urlOptions:p,user:y}=s;let M=(()=>{const _e=void 0!==p.startTime,be=c.userHistory&&(!this.playlist||void 0!==p.resume),je=(0,Re.QC)(c.uuid);return _e?(0,Xe.h8)(p.startTime):be?c.userHistory.currentTime:je?je.duration:0})();c.duration-M<=1&&(M=0);const V=u.map(_e=>({label:_e.language.label,language:_e.language.id,src:ji.N.apiUrl+_e.captionPath})),Q={common:{autoplay:this.isAutoplay(),nextVideo:()=>this.playNextVideoInAngularZone(),playerElement:this.playerElement,onPlayerElementChange:_e=>this.playerElement=_e,videoDuration:c.duration,enableHotkeys:!0,inactivityTimeout:2500,poster:c.previewUrl,startTime:M,stopTime:p.stopTime,controls:p.controls,muted:p.muted,loop:p.loop,subtitle:p.subtitle,peertubeLink:p.peertubeLink,theaterButton:!0,captions:0!==u.length,videoViewUrl:3!==c.privacy.id?this.videoService.getVideoViewUrl(c.uuid):null,embedUrl:c.embedUrl,embedTitle:c.name,isLive:c.isLive,language:this.localeId,userWatching:y&&!0===y.videosHistoryEnabled?{url:this.videoService.getUserWatchingVideoUrl(c.uuid),authorizationHeader:this.authService.getRequestHeaderValue()}:void 0,serverUrl:ji.N.apiUrl,videoCaptions:V,videoShortUUID:c.shortUUID,videoUUID:c.uuid},webtorrent:{videoFiles:c.files},pluginsManager:this.pluginService.getPluginsManager()};let J;if(this.playlist&&(Q.common.previousVideo=()=>{this.zone.run(()=>this.videoWatchPlaylist.navigateToPreviousPlaylistVideo())}),J=p.playerMode?"p2p-media-loader"===p.playerMode?"p2p-media-loader":"webtorrent":c.hasHlsPlaylist()?"p2p-media-loader":"webtorrent","undefined"==typeof TextEncoder&&(J="webtorrent"),"p2p-media-loader"===J){const _e=c.getHlsPlaylist(),be={playlistUrl:_e.playlistUrl,segmentsSha256Url:_e.segmentsSha256Url,redundancyBaseUrls:_e.redundancies.map(je=>je.baseUrl),trackerAnnounce:c.trackerUrls,videoFiles:_e.files};Object.assign(Q,{p2pMediaLoader:be})}return{playerMode:J,playerOptions:Q}}subscribeToLiveEventsIfNeeded(s,c){return(0,Ue.mG)(this,void 0,void 0,function*(){this.liveVideosSub||(this.liveVideosSub=this.buildLiveEventsSubscription()),s&&s.id!==c.id&&this.peertubeSocket.unsubscribeLiveVideos(s.id),c.isLive&&(yield this.peertubeSocket.subscribeToLiveVideosSocket(c.id))})}buildLiveEventsSubscription(){return this.peertubeSocket.getLiveVideosObservable().subscribe(({type:s,payload:c})=>"state-change"===s?this.handleLiveStateChange(c.state):"views-change"===s?this.handleLiveViewsChange(c.views):void 0)}handleLiveStateChange(s){if(1!==s)return;const c=this.video.state.id;if(4!==c&&5!==c)return;console.log("Loading video after live update.");const u=this.video.uuid;this.video=void 0,this.loadVideo(u)}handleLiveViewsChange(s){this.video?(console.log("Updating live views."),this.video.views=s):console.error("Cannot update video live views because video is no defined.")}initHotkeys(){this.hotkeys=[new A.qm("f",s=>s,void 0,"Enter/exit fullscreen (requires player focus)"),new A.qm("space",s=>s,void 0,"Play/Pause the video (requires player focus)"),new A.qm("m",s=>s,void 0,"Mute/unmute the video (requires player focus)"),new A.qm("0-9",s=>s,void 0,"Skip to a percentage of the video: 0 is 0% and 9 is 90% (requires player focus)"),new A.qm("up",s=>s,void 0,"Increase the volume (requires player focus)"),new A.qm("down",s=>s,void 0,"Decrease the volume (requires player focus)"),new A.qm("right",s=>s,void 0,"Seek the video forward (requires player focus)"),new A.qm("left",s=>s,void 0,"Seek the video backward (requires player focus)"),new A.qm(">",s=>s,void 0,"Increase playback rate (requires player focus)"),new A.qm("<",s=>s,void 0,"Decrease playback rate (requires player focus)"),new A.qm(".",s=>s,void 0,"Navigate in the video frame by frame (requires player focus)")],this.isUserLoggedIn()&&(this.hotkeys=this.hotkeys.concat([new A.qm("shift+s",()=>(this.subscribeButton.isSubscribedToAll()?this.subscribeButton.unsubscribe():this.subscribeButton.subscribe(),!1),void 0,"S\u2019abonar al compte")])),this.hotkeysService.add(this.hotkeys)}setOpenGraphTags(){this.metaService.setTitle(this.video.name),this.metaService.setTag("og:type","video"),this.metaService.setTag("og:title",this.video.name),this.metaService.setTag("name",this.video.name),this.metaService.setTag("og:description",this.video.description),this.metaService.setTag("description",this.video.description),this.metaService.setTag("og:image",this.video.previewPath),this.metaService.setTag("og:duration",this.video.duration.toString()),this.metaService.setTag("og:site_name","PeerTube"),this.metaService.setTag("og:url",window.location.href),this.metaService.setTag("url",window.location.href)}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.SBq),n.Y36($e.gz),n.Y36($e.F0),n.Y36(I.kI),n.Y36(ve.Qq),n.Y36(L.zM),n.Y36(L.Rj),n.Y36(L.e8),n.Y36(L.KD),n.Y36(L.NG),n.Y36(L.DI),n.Y36(L.d4),n.Y36(n.R0b),n.Y36(I.iW),n.Y36(A.tm),n.Y36(vn.n),n.Y36(L.H0),n.Y36(L.DR),n.Y36(L.H2),n.Y36(k.lw),n.Y36(n.soG))},d.\u0275cmp=n.Xpm({type:d,selectors:[["my-video-watch"]],viewQuery:function(s,c){if(1&s&&(n.Gf(Io,7),n.Gf(wo,5)),2&s){let u;n.iGM(u=n.CRH())&&(c.videoWatchPlaylist=u.first),n.iGM(u=n.CRH())&&(c.subscribeButton=u.first)}},decls:12,vars:8,consts:function(){let h,s,c,u,p,y,O;return h="Placeholder image",s="Publicada " + "\ufffd#2\ufffd" + "" + "\ufffd/#2\ufffd" + "",c="Channel page",u="Account page",p="Per \n          " + "\ufffd0\ufffd" + "\n        ",y="Account page",O="\n          " + "\ufffd0\ufffd" + "\n        ",[[1,"root",3,"ngClass"],["id","video-wrapper"],["class","remote-server-down",4,"ngIf"],["id","videojs-wrapper"],["class","placeholder-image","alt",h,3,"src",4,"ngIf"],[1,"playlist",3,"playlist","videoFound"],["videoWatchPlaylist",""],["pluginId","player-next"],[3,"video"],["class","margin-content video-bottom",4,"ngIf"],[1,"remote-server-down"],["alt",h,1,"placeholder-image",3,"src"],[1,"margin-content","video-bottom"],[1,"video-info"],[1,"video-info-first-row"],["publishedTemplate",""],[1,"d-block","d-md-none"],[1,"video-info-name"],[1,"video-info-date-views"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-between","flex-direction-column"],[1,"d-none","d-md-block"],[1,"video-info-first-row-bottom"],[1,"d-none","d-md-block","video-info-date-views"],[3,"video","isUserLoggedIn","videoCaptions","playlist","currentTime","currentPlaylistPosition"],[1,"pt-3","border-top","video-info-channel","d-flex"],[1,"video-info-channel-left","d-flex"],[3,"video","genericChannel"],[1,"video-info-channel-left-links","ml-1"],[4,"ngIf"],["size","small",3,"videoChannels"],["subscribeButton",""],[3,"video","timestampClicked"],[1,"border-top",3,"video","user","timestampClicked"],[3,"displayAsRow","inputRecommendation","playlist","gotRecommendations"],s,[3,"date"],["title",c,3,"routerLink"],["title",u,3,"routerLink"],p,["title",y,1,"single-link",3,"routerLink"],O]},template:function(s,c){1&s&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.YNc(2,Do,4,0,"div",2),n.TgZ(3,"div",3),n.YNc(4,No,1,1,"img",4),n.qZA(),n.TgZ(5,"my-video-watch-playlist",5,6),n.NdJ("videoFound",function(p){return c.onPlaylistVideoFound(p)}),n.qZA(),n._UZ(7,"my-plugin-placeholder",7),n.qZA(),n._UZ(8,"my-video-alert",8),n.YNc(9,Ls,31,27,"div",9),n._UZ(10,"my-privacy-concerns"),n.qZA(),n._UZ(11,"my-player-styles")),2&s&&(n.Q6J("ngClass",n.VKq(6,Pi,c.theaterEnabled)),n.xp6(2),n.Q6J("ngIf",c.remoteServerDown),n.xp6(2),n.Q6J("ngIf",c.playerPlaceholderImgSrc),n.xp6(1),n.Q6J("playlist",c.playlist),n.xp6(3),n.Q6J("video",c.video),n.xp6(1),n.Q6J("ngIf",c.video))},directives:[k.mk,k.O5,w,xi,Oo,qo,Oi,k.tP,Fe,es,Mo.h,De,Wi,We,cs,ko.J,Po.M,$e.yS],styles:[".blocked-label[_ngcontent-%COMP%]{font-weight:600}.placeholder-image[_ngcontent-%COMP%]{height:100%}.flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   #videojs-wrapper[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 50px - 115px)}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]     .video-js{height:calc(100vh - 50px - 115px);width:100%;max-width:initial}.root.theater-enabled[_ngcontent-%COMP%]   #video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:initial;border-bottom:1px solid rgba(0,0,0,.1)!important}#video-wrapper[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center}#video-wrapper[_ngcontent-%COMP%]     .video-js{width:100%;max-width:calc(66vh * 1.7777777778);height:66vh}#video-wrapper[_ngcontent-%COMP%]     .video-js video{outline:0;position:relative!important}#videojs-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-grow:1;height:66vh}.remote-server-down[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column;align-items:center;text-align:center;justify-content:center;background-color:#141313;width:100%;font-size:24px;height:500px}@media screen and (max-width: 1000px){.remote-server-down[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width: 600px){.remote-server-down[_ngcontent-%COMP%]{font-size:16px}}#video-not-found[_ngcontent-%COMP%]{height:300px;line-height:300px;margin-top:50px;text-align:center;font-weight:600;font-size:15px}.video-bottom[_ngcontent-%COMP%]{display:flex;margin-top:1.5rem}.video-info[_ngcontent-%COMP%]{flex-grow:1;min-width:1px;max-width:100%}.video-info-first-row[_ngcontent-%COMP%]{display:flex}.video-info-first-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-grow:1}.video-info-name[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;min-height:40px;font-size:27px;font-weight:600;flex-grow:1}@supports (margin-inline-end: 30px){.video-info-name[_ngcontent-%COMP%]{margin-inline-end:30px}}@supports not (margin-inline-end: 30px){.video-info-name[_ngcontent-%COMP%]{margin-right:30px}}.video-info-first-row-bottom[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;width:100%}.video-info-date-views[_ngcontent-%COMP%]{margin-bottom:10px;align-self:start;font-size:1em}@supports (margin-inline-end: 10px){.video-info-date-views[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.video-info-date-views[_ngcontent-%COMP%]{margin-right:10px}}.video-info-channel[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;color:var(--mainForegroundColor)}.video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.video-info-channel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.video-info-channel-left[_ngcontent-%COMP%]{flex-grow:1}.video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;line-height:1.37}.video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-of-type(2){font-weight:400;font-size:90%}.video-info-channel-left[_ngcontent-%COMP%]   .video-info-channel-left-links[_ngcontent-%COMP%]   a.single-link[_ngcontent-%COMP%]{margin-top:7px}@supports (margin-inline-start: 5px){my-subscribe-button[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){my-subscribe-button[_ngcontent-%COMP%]{margin-left:5px}}my-video-attributes[_ngcontent-%COMP%]{display:block;margin-bottom:15px}@supports (margin-inline-start: 44px){my-video-attributes[_ngcontent-%COMP%]{margin-inline-start:44px}}@supports not (margin-inline-start: 44px){my-video-attributes[_ngcontent-%COMP%]{margin-left:44px}}my-action-buttons[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:10px;align-items:start;width:-webkit-max-content;width:max-content}@supports (margin-inline-start: auto){my-action-buttons[_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){my-action-buttons[_ngcontent-%COMP%]{margin-left:auto}}@supports (margin-inline-end: 0){my-action-buttons[_ngcontent-%COMP%]{margin-inline-end:0}}@supports not (margin-inline-end: 0){my-action-buttons[_ngcontent-%COMP%]{margin-right:0}}my-recommended-videos[_ngcontent-%COMP%]{display:block;min-width:250px}@supports (padding-inline-start: 15px){my-recommended-videos[_ngcontent-%COMP%]{padding-inline-start:15px}}@supports not (padding-inline-start: 15px){my-recommended-videos[_ngcontent-%COMP%]{padding-left:15px}}my-video-comments[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-bottom:20px}@media screen and (max-width: 1100px){#video-wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}#video-wrapper[_ngcontent-%COMP%]   my-video-watch-playlist[_ngcontent-%COMP%]     .playlist{width:100%!important;height:auto!important;max-height:300px!important;max-width:initial;border-bottom:1px solid rgba(0,0,0,.1)!important}.video-bottom[_ngcontent-%COMP%]{flex-direction:column}@supports (padding-inline-start: 0){my-recommended-videos[_ngcontent-%COMP%]{padding-inline-start:0}}@supports not (padding-inline-start: 0){my-recommended-videos[_ngcontent-%COMP%]{padding-left:0}}}@media screen and (max-width: 600px){#videojs-wrapper[_ngcontent-%COMP%]{height:calc(100vw / 1.7777777778)!important}#videojs-wrapper[_ngcontent-%COMP%]   .remote-server-down[_ngcontent-%COMP%], #videojs-wrapper[_ngcontent-%COMP%]     .video-js{width:100vw;height:calc(100vw / 1.7777777778)!important}.video-bottom[_ngcontent-%COMP%]{margin-top:20px!important;padding-bottom:20px!important}.video-info[_ngcontent-%COMP%]{padding:0}.video-info-name[_ngcontent-%COMP%]{font-size:20px;height:auto}}@media screen and (max-width: 450px){.video-info-name[_ngcontent-%COMP%]{font-size:18px}.video-info-date-views[_ngcontent-%COMP%]{font-size:14px}my-action-buttons[_ngcontent-%COMP%]{margin-top:10px}}#video-wrapper[_ngcontent-%COMP%]     .video-js.vjs-fullscreen{max-width:unset}"]}),d})();const Uo=[{path:"p/:playlistId",component:Bo},{path:":videoId/comments/:commentId",redirectTo:":videoId"},{path:":videoId",component:Bo}];let Hs=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=n.oAB({type:d}),d.\u0275inj=n.cJS({imports:[[$e.Bz.forChild(Uo)],$e.Bz]}),d})(),Fo=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=n.oAB({type:d}),d.\u0275inj=n.cJS({providers:[C.L],imports:[[Hs,Qn,I.nC,U.hA,se.F5,ve.xq,B.yC,le.DA,ne.Y,he.Ht,pe.a,Z.A,G.a,H.v]]}),d})()},68237:(F,ae,E)=>{"use strict";E.d(ae,{ZJ:()=>ne,XX:()=>ve,oD:()=>he.o,DV:()=>n});var U=E(86804);class ne{constructor(A){this.silentFilters=new Set(["sort","searchTarget"]),A&&(this.startDate=A.startDate||void 0,this.endDate=A.endDate||void 0,this.originallyPublishedStartDate=A.originallyPublishedStartDate||void 0,this.originallyPublishedEndDate=A.originallyPublishedEndDate||void 0,this.nsfw=A.nsfw||void 0,this.isLive=A.isLive||void 0,this.categoryOneOf=A.categoryOneOf||void 0,this.licenceOneOf=A.licenceOneOf||void 0,this.languageOneOf=A.languageOneOf||void 0,this.tagsOneOf=(0,U.g9)(A.tagsOneOf),this.tagsAllOf=(0,U.g9)(A.tagsAllOf),this.durationMin=parseInt(A.durationMin,10),this.durationMax=parseInt(A.durationMax,10),this.host=A.host||void 0,this.searchTarget=A.searchTarget||void 0,isNaN(this.durationMin)&&(this.durationMin=void 0),isNaN(this.durationMax)&&(this.durationMax=void 0),this.sort=A.sort||"-match")}containsValues(){const A=this.toUrlObject();for(const j of Object.keys(A))if(!this.silentFilters.has(j)&&this.isValidValue(A[j]))return!0;return!1}reset(){this.startDate=void 0,this.endDate=void 0,this.originallyPublishedStartDate=void 0,this.originallyPublishedEndDate=void 0,this.nsfw=void 0,this.categoryOneOf=void 0,this.licenceOneOf=void 0,this.languageOneOf=void 0,this.tagsOneOf=void 0,this.tagsAllOf=void 0,this.durationMin=void 0,this.durationMax=void 0,this.isLive=void 0,this.host=void 0,this.sort="-match"}toUrlObject(){return{startDate:this.startDate,endDate:this.endDate,originallyPublishedStartDate:this.originallyPublishedStartDate,originallyPublishedEndDate:this.originallyPublishedEndDate,nsfw:this.nsfw,categoryOneOf:this.categoryOneOf,licenceOneOf:this.licenceOneOf,languageOneOf:this.languageOneOf,tagsOneOf:this.tagsOneOf,tagsAllOf:this.tagsAllOf,durationMin:this.durationMin,durationMax:this.durationMax,isLive:this.isLive,host:this.host,sort:this.sort,searchTarget:this.searchTarget}}toVideosAPIObject(){let A;return this.isLive&&(A="true"===this.isLive),{startDate:this.startDate,endDate:this.endDate,originallyPublishedStartDate:this.originallyPublishedStartDate,originallyPublishedEndDate:this.originallyPublishedEndDate,nsfw:this.nsfw,categoryOneOf:(0,U.g9)(this.categoryOneOf),licenceOneOf:(0,U.g9)(this.licenceOneOf),languageOneOf:(0,U.g9)(this.languageOneOf),tagsOneOf:this.tagsOneOf,tagsAllOf:this.tagsAllOf,durationMin:this.durationMin,durationMax:this.durationMax,host:this.host,isLive:A,sort:this.sort,searchTarget:this.searchTarget}}toPlaylistAPIObject(){return{host:this.host,searchTarget:this.searchTarget}}toChannelAPIObject(){return{host:this.host,searchTarget:this.searchTarget}}size(){let A=0;const j=this.toUrlObject();for(const k of Object.keys(j))this.silentFilters.has(k)||this.isValidValue(j[k])&&A++;return A}isValidValue(A){return!(void 0===A||""===A||Array.isArray(A)&&0===A.length)}}var I=E(57115),le=E(48022),pe=E(64033),G=E(24898),B=E(29230),Z=E(42741),he=E(7958);const se=I("peertube:search:FindInBulkService");let ve=(()=>{class L{constructor(j,k){this.searchService=j,this.ngZone=k,this.getVideoInBulk=this.buildBulkObservableObject(this.getVideosInBulk.bind(this)),this.getChannelInBulk=this.buildBulkObservableObject(this.getChannelsInBulk.bind(this)),this.getPlaylistInBulk=this.buildBulkObservableObject(this.getPlaylistsInBulk.bind(this))}getVideo(j){return se("Schedule video fetch for uuid %s.",j),this.getData({observableObject:this.getVideoInBulk,finder:k=>k.uuid===j,param:j})}getChannel(j){return se("Schedule channel fetch for handle %s.",j),this.getData({observableObject:this.getChannelInBulk,finder:k=>k.nameWithHost===j||k.nameWithHostForced===j,param:j})}getPlaylist(j){return se("Schedule playlist fetch for uuid %s.",j),this.getData({observableObject:this.getPlaylistInBulk,finder:k=>k.uuid===j,param:j})}getData(j){const{observableObject:k,param:x,finder:W}=j;return new le.y(fe=>{k.result.pipe((0,G.P)(),(0,B.U)(({data:ee})=>ee),(0,B.U)(ee=>ee.find(W))).subscribe(ee=>{ee?(fe.next(ee),fe.complete()):fe.error(new Error("Element " + x + " not found"))}),k.notifier.next(x)})}getVideosInBulk(j){return se("Fetching videos %s.",j.join(", ")),this.searchService.searchVideos({uuids:j})}getChannelsInBulk(j){return se("Fetching channels %s.",j.join(", ")),this.searchService.searchVideoChannels({handles:j})}getPlaylistsInBulk(j){return se("Fetching playlists %s.",j.join(", ")),this.searchService.searchVideoPlaylists({uuids:j})}buildBulkObservableObject(j){const k=new pe.x;return{notifier:k,result:(0,U.f8)({time:500,bulkGet:j,ngZone:this.ngZone,notifierObservable:k.asObservable()})}}}return L.\u0275fac=function(j){return new(j||L)(Z.LFG(he.o),Z.LFG(Z.R0b))},L.\u0275prov=Z.Yz7({token:L,factory:L.\u0275fac}),L})();var H=E(62026),C=E(36226);let n=(()=>{class L{}return L.\u0275fac=function(j){return new(j||L)},L.\u0275mod=Z.oAB({type:L}),L.\u0275inj=Z.cJS({providers:[ve,he.o],imports:[[H.nC,C.xq]]}),L})()},7958:(F,ae,E)=>{"use strict";E.d(ae,{o:()=>ve});var U=E(72754),ne=E(97142),I=E(29230),le=E(31887),pe=E(62026),G=E(8931),B=E(24766),Z=E(42741),he=E(54755),se=E(36226);class ve{constructor(C,n,L,A,j){this.authHttp=C,this.restExtractor=n,this.restService=L,this.videoService=A,this.playlistService=j;const k=G.X.getItem("search-url");k&&(ve.BASE_SEARCH_URL=k)}searchVideos(C){const{search:n,uuids:L,componentPagination:A,advancedSearch:j}=C,k=ve.BASE_SEARCH_URL+"videos";let x;A&&(x=this.restService.componentPaginationToRestPagination(A));let W=new le.LE;if(W=this.restService.addRestGetParams(W,x),n&&(W=W.append("search",n)),L&&(W=this.restService.addArrayParams(W,"uuids",L)),j){const fe=j.toVideosAPIObject();W=this.restService.addObjectParams(W,fe)}return this.authHttp.get(k,{params:W}).pipe((0,U.w)(fe=>this.videoService.extractVideos(fe)),(0,ne.K)(fe=>this.restExtractor.handleError(fe)))}searchVideoChannels(C){const{search:n,advancedSearch:L,componentPagination:A,handles:j}=C,k=ve.BASE_SEARCH_URL+"video-channels";let x;A&&(x=this.restService.componentPaginationToRestPagination(A));let W=new le.LE;if(W=this.restService.addRestGetParams(W,x),n&&(W=W.append("search",n)),j&&(W=this.restService.addArrayParams(W,"handles",j)),L){const fe=L.toChannelAPIObject();W=this.restService.addObjectParams(W,fe)}return this.authHttp.get(k,{params:W}).pipe((0,I.U)(fe=>pe.B1.extractVideoChannels(fe)),(0,ne.K)(fe=>this.restExtractor.handleError(fe)))}searchVideoPlaylists(C){const{search:n,advancedSearch:L,componentPagination:A,uuids:j}=C,k=ve.BASE_SEARCH_URL+"video-playlists";let x;A&&(x=this.restService.componentPaginationToRestPagination(A));let W=new le.LE;if(W=this.restService.addRestGetParams(W,x),n&&(W=W.append("search",n)),j&&(W=this.restService.addArrayParams(W,"uuids",j)),L){const fe=L.toPlaylistAPIObject();W=this.restService.addObjectParams(W,fe)}return this.authHttp.get(k,{params:W}).pipe((0,U.w)(fe=>this.playlistService.extractPlaylists(fe)),(0,ne.K)(fe=>this.restExtractor.handleError(fe)))}}ve.BASE_SEARCH_URL=B.N.apiUrl+"/api/v1/search/",ve.\u0275fac=function(C){return new(C||ve)(Z.LFG(le.eN),Z.LFG(he.DI),Z.LFG(he.vg),Z.LFG(pe.kI),Z.LFG(se.Qq))},ve.\u0275prov=Z.Yz7({token:ve,factory:ve.\u0275fac})},54187:(F,ae,E)=>{"use strict";function U(){const k=A("volume");if(null!=k){const x=parseFloat(k);return isNaN(x)?void 0:x}}function ne(){const k=A("webtorrent_enabled");return null==k||"true"===k}function I(){const k=A("mute");if(null!=k)return"true"===k}function le(){const k=A("theater-enabled");return null!=k&&"true"===k}function pe(k){return j("volume",k.toString())}function G(k){return j("mute",k.toString())}function B(k){return j("theater-enabled",k.toString())}function Z(k){return j("average-bandwidth",k.toString())}function he(){const k=A("average-bandwidth");if(null!=k){const x=parseInt(k,10);return isNaN(x)?void 0:x}}function se(k){return j("last-subtitle",k)}function ve(){return A("last-subtitle")}function H(k,x){return j("video-watch-history",JSON.stringify(Object.assign(Object.assign({},C()),{[k]:{duration:x,date:`${(new Date).toISOString()}`}})))}function C(k){let x;try{const W=A("video-watch-history");if(!W)return{};x=JSON.parse(W)}catch(W){console.error("Cannot parse video watch history from local storage: ",W)}return x=x||{},k?x[k]:x}function n(){const k=C();if(!k)return;const x=Object.keys(k).reduce((W,fe)=>{const ee=Date.parse(k[fe].date);return Math.ceil(((new Date).getTime()-ee)/864e5)>30?W:Object.assign(Object.assign({},W),{[fe]:k[fe]})},{});j("video-watch-history",JSON.stringify(x))}E.d(ae,{OV:()=>U,H2:()=>ne,W7:()=>I,y_:()=>le,ao:()=>pe,ZC:()=>G,AO:()=>B,M_:()=>Z,zZ:()=>he,v_:()=>se,pW:()=>ve,Pz:()=>H,QC:()=>C,Tz:()=>n});const L="peertube-videojs-";function A(k){try{return localStorage.getItem(L+k)}catch(x){return}}function j(k,x){try{localStorage.setItem(L+k,x)}catch(W){}}},25893:()=>{}}]);
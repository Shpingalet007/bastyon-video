"use strict";(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[600],{18747:(V,h,n)=>{n.d(h,{Co:()=>c,A_:()=>g,tJ:()=>f});var t=n(93324);const c={VALIDATORS:[t.kI.required,t.kI.minLength(2),t.kI.maxLength(3e3)],MESSAGES:{required:"Se requiere un motivo para reportar.",minlength:"El motivo del reporte ha de ocupar como m\xEDnimo 2 caracteres.",maxlength:"El motivo del informe no puede tener m\xE1s de 3000 caracteres."}},g={VALIDATORS:[t.kI.required,t.kI.minLength(2),t.kI.maxLength(3e3)],MESSAGES:{required:"Se requiere llenar el comentario de moderaci\xF3n.",minlength:"El comentario de moderaci\xF3n tiene que contener por lo menos 2 caracteres.",maxlength:"El comentario de moderaci\xF3n no puede tener m\xE1s de 3000 caracteres."}},f={VALIDATORS:[t.kI.required,t.kI.minLength(2),t.kI.maxLength(3e3)],MESSAGES:{required:"Se requiere un mensaje de abuso.",minlength:"El mensaje de abuso debe tener al menos 2 caracteres.",maxlength:"El mensaje de abuso no puede tener m\xE1s de 3000 caracteres."}}},86395:(V,h,n)=>{n.d(h,{p:()=>c,Tv:()=>e,dl:()=>o,pD:()=>A});var t=n(93324);function c(C){return new RegExp("^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$").test(C)}function g(C){return!!C&&C.includes("@")}function e(C){return C.split("\n").filter(l=>l&&0!==l.length)}const O=C=>{if(!C.value)return null;const l=e(C.value);return l.every(m=>l.indexOf(m)===l.lastIndexOf(m))?null:{unique:{reason:"invalid"}}},o={VALIDATORS:[t.kI.required,C=>{if(!C.value)return null;const l=[],m=e(C.value);for(const r of m)!1===c(r)&&l.push("\n          " + r + " no es v\xE1lido\n        ");return 0===l.length?null:{validHosts:{reason:"invalid",value:l.join(". ")+"."}}},O],MESSAGES:{required:"Se requiere dominio.",validHosts:"Los hosts ingresados no son v\xE1lidos.",unique:"Los hosts ingresados contienen duplicados."}},A={VALIDATORS:[t.kI.required,C=>{if(!C.value)return null;const l=[],m=e(C.value);for(const r of m)!1===c(r)&&!1===g(r)&&l.push("\n          " + r + " no es v\xE1lido\n        ");return 0===l.length?null:{validHostsOrHandles:{reason:"invalid",value:l.join(". ")+"."}}},O],MESSAGES:{required:"Se requiere dominio.",validHostsOrHandles:"Los hosts o controladores no son v\xE1lidos.",unique:"Los hosts o identificadores contienen duplicados."}}},16564:(V,h,n)=>{n.d(h,{j:()=>A});var t=n(41611),c=n(97142),g=n(29230),f=n(31887),e=(n(359),n(24766)),O=n(42741),o=n(54755);class A{constructor(l,m,r){this.authHttp=l,this.restService=m,this.restExtractor=r}getAdminAbuses(l){const{pagination:m,sort:r,search:u}=l,a=A.BASE_ABUSE_URL;let _=new f.LE;return _=this.restService.addRestGetParams(_,m,r),u&&(_=this.buildParamsFromSearch(u,_)),this.authHttp.get(a,{params:_}).pipe((0,c.K)(s=>this.restExtractor.handleError(s)))}getUserAbuses(l){const{pagination:m,sort:r,search:u}=l,a=A.BASE_MY_ABUSE_URL;let _=new f.LE;return _=this.restService.addRestGetParams(_,m,r),u&&(_=this.buildParamsFromSearch(u,_)),this.authHttp.get(a,{params:_}).pipe((0,c.K)(s=>this.restExtractor.handleError(s)))}reportVideo(l){const m=A.BASE_ABUSE_URL,r=(0,t.Z)(l,["id"]);return this.authHttp.post(m,r).pipe((0,g.U)(this.restExtractor.extractDataBool),(0,c.K)(u=>this.restExtractor.handleError(u)))}updateAbuse(l,m){return this.authHttp.put(A.BASE_ABUSE_URL+"/"+l.id,m).pipe((0,g.U)(this.restExtractor.extractDataBool),(0,c.K)(u=>this.restExtractor.handleError(u)))}removeAbuse(l){return this.authHttp.delete(A.BASE_ABUSE_URL+"/"+l.id).pipe((0,g.U)(this.restExtractor.extractDataBool),(0,c.K)(r=>this.restExtractor.handleError(r)))}addAbuseMessage(l,m){return this.authHttp.post(A.BASE_ABUSE_URL+"/"+l.id+"/messages",{message:m}).pipe((0,g.U)(this.restExtractor.extractDataBool),(0,c.K)(u=>this.restExtractor.handleError(u)))}listAbuseMessages(l){return this.authHttp.get(A.BASE_ABUSE_URL+"/"+l.id+"/messages").pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}deleteAbuseMessage(l,m){return this.authHttp.delete(A.BASE_ABUSE_URL+"/"+l.id+"/messages/"+m.id).pipe((0,g.U)(this.restExtractor.extractDataBool),(0,c.K)(u=>this.restExtractor.handleError(u)))}getPrefefinedReasons(l){let m=[{id:"violentOrRepulsive",label:"Violento o repulsivo",help:"Contiene lenguaje o iconograf\xEDa ofensiva, violenta o grosera."},{id:"hatefulOrAbusive",label:"Odioso o abusivo",help:"Contiene lenguaje o iconograf\xEDa abusiva, racista o sexista."},{id:"spamOrMisleading",label:"Spam, anuncio o noticias falsas",help:"Contiene marketing, spam, noticias deliberadamente enga\xF1osas o miniaturas / texto / etiquetas enga\xF1osas. Proporcione fuentes acreditadas para informar enga\xF1os."},{id:"privacy",label:"Infracci\xF3n de privacidad o doxxing",help:"Contiene informaci\xF3n personal que podr\xEDa usarse para rastrear, identificar, contactar o hacerse pasar por otra persona (por ejemplo, nombre, direcci\xF3n, n\xFAmero de tel\xE9fono, correo electr\xF3nico o detalles de la tarjeta de cr\xE9dito)."},{id:"rights",label:"Copyright",help:"Infringe sus derechos de autor wrt. las leyes regionales que debe cumplir el servidor."},{id:"serverRules",label:"Rompe las reglas del servidor",description:"Cualquier cosa no incluida en lo anterior que rompa los t\xE9rminos de servicio, el c\xF3digo de conducta o las reglas generales vigentes en el servidor."}];return"video"===l&&(m=m.concat([{id:"thumbnails",label:"Miniaturas",help:"Lo anterior solo se puede ver en las miniaturas."},{id:"captions",label:"Subt\xEDtulos",help:"Lo anterior solo se puede ver en subt\xEDtulos (describa cu\xE1l)."}])),m}buildParamsFromSearch(l,m){const r=this.restService.parseQueryStringFilter(l,{id:{prefix:"#"},state:{prefix:"state:",handler:u=>"accepted"===u?3:"pending"===u?1:"rejected"===u?2:void 0},videoIs:{prefix:"videoIs:",handler:u=>{if("deleted"===u||"blacklisted"===u)return u}},searchReporter:{prefix:"reporter:"},searchReportee:{prefix:"reportee:"},predefinedReason:{prefix:"tag:"}});return this.restService.addObjectParams(m,r)}}A.BASE_ABUSE_URL=e.N.apiUrl+"/api/v1/abuses",A.BASE_MY_ABUSE_URL=e.N.apiUrl+"/api/v1/users/me/abuses",A.\u0275fac=function(l){return new(l||A)(O.LFG(f.eN),O.LFG(o.vg),O.LFG(o.DI))},A.\u0275prov=O.Yz7({token:A,factory:A.\u0275fac})},99436:(V,h,n)=>{n.d(h,{i:()=>c});var t=n(62026);class c{constructor(f){this.byAccount=new t.mR(f.byAccount),this.blockedAccount=new t.mR(f.blockedAccount),this.createdAt=f.createdAt}}},71142:(V,h,n)=>{n.d(h,{F:()=>a});var t=n(42741),c=n(84167),g=n(86395),f=n(76476),S=n(19895),e=n(93324),O=n(16274);const o=["modal"];function A(_,s){if(1&_&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&_){const i=t.oxw(3);t.xp6(1),t.hij(" ",i.form.controls.hosts.errors.validHosts.value," ")}}function C(_,s){if(1&_&&(t.TgZ(0,"div",14),t._uU(1),t.YNc(2,A,2,1,"div",15),t.qZA()),2&_){const i=t.oxw(2);t.xp6(1),t.hij(" ",i.formErrors.hosts," "),t.xp6(1),t.Q6J("ngIf",i.form.controls.hosts.errors.validHosts)}}const l=function(_){return{"input-error":_}};function m(_,s){if(1&_){const i=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"h4",2),t._uU(2),t.qZA(),t.TgZ(3,"my-global-icon",3),t.NdJ("click",function(){return t.CHM(i),t.oxw().hide()}),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"form",5),t.NdJ("ngSubmit",function(){return t.CHM(i),t.oxw().submit()}),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t.SDv(8,8),t.qZA(),t._UZ(9,"textarea",9),t.YNc(10,C,3,2,"div",10),t.qZA(),t.Hsn(11),t.TgZ(12,"div",11),t.TgZ(13,"input",12),t.NdJ("click",function(){return t.CHM(i),t.oxw().hide()})("key.enter",function(){return t.CHM(i),t.oxw().hide()}),t.qZA(),t._UZ(14,"input",13),t.qZA(),t.qZA(),t.qZA()}if(2&_){const i=t.oxw();t.xp6(2),t.Oqu(i.action),t.xp6(3),t.Q6J("formGroup",i.form),t.xp6(4),t.Q6J("placeholder",i.placeholder)("ngClass",t.VKq(7,l,i.formErrors.hosts)),t.xp6(1),t.Q6J("ngIf",i.formErrors.hosts),t.xp6(4),t.Q6J("value",i.action)("disabled",!i.form.valid)}}const r=[[["warning"]]],u=["warning"];let a=(()=>{class _ extends c.OI{constructor(i,M){super(),this.formValidatorService=i,this.modalService=M,this.placeholder="example.com",this.domains=new t.vpe}ngOnInit(){this.action||(this.action="Procesar dominios"),this.buildForm({hosts:g.dl})}openModal(){this.openedModal=this.modalService.open(this.modal,{centered:!0})}hide(){this.openedModal.close()}submit(){this.domains.emit((0,g.Tv)(this.form.controls.hosts.value)),this.form.reset(),this.hide()}}return _.\u0275fac=function(i){return new(i||_)(t.Y36(c.Q4),t.Y36(f.FF))},_.\u0275cmp=t.Xpm({type:_,selectors:[["my-batch-domains-modal"]],viewQuery:function(i,M){if(1&i&&t.Gf(o,7),2&i){let T;t.iGM(T=t.CRH())&&(M.modal=T.first)}},inputs:{placeholder:"placeholder",action:"action"},outputs:{domains:"domains"},features:[t.qOj],ngContentSelectors:u,decls:2,vars:0,consts:function(){let s,i;return s="1 host (sin \"http://\") por l\xEDnea",i="cancelar",[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","hosts"],s,["formControlName","hosts","type","text","id","hosts","name","hosts","ngbAutofocus","",1,"form-control",3,"placeholder","ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",i,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit",1,"peertube-button","orange-button",3,"value","disabled"],[1,"form-error"],[4,"ngIf"]]},template:function(i,M){1&i&&(t.F$t(r),t.YNc(0,m,15,9,"ng-template",null,0,t.W1O))},directives:[S.$,e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,O.mk,O.O5],styles:["textarea[_ngcontent-%COMP%]{height:200px}"]}),_})()},7122:(V,h,n)=>{n.d(h,{O:()=>o,I:()=>A});var t=n(29230),c=n(97142),g=n(31887),f=n(24766),S=n(99436),e=n(42741),O=n(54755),o=(()=>{return(C=o||(o={}))[C.Account=0]="Account",C[C.Instance=1]="Instance",o;var C})();class A{constructor(l,m,r){this.authHttp=l,this.restExtractor=m,this.restService=r}getUserAccountBlocklist(l){const{pagination:m,sort:r,search:u}=l;let a=new g.LE;return a=this.restService.addRestGetParams(a,m,r),u&&(a=a.append("search",u)),this.authHttp.get(A.BASE_USER_BLOCKLIST_URL+"/accounts",{params:a}).pipe((0,t.U)(_=>this.restExtractor.convertResultListDateToHuman(_)),(0,t.U)(_=>this.restExtractor.applyToResultListData(_,this.formatAccountBlock.bind(this))),(0,c.K)(_=>this.restExtractor.handleError(_)))}blockAccountByUser(l){return this.authHttp.post(A.BASE_USER_BLOCKLIST_URL+"/accounts",{accountName:l.nameWithHost}).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}unblockAccountByUser(l){return this.authHttp.delete(A.BASE_USER_BLOCKLIST_URL+"/accounts/"+l.nameWithHost).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}getUserServerBlocklist(l){const{pagination:m,sort:r,search:u}=l;let a=new g.LE;return a=this.restService.addRestGetParams(a,m,r),u&&(a=a.append("search",u)),this.authHttp.get(A.BASE_USER_BLOCKLIST_URL+"/servers",{params:a}).pipe((0,t.U)(_=>this.restExtractor.convertResultListDateToHuman(_)),(0,c.K)(_=>this.restExtractor.handleError(_)))}blockServerByUser(l){return this.authHttp.post(A.BASE_USER_BLOCKLIST_URL+"/servers",{host:l}).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}unblockServerByUser(l){return this.authHttp.delete(A.BASE_USER_BLOCKLIST_URL+"/servers/"+l).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}getInstanceAccountBlocklist(l){const{pagination:m,sort:r,search:u}=l;let a=new g.LE;return a=this.restService.addRestGetParams(a,m,r),u&&(a=a.append("search",u)),this.authHttp.get(A.BASE_SERVER_BLOCKLIST_URL+"/accounts",{params:a}).pipe((0,t.U)(_=>this.restExtractor.convertResultListDateToHuman(_)),(0,t.U)(_=>this.restExtractor.applyToResultListData(_,this.formatAccountBlock.bind(this))),(0,c.K)(_=>this.restExtractor.handleError(_)))}blockAccountByInstance(l){return this.authHttp.post(A.BASE_SERVER_BLOCKLIST_URL+"/accounts",{accountName:l.nameWithHost}).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}unblockAccountByInstance(l){return this.authHttp.delete(A.BASE_SERVER_BLOCKLIST_URL+"/accounts/"+l.nameWithHost).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}getInstanceServerBlocklist(l){const{pagination:m,sort:r,search:u}=l;let a=new g.LE;return a=this.restService.addRestGetParams(a,m,r),u&&(a=a.append("search",u)),this.authHttp.get(A.BASE_SERVER_BLOCKLIST_URL+"/servers",{params:a}).pipe((0,t.U)(_=>this.restExtractor.convertResultListDateToHuman(_)),(0,c.K)(_=>this.restExtractor.handleError(_)))}blockServerByInstance(l){return this.authHttp.post(A.BASE_SERVER_BLOCKLIST_URL+"/servers",{host:l}).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}unblockServerByInstance(l){return this.authHttp.delete(A.BASE_SERVER_BLOCKLIST_URL+"/servers/"+l).pipe((0,c.K)(r=>this.restExtractor.handleError(r)))}formatAccountBlock(l){return new S.i(l)}}A.BASE_USER_BLOCKLIST_URL=f.N.apiUrl+"/api/v1/users/me/blocklist",A.BASE_SERVER_BLOCKLIST_URL=f.N.apiUrl+"/api/v1/server/blocklist",A.\u0275fac=function(l){return new(l||A)(e.LFG(g.eN),e.LFG(O.DI),e.LFG(O.vg))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac})},65530:(V,h,n)=>{n.d(h,{_:()=>e});var t=n(97142),c=n(24766),g=n(42741),f=n(31887),S=n(54755);class e{constructor(o,A){this.authHttp=o,this.restExtractor=A}removeCommentsOf(o){return this.authHttp.post(e.BASE_BULK_URL+"/remove-comments-of",o).pipe((0,t.K)(C=>this.restExtractor.handleError(C)))}}e.BASE_BULK_URL=c.N.apiUrl+"/api/v1/bulk",e.\u0275fac=function(o){return new(o||e)(g.LFG(f.eN),g.LFG(S.DI))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac})},48600:(V,h,n)=>{n.d(h,{jv:()=>f.j,OI:()=>O.O,I0:()=>O.I,_B:()=>l._,hl:()=>A,DJ:()=>r,DA:()=>H,h7:()=>s.h}),n(21436),n(41556),n(69886);var f=n(16564),e=(n(99436),n(54755)),O=n(7122),o=n(42741);let A=(()=>{class b extends e.Ad{constructor(I,E){super(),this.notifier=I,this.blocklistService=E,this.blockedAccounts=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}unblockAccount(I){const E=I.blockedAccount;(this.mode===O.O.Account?this.blocklistService.unblockAccountByUser(E):this.blocklistService.unblockAccountByInstance(E)).subscribe(()=>{this.notifier.success(this.mode===O.O.Account?"La cuenta " + E.nameWithHost + " ya no est\xE1 silenciada.":"La cuenta " + E.nameWithHost + " no est\xE1 silenciada por su instancia."),this.reloadData()})}reloadData(){return(this.mode===O.O.Account?this.blocklistService.getUserAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceAccountBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe({next:E=>{this.blockedAccounts=E.data,this.totalRecords=E.total},error:E=>this.notifier.error(E.message)})}}return b.\u0275fac=function(I){return new(I||b)(o.Y36(e.d4),o.Y36(O.I))},b.\u0275dir=o.lG2({type:b,features:[o.qOj]}),b})();n(71142);var l=n(65530);const m=["batchDomainsModal"];let r=(()=>{class b extends e.Ad{constructor(I,E){super(),this.notifier=I,this.blocklistService=E,this.blockedServers=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}unblockServer(I){const D=I.blockedServer.host;(x=>this.mode===O.O.Account?this.blocklistService.unblockServerByUser(x):this.blocklistService.unblockServerByInstance(x))(D).subscribe(()=>{this.notifier.success(this.mode===O.O.Account?"La instancia " + D + " ya no est\xE1 silenciada.":"La instancia " + D + " no est\xE1 silenciada por su instancia."),this.reloadData()})}addServersToBlock(){this.batchDomainsModal.openModal()}onDomainsToBlock(I){const E=D=>this.mode===O.O.Account?this.blocklistService.blockServerByUser(D):this.blocklistService.blockServerByInstance(D);I.forEach(D=>{E(D).subscribe(()=>{this.notifier.success(this.mode===O.O.Account?"Instancia " + D + " silenciada.":"Instancia " + D + " silenciado por tu instancia."),this.reloadData()})})}reloadData(){return(this.mode===O.O.Account?this.blocklistService.getUserServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search}):this.blocklistService.getInstanceServerBlocklist({pagination:this.pagination,sort:this.sort,search:this.search})).subscribe({next:E=>{this.blockedServers=E.data,this.totalRecords=E.total},error:E=>this.notifier.error(E.message)})}}return b.\u0275fac=function(I){return new(I||b)(o.Y36(e.d4),o.Y36(O.I))},b.\u0275dir=o.lG2({type:b,viewQuery:function(I,E){if(1&I&&o.Gf(m,5),2&I){let D;o.iGM(D=o.CRH())&&(E.batchDomainsModal=D.first)}},features:[o.qOj]}),b})();n(23585),n(59930),n(90884);var s=n(16443),i=n(6727),M=n(97694),T=n(13010),Z=n(91061),N=n(63192);let H=(()=>{class b{}return b.\u0275fac=function(I){return new(I||b)},b.\u0275mod=o.oAB({type:b}),b.\u0275inj=o.cJS({providers:[O.I,l._,f.j,s.h],imports:[[T.n,i.h,M.Y,Z.Ht,N.v]]}),b})()},21436:(V,h,n)=>{n.d(h,{E:()=>b});var t=n(97600),c=n(28882),g=n(18747),f=n(84167),S=n(43900),e=n(42741),O=n(76476),o=n(16564),A=n(54755),C=n(19895),l=n(93324),m=n(16274),r=n(24333),u=n(73797);const a=["modal"];function _(v,I){if(1&v&&e._UZ(0,"div",26),2&v){const E=e.oxw(2).$implicit;e.Q6J("innerHTML",E.help,e.oJD)}}function s(v,I){1&v&&e.YNc(0,_,1,1,"ng-template",25)}function i(v,I){if(1&v&&(e.ynx(0,27),e._UZ(1,"div",26),e.BQk()),2&v){const E=e.oxw().$implicit;e.xp6(1),e.Q6J("innerHTML",E.description,e.oJD)}}function M(v,I){if(1&v&&(e.TgZ(0,"div",17),e.TgZ(1,"my-peertube-checkbox",23),e.YNc(2,s,1,0,void 0,16),e.YNc(3,i,2,1,"ng-container",24),e.qZA(),e.qZA()),2&v){const E=I.$implicit;e.xp6(1),e.Q6J("inputName",E.id)("formControlName",E.id)("labelText",E.label),e.xp6(1),e.Q6J("ngIf",E.help),e.xp6(1),e.Q6J("ngIf",E.description)}}function T(v,I){if(1&v&&(e.tHW(0,15,1),e.GkF(1),e.N_p()),2&v){const E=e.oxw(2);e.xp6(1),e.pQV(E.originHost),e.QtT(0)}}function Z(v,I){if(1&v&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&v){const E=e.oxw(2);e.xp6(1),e.hij(" ",E.formErrors.reason," ")}}const N=function(v){return{"input-error":v}};function H(v,I){if(1&v){const E=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2),e.qZA(),e.TgZ(3,"my-global-icon",3),e.NdJ("click",function(){return e.CHM(E),e.oxw().hide()}),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(E),e.oxw().report()}),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"label",8),e.SDv(9,9),e.qZA(),e.TgZ(10,"div",10),e.ynx(11,11),e.YNc(12,M,4,5,"div",12),e.BQk(),e.qZA(),e.qZA(),e.TgZ(13,"div",13),e.TgZ(14,"div",14),e.tHW(15,15),e.YNc(16,T,2,1,"ng-container",16),e.N_p(),e.qZA(),e.TgZ(17,"div",17),e._UZ(18,"textarea",18),e.YNc(19,Z,2,1,"div",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",20),e.TgZ(21,"input",21),e.NdJ("click",function(){return e.CHM(E),e.oxw().hide()})("key.enter",function(){return e.CHM(E),e.oxw().hide()}),e.qZA(),e._UZ(22,"input",22),e.qZA(),e.qZA(),e.qZA()}if(2&v){const E=e.oxw();e.xp6(2),e.Oqu(E.modalTitle),e.xp6(3),e.Q6J("formGroup",E.form),e.xp6(7),e.Q6J("ngForOf",E.predefinedReasons),e.xp6(4),e.Q6J("ngIf",E.isRemote()),e.pQV(E.currentHost),e.QtT(15),e.xp6(2),e.Q6J("ngClass",e.VKq(8,N,E.formErrors.reason)),e.xp6(1),e.Q6J("ngIf",E.formErrors.reason),e.xp6(3),e.Q6J("disabled",!E.form.valid)}}let b=(()=>{class v extends f.OI{constructor(E,D,x,B){super(),this.formValidatorService=E,this.modalService=D,this.abuseService=x,this.notifier=B,this.account=null,this.error=null,this.predefinedReasons=[]}get currentHost(){return window.location.host}get originHost(){return this.isRemote()?this.account.host:""}ngOnInit(){this.modalTitle="Informe\n          " + this.account.displayName + "\n        ",this.buildForm({reason:g.Co,predefinedReasons:(0,t.Z)(S.q,E=>null)}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("account")}show(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}hide(){this.openedModal.close(),this.openedModal=null}report(){const E=this.form.get("reason").value,D=Object.keys((0,c.Z)(this.form.get("predefinedReasons").value));this.abuseService.reportVideo({reason:E,predefinedReasons:D,account:{id:this.account.id}}).subscribe({next:()=>{this.notifier.success("Cuenta informada."),this.hide()},error:x=>this.notifier.error(x.message)})}isRemote(){return!this.account.isLocal}}return v.\u0275fac=function(E){return new(E||v)(e.Y36(f.Q4),e.Y36(O.FF),e.Y36(o.j),e.Y36(A.d4))},v.\u0275cmp=e.Xpm({type:v,selectors:[["my-account-report"]],viewQuery:function(E,D){if(1&E&&e.Gf(a,7),2&E){let x;e.iGM(x=e.CRH())&&(D.modal=x.first)}},inputs:{account:"account"},features:[e.qOj],decls:2,vars:0,consts:function(){let I,E,D,x,B;return I="\xBFCu\xE1l es el problema?",E="Por favor, describa el problema ...",D="cancelar",x="Enviar",B="Su informe se enviar\xE1 a los moderadores de " + "\ufffd0\ufffd" + "" + "\ufffd*16:1\ufffd\ufffd#1:1\ufffd" + "y ser\xE1 reenviado tambi\xE9n al origen del comentario( " + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*16:1\ufffd" + ". ",[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],I,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"information"],B,[4,"ngIf"],[1,"form-group"],["placeholder",E,"formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",D,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",x,1,"peertube-button","orange-button",3,"disabled"],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],[3,"innerHTML"],["ngProjectAs","description",5,["description"]],[1,"form-error"]]},template:function(E,D){1&E&&e.YNc(0,H,23,10,"ng-template",null,0,e.W1O)},directives:[C.$,l._Y,l.JL,l.sg,l.x0,m.sg,m.O5,l.Fj,l.JJ,l.u,m.mk,r.P,u.Y],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}@supports (margin-inline-start: 10px){.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56.25%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]     iframe{position:absolute;width:100%;height:100%;top:0;left:0}"]}),v})()},41556:(V,h,n)=>{n.d(h,{J:()=>b});var t=n(97600),c=n(28882),g=n(18747),f=n(84167),S=n(43900),e=n(42741),O=n(76476),o=n(16564),A=n(54755),C=n(19895),l=n(93324),m=n(16274),r=n(24333),u=n(73797);const a=["modal"];function _(v,I){if(1&v&&e._UZ(0,"div",26),2&v){const E=e.oxw(2).$implicit;e.Q6J("innerHTML",E.help,e.oJD)}}function s(v,I){1&v&&e.YNc(0,_,1,1,"ng-template",25)}function i(v,I){if(1&v&&(e.ynx(0,27),e._UZ(1,"div",26),e.BQk()),2&v){const E=e.oxw().$implicit;e.xp6(1),e.Q6J("innerHTML",E.description,e.oJD)}}function M(v,I){if(1&v&&(e.TgZ(0,"div",17),e.TgZ(1,"my-peertube-checkbox",23),e.YNc(2,s,1,0,void 0,16),e.YNc(3,i,2,1,"ng-container",24),e.qZA(),e.qZA()),2&v){const E=I.$implicit;e.xp6(1),e.Q6J("inputName",E.id)("formControlName",E.id)("labelText",E.label),e.xp6(1),e.Q6J("ngIf",E.help),e.xp6(1),e.Q6J("ngIf",E.description)}}function T(v,I){if(1&v&&(e.tHW(0,15,1),e.GkF(1),e.N_p()),2&v){const E=e.oxw(2);e.xp6(1),e.pQV(E.originHost),e.QtT(0)}}function Z(v,I){if(1&v&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&v){const E=e.oxw(2);e.xp6(1),e.hij(" ",E.formErrors.reason," ")}}const N=function(v){return{"input-error":v}};function H(v,I){if(1&v){const E=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2),e.qZA(),e.TgZ(3,"my-global-icon",3),e.NdJ("click",function(){return e.CHM(E),e.oxw().hide()}),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(E),e.oxw().report()}),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"label",8),e.SDv(9,9),e.qZA(),e.TgZ(10,"div",10),e.ynx(11,11),e.YNc(12,M,4,5,"div",12),e.BQk(),e.qZA(),e.qZA(),e.TgZ(13,"div",13),e.TgZ(14,"div",14),e.tHW(15,15),e.YNc(16,T,2,1,"ng-container",16),e.N_p(),e.qZA(),e.TgZ(17,"div",17),e._UZ(18,"textarea",18),e.YNc(19,Z,2,1,"div",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",20),e.TgZ(21,"input",21),e.NdJ("click",function(){return e.CHM(E),e.oxw().hide()})("key.enter",function(){return e.CHM(E),e.oxw().hide()}),e.qZA(),e._UZ(22,"input",22),e.qZA(),e.qZA(),e.qZA()}if(2&v){const E=e.oxw();e.xp6(2),e.Oqu(E.modalTitle),e.xp6(3),e.Q6J("formGroup",E.form),e.xp6(7),e.Q6J("ngForOf",E.predefinedReasons),e.xp6(4),e.Q6J("ngIf",E.isRemote()),e.pQV(E.currentHost),e.QtT(15),e.xp6(2),e.Q6J("ngClass",e.VKq(8,N,E.formErrors.reason)),e.xp6(1),e.Q6J("ngIf",E.formErrors.reason),e.xp6(3),e.Q6J("disabled",!E.form.valid)}}let b=(()=>{class v extends f.OI{constructor(E,D,x,B){super(),this.formValidatorService=E,this.modalService=D,this.abuseService=x,this.notifier=B,this.comment=null,this.error=null,this.predefinedReasons=[]}get currentHost(){return window.location.host}get originHost(){return this.isRemote()?this.comment.account.host:""}ngOnInit(){this.modalTitle="Informar comentario",this.buildForm({reason:g.Co,predefinedReasons:(0,t.Z)(S.q,E=>null)}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("comment")}show(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}hide(){this.openedModal.close(),this.openedModal=null}report(){const E=this.form.get("reason").value,D=Object.keys((0,c.Z)(this.form.get("predefinedReasons").value));this.abuseService.reportVideo({reason:E,predefinedReasons:D,comment:{id:this.comment.id}}).subscribe({next:()=>{this.notifier.success("Comentario informado."),this.hide()},error:x=>this.notifier.error(x.message)})}isRemote(){return!this.comment.isLocal}}return v.\u0275fac=function(E){return new(E||v)(e.Y36(f.Q4),e.Y36(O.FF),e.Y36(o.j),e.Y36(A.d4))},v.\u0275cmp=e.Xpm({type:v,selectors:[["my-comment-report"]],viewQuery:function(E,D){if(1&E&&e.Gf(a,7),2&E){let x;e.iGM(x=e.CRH())&&(D.modal=x.first)}},inputs:{comment:"comment"},features:[e.qOj],decls:2,vars:0,consts:function(){let I,E,D,x,B;return I="\xBFCu\xE1l es el problema?",E="Por favor, describa el problema ...",D="cancelar",x="Enviar",B="Su informe se enviar\xE1 a los moderadores de " + "\ufffd0\ufffd" + "" + "\ufffd*16:1\ufffd\ufffd#1:1\ufffd" + "y ser\xE1 reenviado tambi\xE9n al origen del comentario( " + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*16:1\ufffd" + ". ",[["modal",""],[1,"modal-header"],[1,"modal-title"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],I,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"information"],B,[4,"ngIf"],[1,"form-group"],["placeholder",E,"formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",D,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",x,1,"peertube-button","orange-button",3,"disabled"],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],[3,"innerHTML"],["ngProjectAs","description",5,["description"]],[1,"form-error"]]},template:function(E,D){1&E&&e.YNc(0,H,23,10,"ng-template",null,0,e.W1O)},directives:[C.$,l._Y,l.JL,l.sg,l.x0,m.sg,m.O5,l.Fj,l.JJ,l.u,m.mk,r.P,u.Y],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}@supports (margin-inline-start: 10px){.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56.25%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]     iframe{position:absolute;width:100%;height:100%;top:0;left:0}"]}),v})()},69886:(V,h,n)=>{n.d(h,{r:()=>x});var t=n(97600),c=n(28882),g=n(3782),f=n(18747),S=n(84167),e=n(54175),O=n(43900),o=n(42741),A=n(76476),C=n(16564),l=n(54755),m=n(93220),r=n(19895),u=n(93324),a=n(16274),_=n(24333),s=n(45175),i=n(73797);const M=["modal"];function T(B,K){if(1&B&&o._UZ(0,"div",18),2&B){const L=o.oxw(2).$implicit;o.Q6J("innerHTML",L.help,o.oJD)}}function Z(B,K){1&B&&o.YNc(0,T,1,1,"ng-template",34)}function N(B,K){if(1&B&&(o.ynx(0,35),o._UZ(1,"div",18),o.BQk()),2&B){const L=o.oxw().$implicit;o.xp6(1),o.Q6J("innerHTML",L.description,o.oJD)}}function H(B,K){if(1&B&&(o.TgZ(0,"div",26),o.TgZ(1,"my-peertube-checkbox",32),o.YNc(2,Z,1,0,void 0,25),o.YNc(3,N,2,1,"ng-container",33),o.qZA(),o.qZA()),2&B){const L=K.$implicit;o.xp6(1),o.Q6J("inputName",L.id)("formControlName",L.id)("labelText",L.label),o.xp6(1),o.Q6J("ngIf",L.help),o.xp6(1),o.Q6J("ngIf",L.description)}}function b(B,K){if(1&B&&(o.TgZ(0,"div",36),o._UZ(1,"my-peertube-checkbox",37),o._UZ(2,"my-timestamp-input",38),o.qZA()),2&B){const L=o.oxw(2);o.xp6(2),o.Q6J("timestamp",L.timestamp.endAt)("maxTimestamp",L.video.duration)}}function v(B,K){if(1&B&&(o.tHW(0,24,1),o.GkF(1),o.N_p()),2&B){const L=o.oxw(2);o.xp6(1),o.pQV(L.originHost),o.QtT(0)}}function I(B,K){if(1&B&&(o.TgZ(0,"div",39),o._uU(1),o.qZA()),2&B){const L=o.oxw(2);o.xp6(1),o.hij(" ",L.formErrors.reason," ")}}const E=function(B){return{"input-error":B}};function D(B,K){if(1&B){const L=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"h4",2),o.SDv(2,3),o.qZA(),o.TgZ(3,"my-global-icon",4),o.NdJ("click",function(){return o.CHM(L),o.oxw().hide()}),o.qZA(),o.qZA(),o.TgZ(4,"div",5),o.TgZ(5,"form",6),o.NdJ("ngSubmit",function(){return o.CHM(L),o.oxw().report()}),o.TgZ(6,"div",7),o.TgZ(7,"div",8),o.TgZ(8,"label",9),o.SDv(9,10),o.qZA(),o.TgZ(10,"div",11),o.ynx(11,12),o.YNc(12,H,4,5,"div",13),o.BQk(),o.qZA(),o.qZA(),o.TgZ(13,"div",14),o.TgZ(14,"div",15),o.TgZ(15,"div",16),o.TgZ(16,"div",17),o._UZ(17,"div",18),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"div",19),o._UZ(19,"my-peertube-checkbox",20),o._UZ(20,"my-timestamp-input",21),o.qZA(),o.YNc(21,b,3,2,"div",22),o.TgZ(22,"div",23),o.tHW(23,24),o.YNc(24,v,2,1,"ng-container",25),o.N_p(),o.qZA(),o.TgZ(25,"div",26),o._UZ(26,"textarea",27),o.YNc(27,I,2,1,"div",28),o.qZA(),o.qZA(),o.qZA(),o.TgZ(28,"div",29),o.TgZ(29,"input",30),o.NdJ("click",function(){return o.CHM(L),o.oxw().hide()})("key.enter",function(){return o.CHM(L),o.oxw().hide()}),o.qZA(),o._UZ(30,"input",31),o.qZA(),o.qZA(),o.qZA()}if(2&B){const L=o.oxw();o.xp6(2),o.pQV(L.video.name),o.QtT(2),o.xp6(3),o.Q6J("formGroup",L.form),o.xp6(7),o.Q6J("ngForOf",L.predefinedReasons),o.xp6(5),o.Q6J("innerHTML",L.embedHtml,o.oJD),o.xp6(3),o.Q6J("timestamp",L.timestamp.startAt)("maxTimestamp",L.video.duration),o.xp6(1),o.Q6J("ngIf",L.timestamp.hasStart),o.xp6(3),o.Q6J("ngIf",L.isRemote()),o.pQV(L.currentHost),o.QtT(23),o.xp6(2),o.Q6J("ngClass",o.VKq(12,E,L.formErrors.reason)),o.xp6(1),o.Q6J("ngIf",L.formErrors.reason),o.xp6(3),o.Q6J("disabled",!L.form.valid)}}let x=(()=>{class B extends S.OI{constructor(L,z,X,re,oe){super(),this.formValidatorService=L,this.modalService=z,this.abuseService=X,this.notifier=re,this.sanitizer=oe,this.video=null,this.error=null,this.predefinedReasons=[]}get currentHost(){return window.location.host}get originHost(){return this.isRemote()?this.video.account.host:""}get timestamp(){return this.form.get("timestamp").value}getVideoEmbed(){return this.sanitizer.bypassSecurityTrustHtml((0,g.t3)((0,e.fj)({url:this.video.embedUrl,title:!1,warningTitle:!1}),this.video.name))}ngOnInit(){this.buildForm({reason:f.Co,predefinedReasons:(0,t.Z)(O.q,L=>null),timestamp:{hasStart:null,startAt:null,hasEnd:null,endAt:null}}),this.predefinedReasons=this.abuseService.getPrefefinedReasons("video"),this.embedHtml=this.getVideoEmbed()}show(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1,size:"lg"})}hide(){this.openedModal.close(),this.openedModal=null}report(){const L=this.form.get("reason").value,z=Object.keys((0,c.Z)(this.form.get("predefinedReasons").value)),{hasStart:X,startAt:re,hasEnd:oe,endAt:de}=this.form.get("timestamp").value;this.abuseService.reportVideo({reason:L,predefinedReasons:z,video:{id:this.video.id,startAt:X&&re?re:void 0,endAt:oe&&de?de:void 0}}).subscribe({next:()=>{this.notifier.success("V\xEDdeo reportado."),this.hide()},error:ue=>this.notifier.error(ue.message)})}isRemote(){return!this.video.isLocal}}return B.\u0275fac=function(L){return new(L||B)(o.Y36(S.Q4),o.Y36(A.FF),o.Y36(C.j),o.Y36(l.d4),o.Y36(m.H7))},B.\u0275cmp=o.Xpm({type:B,selectors:[["my-video-report"]],viewQuery:function(L,z){if(1&L&&o.Gf(M,7),2&L){let X;o.iGM(X=o.CRH())&&(z.modal=X.first)}},inputs:{video:"video"},features:[o.qOj],decls:2,vars:0,consts:function(){let K,L,z,X,re,oe,de,ue;return K="Informar del video \"" + "\ufffd0\ufffd" + "\"",L="\xBFCu\xE1l es el problema?",z="Empezar en",X="Por favor, describa el problema ...",re="cancelar",oe="Enviar",de="Detener en",ue="Su informe se enviar\xE1 a los moderadores de " + "\ufffd0\ufffd" + "" + "\ufffd*24:1\ufffd\ufffd#1:1\ufffd" + " y se reenviar\xE1 tambien al origen del video (" + "\ufffd0:1\ufffd" + ")" + "\ufffd/#1:1\ufffd\ufffd/*24:1\ufffd" + ". ",[["modal",""],[1,"modal-header"],[1,"modal-title"],K,["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5","form-group"],["for","reportPredefinedReasons"],L,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","predefinedReasons"],["class","form-group",4,"ngFor","ngForOf"],[1,"col-7"],[1,"row","justify-content-center"],[1,"col-12","col-lg-9","mb-2"],[1,"screenratio"],[3,"innerHTML"],["formGroupName","timestamp",1,"mb-1","start-at"],["formControlName","hasStart","labelText",z],["formControlName","startAt","inputName","startAt",3,"timestamp","maxTimestamp"],["class","mb-3 stop-at","formGroupName","timestamp",4,"ngIf"],[1,"information"],ue,[4,"ngIf"],[1,"form-group"],["placeholder",X,"formControlName","reason","ngbAutofocus","",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",re,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",oe,1,"peertube-button","orange-button",3,"disabled"],[3,"inputName","formControlName","labelText"],["ngProjectAs","description",5,["description"],4,"ngIf"],["ptTemplate","help"],["ngProjectAs","description",5,["description"]],["formGroupName","timestamp",1,"mb-3","stop-at"],["formControlName","hasEnd","labelText",de],["formControlName","endAt","inputName","endAt",3,"timestamp","maxTimestamp"],[1,"form-error"]]},template:function(L,z){1&L&&o.YNc(0,D,31,14,"ng-template",null,0,o.W1O)},directives:[r.$,u._Y,u.JL,u.sg,u.x0,a.sg,_.P,u.JJ,u.u,s.A,a.O5,u.Fj,a.mk,i.Y],styles:[".information[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.start-at[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}@supports (margin-inline-start: 10px){.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-left:10px}}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56.25%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]     iframe{position:absolute;width:100%;height:100%;top:0;left:0}"]}),B})()},23585:(V,h,n)=>{n.d(h,{L:()=>r});var t=n(42741),c=n(84167),g=n(44560),f=n(76476),S=n(54755),e=n(19895),O=n(93324),o=n(16274);const A=["modal"];function C(u,a){if(1&u&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&u){const _=t.oxw(2);t.xp6(1),t.hij(" ",_.formErrors.reason," ")}}const l=function(u){return{"input-error":u}};function m(u,a){if(1&u){const _=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"h4",2),t.SDv(2,3),t.qZA(),t.TgZ(3,"my-global-icon",4),t.NdJ("click",function(){return t.CHM(_),t.oxw().hide()}),t.qZA(),t.qZA(),t.TgZ(4,"div",5),t.TgZ(5,"form",6),t.NdJ("ngSubmit",function(){return t.CHM(_),t.oxw().banUser()}),t.TgZ(6,"div",7),t._UZ(7,"textarea",8),t.YNc(8,C,2,1,"div",9),t.qZA(),t.TgZ(9,"div"),t.SDv(10,10),t.qZA(),t.TgZ(11,"div",11),t.TgZ(12,"input",12),t.NdJ("click",function(){return t.CHM(_),t.oxw().hide()})("key.enter",function(){return t.CHM(_),t.oxw().hide()}),t.qZA(),t._UZ(13,"input",13),t.qZA(),t.qZA(),t.qZA()}if(2&u){const _=t.oxw();t.xp6(5),t.Q6J("formGroup",_.form),t.xp6(2),t.Q6J("ngClass",t.VKq(4,l,_.formErrors.reason)),t.xp6(1),t.Q6J("ngIf",_.formErrors.reason),t.xp6(5),t.Q6J("disabled",!_.form.valid)}}let r=(()=>{class u extends c.OI{constructor(_,s,i,M){super(),this.formValidatorService=_,this.modalService=s,this.notifier=i,this.userService=M,this.userBanned=new t.vpe}ngOnInit(){this.buildForm({reason:g.Yh})}openModal(_){this.usersToBan=_,this.openedModal=this.modalService.open(this.modal,{centered:!0})}hide(){this.usersToBan=void 0,this.openedModal.close()}banUser(){this.userService.banUsers(this.usersToBan,this.form.value.reason||void 0).subscribe({next:()=>{const s=Array.isArray(this.usersToBan)?"\n          " + this.usersToBan.length + " usuarios bloqueados.\n        ":"Usuario " + this.usersToBan.username + " bloqueado.";this.notifier.success(s),this.userBanned.emit(this.usersToBan),this.hide()},error:s=>this.notifier.error(s.message)})}}return u.\u0275fac=function(_){return new(_||u)(t.Y36(c.Q4),t.Y36(f.FF),t.Y36(S.d4),t.Y36(S.KD))},u.\u0275cmp=t.Xpm({type:u,selectors:[["my-user-ban-modal"]],viewQuery:function(_,s){if(1&_&&t.Gf(A,7),2&_){let i;t.iGM(i=t.CRH())&&(s.modal=i.first)}},outputs:{userBanned:"userBanned"},features:[t.qOj],decls:2,vars:0,consts:function(){let a,_,s,i,M;return a="Expulsar",_="Motivo...",s="\n        Un usuario expulsado ya no podr\xE1 conectarse.\n      ",i="cancelar",M="Expulsar este usuario",[["modal",""],[1,"modal-header"],[1,"modal-title"],a,["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder",_,"formControlName","reason",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],s,[1,"form-group","inputs"],["type","button","role","button","value",i,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",M,1,"peertube-button","orange-button",3,"disabled"],[1,"form-error"]]},template:function(_,s){1&_&&t.YNc(0,m,14,6,"ng-template",null,0,t.W1O)},directives:[e.$,O._Y,O.JL,O.sg,O.Fj,O.JJ,O.u,o.mk,o.O5],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:60px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}"]}),u})()},59930:(V,h,n)=>{n.d(h,{a:()=>r});var t=n(61855),c=n(42741),f=(n(359),n(54755)),S=n(7122),e=n(65530),O=n(16274),o=n(23585),A=n(66865);const C=["userBanModal"],l=function(u,a){return{user:u,account:a}};function m(u,a){if(1&u){const _=c.EpF();c.ynx(0),c.TgZ(1,"my-user-ban-modal",1,2),c.NdJ("userBanned",function(){return c.CHM(_),c.oxw().onUserBanned()}),c.qZA(),c._UZ(3,"my-action-dropdown",3),c.BQk()}if(2&u){const _=c.oxw();c.xp6(3),c.Q6J("actions",_.userActions)("entry",c.WLB(7,l,_.user,_.account))("buttonSize",_.buttonSize)("placement",_.placement)("label",_.label)("container",_.container)("buttonStyled",_.buttonStyled)}}let r=(()=>{class u{constructor(_,s,i,M,T,Z,N){this.authService=_,this.notifier=s,this.confirmService=i,this.serverService=M,this.userService=T,this.blocklistService=Z,this.bulkService=N,this.buttonSize="normal",this.buttonStyled=!0,this.placement="right-top right-bottom auto",this.container=void 0,this.userChanged=new c.vpe,this.userDeleted=new c.vpe,this.userActions=[],this.requiresEmailVerification=!1}ngOnInit(){this.serverService.getConfig().subscribe(_=>this.requiresEmailVerification=_.signup.requiresEmailVerification)}ngOnChanges(){this.buildActions()}openBanUserModal(_){"root"!==_.username?this.userBanModal.openModal(_):this.notifier.error("No puede expulsar al root.")}onUserBanned(){this.userChanged.emit()}unbanUser(_){return(0,t.mG)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirm("\xBFConfirma el desbloqueo de " + _.username + "?","Dejar sin efecto la expulsi\xF3n"))&&this.userService.unbanUsers(_).subscribe({next:()=>{this.notifier.success("El usuario " + _.username + " ha sido desbloqueado."),this.userChanged.emit()},error:i=>this.notifier.error(i.message)})})}removeUser(_){return(0,t.mG)(this,void 0,void 0,function*(){if("root"===_.username)return void this.notifier.error("No puedes eliminar al root.");const s="\xA1Si elimina este usuario, no podr\xE1 crear otro con el mismo nombre de usuario!";!1!==(yield this.confirmService.confirm(s,"Eliminar"))&&this.userService.removeUser(_).subscribe({next:()=>{this.notifier.success("Usuario " + _.username + " eliminado."),this.userDeleted.emit()},error:M=>this.notifier.error(M.message)})})}setEmailAsVerified(_){this.userService.updateUser(_.id,{emailVerified:!0}).subscribe({next:()=>{this.notifier.success("El correo electr\xF3nico del usuario " + _.username + " establecido como verificado"),this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}blockAccountByUser(_){this.blocklistService.blockAccountByUser(_).subscribe({next:()=>{this.notifier.success("Cuenta " + _.nameWithHost + " silenciada."),this.account.mutedByUser=!0,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}unblockAccountByUser(_){this.blocklistService.unblockAccountByUser(_).subscribe({next:()=>{this.notifier.success("La cuenta " + _.nameWithHost + " ya no est\xE1 silenciada."),this.account.mutedByUser=!1,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}blockServerByUser(_){this.blocklistService.blockServerByUser(_).subscribe({next:()=>{this.notifier.success("Instancia " + _ + " silenciada."),this.account.mutedServerByUser=!0,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}unblockServerByUser(_){this.blocklistService.unblockServerByUser(_).subscribe({next:()=>{this.notifier.success("La instancia " + _ + " ya no est\xE1 silenciada."),this.account.mutedServerByUser=!1,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}blockAccountByInstance(_){this.blocklistService.blockAccountByInstance(_).subscribe({next:()=>{this.notifier.success("Cuenta " + _.nameWithHost + " silenciada por la instancia."),this.account.mutedByInstance=!0,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}unblockAccountByInstance(_){this.blocklistService.unblockAccountByInstance(_).subscribe({next:()=>{this.notifier.success("Cuenta " + _.nameWithHost + " ya no silenciada por la instancia."),this.account.mutedByInstance=!1,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}blockServerByInstance(_){this.blocklistService.blockServerByInstance(_).subscribe({next:()=>{this.notifier.success("Instancia " + _ + " silenciada por la instancia."),this.account.mutedServerByInstance=!0,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}unblockServerByInstance(_){this.blocklistService.unblockServerByInstance(_).subscribe({next:()=>{this.notifier.success("La instancia " + _ + " ya no es silenciada por la instancia."),this.account.mutedServerByInstance=!1,this.userChanged.emit()},error:s=>this.notifier.error(s.message)})}bulkRemoveCommentsOf(_){return(0,t.mG)(this,void 0,void 0,function*(){const s="\xBFEst\xE1s seguro de que deseas eliminar todos los comentarios de esta cuenta?";!1!==(yield this.confirmService.confirm(s,"Eliminar comentarios de cuenta"))&&this.bulkService.removeCommentsOf(_).subscribe({next:()=>{this.notifier.success("Eliminar\xE1 los comentarios de esta cuenta (puede tardar varios minutos).")},error:M=>this.notifier.error(M.message)})})}getRouterUserEditLink(_){return["/admin","users","update",_.id]}buildActions(){if(this.userActions=[],this.prependActions&&(this.userActions=[this.prependActions]),this.authService.isLoggedIn()){const _=this.authService.getUser();if(this.user&&_.id===this.user.id)return;if(this.user&&_.hasRight(1)&&_.canManage(this.user)&&this.userActions.push([{label:"Editar usuario",description:"Cambiar cuota, rol y m\xE1s.",linkBuilder:({user:s})=>this.getRouterUserEditLink(s)},{label:"Borrar usuario",description:"Los videos ser\xE1n eliminados, los comentarios ser\xE1n destruidos.",handler:({user:s})=>this.removeUser(s)},{label:"Expulsar",description:"El usuario ya no podr\xE1 iniciar sesi\xF3n, pero los videos y comentarios se mantendr\xE1n tal cual.",handler:({user:s})=>this.openBanUserModal(s),isDisplayed:({user:s})=>!s.blocked},{label:"Usuario no anulado",description:"Permita que el usuario inicie sesi\xF3n y cree videos/comentarios nuevamente",handler:({user:s})=>this.unbanUser(s),isDisplayed:({user:s})=>s.blocked},{label:"Establecer la direcci\xF3n de correo electr\xF3nico como Verificada",handler:({user:s})=>this.setEmailAsVerified(s),isDisplayed:({user:s})=>this.requiresEmailVerification&&!s.blocked&&!1===s.emailVerified}]),this.account){this.userActions.push([{label:"Silenciar esta cuenta",description:"Oculte cualquier contenido de ese usuario.",isDisplayed:({account:i})=>!1===i.mutedByUser,handler:({account:i})=>this.blockAccountByUser(i)},{label:"Dejar de silenciar esta cuenta",description:"Muestra el contenido de ese usuario por ti.",isDisplayed:({account:i})=>!0===i.mutedByUser,handler:({account:i})=>this.unblockAccountByUser(i)},{label:"Silenciar esta instancia",description:"Oculta cualquier contenido de esa instancia para ti.",isDisplayed:({account:i})=>!i.userId&&!1===i.mutedServerByInstance,handler:({account:i})=>this.blockServerByUser(i.host)},{label:"Dejar de silenciar esta instancia",description:"Muestra el contenido de esa instancia por ti.",isDisplayed:({account:i})=>!i.userId&&!0===i.mutedServerByInstance,handler:({account:i})=>this.unblockServerByUser(i.host)},{label:"Eliminar comentarios de tus videos",description:"Elimina los comentarios realizados por esta cuenta en tus videos.",handler:({account:i})=>this.bulkRemoveCommentsOf({accountName:i.nameWithHost,scope:"my-videos"})}]);let s=[];_.hasRight(10)&&(s=s.concat([{label:"Silenciar esta cuenta por su instancia",description:"Oculte cualquier contenido de ese usuario de usted, su instancia y sus usuarios.",isDisplayed:({account:i})=>!1===i.mutedByInstance,handler:({account:i})=>this.blockAccountByInstance(i)},{label:"Dejar de silenciar esta cuenta por su instancia",description:"Oculte cualquier contenido de ese usuario de usted, su instancia y sus usuarios.",isDisplayed:({account:i})=>!0===i.mutedByInstance,handler:({account:i})=>this.unblockAccountByInstance(i)}])),_.hasRight(11)&&(s=s.concat([{label:"Silenciar esta instancia por su instancia",description:"Oculte cualquier contenido de ese usuario de usted, su instancia y sus usuarios.",isDisplayed:({account:i})=>!i.userId&&!1===i.mutedServerByInstance,handler:({account:i})=>this.blockServerByInstance(i.host)},{label:"Dejar de silenciar esta instancia por su instancia",description:"Muestra el contenido de esa instancia para ti, tu instancia y sus usuarios.",isDisplayed:({account:i})=>!i.userId&&!0===i.mutedServerByInstance,handler:({account:i})=>this.unblockServerByInstance(i.host)}])),_.hasRight(16)&&(s=s.concat([{label:"Eliminar comentarios de tu instancia",description:"Elimine los comentarios hechos por esta cuenta de su instancia.",handler:({account:i})=>this.bulkRemoveCommentsOf({accountName:i.nameWithHost,scope:"instance"})}])),0!==s.length&&this.userActions.push(s)}}}}return u.\u0275fac=function(_){return new(_||u)(c.Y36(f.e8),c.Y36(f.d4),c.Y36(f.zM),c.Y36(f.NG),c.Y36(f.KD),c.Y36(S.I),c.Y36(e._))},u.\u0275cmp=c.Xpm({type:u,selectors:[["my-user-moderation-dropdown"]],viewQuery:function(_,s){if(1&_&&c.Gf(C,5),2&_){let i;c.iGM(i=c.CRH())&&(s.userBanModal=i.first)}},inputs:{user:"user",account:"account",prependActions:"prependActions",buttonSize:"buttonSize",buttonStyled:"buttonStyled",placement:"placement",label:"label",container:"container"},outputs:{userChanged:"userChanged",userDeleted:"userDeleted"},features:[c.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"userBanned"],["userBanModal",""],[3,"actions","entry","buttonSize","placement","label","container","buttonStyled"]],template:function(_,s){1&_&&c.YNc(0,m,4,10,"ng-container",0),2&_&&c.Q6J("ngIf",0!==s.userActions.length)},directives:[O.O5,o.L,A.h],encapsulation:2}),u})()},90884:(V,h,n)=>{n.d(h,{J:()=>M});var t=n(42741),c=n(84167),g=n(93324);const f={VALIDATORS:[g.kI.minLength(2),g.kI.maxLength(300)],MESSAGES:{minlength:"El motivo del bloque debe tener al menos 2 caracteres de longitud.",maxlength:"El motivo del bloqueo no puede tener m\xE1s de 300 caracteres."}};var S=n(76476),e=n(16443),O=n(54755),o=n(16274),A=n(19895),C=n(24333);const l=["modal"];function m(T,Z){if(1&T&&(t.TgZ(0,"h4",14),t.SDv(1,15),t.qZA()),2&T){const N=t.oxw(2);t.xp6(1),t.pQV(N.video.name),t.QtT(1)}}function r(T,Z){if(1&T&&(t.TgZ(0,"h4",14),t.SDv(1,16),t.qZA()),2&T){const N=t.oxw(2);t.xp6(1),t.pQV(N.video.name),t.QtT(1)}}function u(T,Z){if(1&T&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&T){const N=t.oxw(2);t.xp6(1),t.hij(" ",N.formErrors.reason," ")}}function a(T,Z){1&T&&(t.TgZ(0,"div",6),t.TgZ(1,"my-peertube-checkbox",18),t.ynx(2,19),t.TgZ(3,"span"),t.SDv(4,20),t.qZA(),t.BQk(),t.qZA(),t.qZA())}function _(T,Z){1&T&&(t.TgZ(0,"strong",21),t.SDv(1,22),t.qZA())}const s=function(T){return{"input-error":T}};function i(T,Z){if(1&T){const N=t.EpF();t.TgZ(0,"div",1),t.YNc(1,m,2,1,"h4",2),t.YNc(2,r,2,1,"h4",2),t.TgZ(3,"my-global-icon",3),t.NdJ("click",function(){return t.CHM(N),t.oxw().hide()}),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"form",5),t.NdJ("ngSubmit",function(){return t.CHM(N),t.oxw().block()}),t.TgZ(6,"div",6),t._UZ(7,"textarea",7),t.YNc(8,u,2,1,"div",8),t.qZA(),t.YNc(9,a,5,0,"div",9),t.YNc(10,_,2,0,"strong",10),t.TgZ(11,"div",11),t.TgZ(12,"input",12),t.NdJ("click",function(){return t.CHM(N),t.oxw().hide()})("key.enter",function(){return t.CHM(N),t.oxw().hide()}),t.qZA(),t._UZ(13,"input",13),t.qZA(),t.qZA(),t.qZA()}if(2&T){const N=t.oxw();t.xp6(1),t.Q6J("ngIf",!N.video.isLive),t.xp6(1),t.Q6J("ngIf",N.video.isLive),t.xp6(3),t.Q6J("formGroup",N.form),t.xp6(2),t.Q6J("ngClass",t.VKq(8,s,N.formErrors.reason)),t.xp6(1),t.Q6J("ngIf",N.formErrors.reason),t.xp6(1),t.Q6J("ngIf",N.video.isLocal),t.xp6(1),t.Q6J("ngIf",N.video.isLive),t.xp6(3),t.Q6J("disabled",!N.form.valid)}}let M=(()=>{class T extends c.OI{constructor(N,H,b,v){super(),this.formValidatorService=N,this.modalService=H,this.videoBlocklistService=b,this.notifier=v,this.video=null,this.videoBlocked=new t.vpe,this.error=null}ngOnInit(){this.buildForm({reason:f,unfederate:null},{unfederate:"true"})}show(){this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1})}hide(){this.openedModal.close(),this.openedModal=null}block(){const N=this.form.value.reason||void 0;this.videoBlocklistService.blockVideo(this.video.id,N,this.video.isLocal?this.form.value.unfederate:void 0).subscribe({next:()=>{this.notifier.success("Video bloqueado."),this.hide(),this.video.blacklisted=!0,this.video.blockedReason=N,this.videoBlocked.emit()},error:b=>this.notifier.error(b.message)})}}return T.\u0275fac=function(N){return new(N||T)(t.Y36(c.Q4),t.Y36(S.FF),t.Y36(e.h),t.Y36(O.d4))},T.\u0275cmp=t.Xpm({type:T,selectors:[["my-video-block"]],viewQuery:function(N,H){if(1&N&&t.Gf(l,7),2&N){let b;t.iGM(b=t.CRH())&&(H.modal=b.first)}},inputs:{video:"video"},outputs:{videoBlocked:"videoBlocked"},features:[t.qOj],decls:2,vars:0,consts:function(){let Z,N,H,b,v,I,E,D;return Z="Por favor, escribe la raz\xF3n...",N="cancelar",H="Enviar",b="Bloquear v\xEDdeo \"" + "\ufffd0\ufffd" + "\"",v="Bloquear en vivo\"" + "\ufffd0\ufffd" + "\"",I="Desfederar el video",E="Esto pedir\xE1 a la instancias remotas eliminarlo",D="Bloquear esta transmisi\xF3n en vivo terminar\xE1 autom\xE1ticamente la transmisi\xF3n en vivo.",[["modal",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["placeholder",Z,"formControlName","reason",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["class","form-group",4,"ngIf"],["class","live-info",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",N,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",H,1,"peertube-button","orange-button",3,"disabled"],[1,"modal-title"],b,v,[1,"form-error"],["inputName","unfederate","formControlName","unfederate","labelText",I],["ngProjectAs","description",5,["description"]],E,[1,"live-info"],D]},template:function(N,H){1&N&&t.YNc(0,i,14,10,"ng-template",null,0,t.W1O)},directives:[o.O5,A.$,g._Y,g.JL,g.sg,g.Fj,g.JJ,g.u,o.mk,C.P],styles:["textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:100px;padding:5px 15px;font-size:15px}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.live-info[_ngcontent-%COMP%]{font-size:15px;margin:40px 0 20px}"]}),T})()},16443:(V,h,n)=>{n.d(h,{h:()=>l});var t=n(70612),c=n(29230),g=n(97142),f=n(68499),S=n(88919),e=n(31887),o=(n(359),n(24766)),A=n(42741),C=n(54755);class l{constructor(r,u,a){this.authHttp=r,this.restService=u,this.restExtractor=a}listBlocks(r){const{pagination:u,sort:a,search:_,type:s}=r;let i=new e.LE;if(i=this.restService.addRestGetParams(i,u,a),_){const M=this.restService.parseQueryStringFilter(_,{type:{prefix:"type:",handler:T=>"manual"===T?1:"auto"===T?2:void 0}});i=this.restService.addObjectParams(i,M)}return s&&(i=i.append("type",s.toString())),this.authHttp.get(l.BASE_VIDEOS_URL+"blacklist",{params:i}).pipe((0,c.U)(M=>this.restExtractor.convertResultListDateToHuman(M)),(0,g.K)(M=>this.restExtractor.handleError(M)))}unblockVideo(r){const u=Array.isArray(r)?r:[r];return(0,t.Dp)(u).pipe((0,f.b)(a=>this.authHttp.delete(l.BASE_VIDEOS_URL+a+"/blacklist")),(0,S.q)(),(0,g.K)(a=>this.restExtractor.handleError(a)))}blockVideo(r,u,a){return this.authHttp.post(l.BASE_VIDEOS_URL+r+"/blacklist",{unfederate:a,reason:u}).pipe((0,c.U)(this.restExtractor.extractDataBool),(0,g.K)(s=>this.restExtractor.handleError(s)))}}l.BASE_VIDEOS_URL=o.N.apiUrl+"/api/v1/videos/",l.\u0275fac=function(r){return new(r||l)(A.LFG(e.eN),A.LFG(C.vg),A.LFG(C.DI))},l.\u0275prov=A.Yz7({token:l,factory:l.\u0275fac})},91061:(V,h,n)=>{n.d(h,{Ht:()=>S,ly:()=>c.l,e4:()=>c.e,L5:()=>t.L});var t=n(34180),c=n(32787),g=n(13010),f=n(42741);let S=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({providers:[t.L],imports:[[g.n]]}),e})()},32787:(V,h,n)=>{n.d(h,{l:()=>g,e:()=>f});var t=n(86804),c=n(62026);class g{constructor(e){if(this.id=e.id,this.url=e.url,this.text=e.text,this.threadId=e.threadId,this.inReplyToCommentId=e.inReplyToCommentId,this.videoId=e.videoId,this.createdAt=new Date(e.createdAt.toString()),this.updatedAt=new Date(e.updatedAt.toString()),this.deletedAt=e.deletedAt?new Date(e.deletedAt.toString()):null,this.isDeleted=e.isDeleted,this.account=e.account,this.totalRepliesFromVideoAuthor=e.totalRepliesFromVideoAuthor,this.totalReplies=e.totalReplies,this.account){this.by=c.vt.CREATE_BY_STRING(this.account.name,this.account.host);const O=(0,t.Ir)(),o=new URL(O).host;this.isLocal=this.account.host.trim()===o}}}class f{constructor(e,O){this.id=e.id,this.url=e.url,this.text=e.text,this.textHtml=O,this.threadId=e.threadId,this.inReplyToCommentId=e.inReplyToCommentId,this.createdAt=new Date(e.createdAt.toString()),this.updatedAt=new Date(e.updatedAt.toString()),this.video={id:e.video.id,uuid:e.video.uuid,name:e.video.name,localUrl:c.nk.buildWatchUrl(e.video)},this.localUrl=this.video.localUrl+";threadId="+this.threadId,this.account=e.account,this.account&&(this.by=c.vt.CREATE_BY_STRING(this.account.name,this.account.host),this.account.localUrl="/a/"+this.by)}}},34180:(V,h,n)=>{n.d(h,{L:()=>r});var t=n(70612),c=n(29230),g=n(97142),f=n(68499),S=n(88919),e=n(31887),O=n(86804),A=(n(359),n(24766)),C=n(32787),l=n(42741),m=n(54755);class r{constructor(a,_,s){this.authHttp=a,this.restExtractor=_,this.restService=s}addCommentThread(a,_){const s=r.BASE_VIDEO_URL+a+"/comment-threads",i=(0,O.kr)(_,"text");return this.authHttp.post(s,i).pipe((0,c.U)(M=>this.extractVideoComment(M.comment)),(0,g.K)(M=>this.restExtractor.handleError(M)))}addCommentReply(a,_,s){const i=r.BASE_VIDEO_URL+a+"/comments/"+_,M=(0,O.kr)(s,"text");return this.authHttp.post(i,M).pipe((0,c.U)(T=>this.extractVideoComment(T.comment)),(0,g.K)(T=>this.restExtractor.handleError(T)))}getAdminVideoComments(a){const{pagination:_,sort:s,search:i}=a,M=r.BASE_VIDEO_URL+"comments";let T=new e.LE;return T=this.restService.addRestGetParams(T,_,s),i&&(T=this.buildParamsFromSearch(i,T)),this.authHttp.get(M,{params:T}).pipe((0,g.K)(Z=>this.restExtractor.handleError(Z)))}getVideoCommentThreads(a){const{videoId:_,componentPagination:s,sort:i}=a,M=this.restService.componentPaginationToRestPagination(s);let T=new e.LE;return T=this.restService.addRestGetParams(T,M,i),this.authHttp.get(r.BASE_VIDEO_URL+_+"/comment-threads",{params:T}).pipe((0,c.U)(N=>this.extractVideoComments(N)),(0,g.K)(N=>this.restExtractor.handleError(N)))}getVideoThreadComments(a){const{videoId:_,threadId:s}=a;return this.authHttp.get(`${r.BASE_VIDEO_URL+_}/comment-threads/${s}`).pipe((0,c.U)(M=>this.extractVideoCommentTree(M)),(0,g.K)(M=>this.restExtractor.handleError(M)))}deleteVideoComment(a,_){return this.authHttp.delete(`${r.BASE_VIDEO_URL+a}/comments/${_}`).pipe((0,c.U)(this.restExtractor.extractDataBool),(0,g.K)(i=>this.restExtractor.handleError(i)))}deleteVideoComments(a){return(0,t.Dp)(a).pipe((0,f.b)(_=>this.deleteVideoComment(_.videoId,_.commentId)),(0,S.q)())}getVideoCommentsFeeds(a){const _=[{format:"xml",label:"rss 2.0",url:r.BASE_FEEDS_URL+"xml".toLowerCase()},{format:"atom",label:"atom 1.0",url:r.BASE_FEEDS_URL+"atom".toLowerCase()},{format:"json",label:"json 1.0",url:r.BASE_FEEDS_URL+"json".toLowerCase()}];if(void 0!==a)for(const s of _)s.url+="?videoId="+a.uuid;return _}extractVideoComment(a){return new C.l(a)}extractVideoComments(a){const _=a.data,s=a.total,i=[];for(const M of _)i.push(new C.l(M));return{data:i,total:s,totalNotDeletedComments:a.totalNotDeletedComments}}extractVideoCommentTree(a){if(!a)return null;const _={comment:new C.l(a.comment),children:a.children.map(i=>this.extractVideoCommentTree(i))},s=0===_.children.length?!_.comment.isDeleted:_.children.some(i=>i.hasDisplayedChildren);return Object.assign(_,{hasDisplayedChildren:s})}buildParamsFromSearch(a,_){const s=this.restService.parseQueryStringFilter(a,{isLocal:{prefix:"local:",isBoolean:!0},searchAccount:{prefix:"account:"},searchVideo:{prefix:"video:"}});return this.restService.addObjectParams(_,s)}}r.BASE_FEEDS_URL=A.N.apiUrl+"/feeds/video-comments.",r.BASE_VIDEO_URL=A.N.apiUrl+"/api/v1/videos/",r.\u0275fac=function(a){return new(a||r)(l.LFG(e.eN),l.LFG(m.DI),l.LFG(m.vg))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac})},3782:(V,h,n)=>{n.d(h,{gI:()=>m,LF:()=>c,_G:()=>g,t3:()=>A,qx:()=>C,FE:()=>l,tq:()=>o,aI:()=>O,gn:()=>f,G6:()=>S});var t=n(89909);function c(r){return r.charAt(0).toUpperCase()+r.slice(1)}function g(){return!(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)}function f(){return!!/iPad|iPhone|iPod/.test(navigator.platform)||!!(navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&navigator.platform.includes("MacIntel"))}function S(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const e=[{max:1024,type:"B"},{max:1048576,type:"KB"},{max:1073741824,type:"MB"},{max:10995116e5,type:"GB"}];function O(r){const u=e.find(_=>r<_.max)||e[e.length-1];return[Math.floor(r/(u.max/1024)).toString(),u.type]}function o(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function A(r,u){return'<iframe width="560" height="315" sandbox="allow-same-origin allow-scripts allow-popups" title="'+(0,t.r)(u)+'" src="'+r+'" frameborder="0" allowfullscreen></iframe>'}function C(r){let u=r[0];for(let a=1;a<r.length;a++){const _=r[a];u.resolution.id<_.resolution.id&&(u=_)}return u}function l(r){let u=r[0];for(let a=1;a<r.length;a++){const _=r[a];u.resolution.id>_.resolution.id&&(u=_)}return u}function m(){return{iceServers:[{urls:"stun:stun.stunprotocol.org"},{urls:"stun:stun.framasoft.org"}]}}},73832:(V,h,n)=>{n.d(h,{Z:()=>_});var t=n(1865);var C=n(22422),l=n(79741);function a(s){var i=this.__data__=new t.Z(s);this.size=i.size}a.prototype.clear=function(){this.__data__=new t.Z,this.size=0},a.prototype.delete=function(s){var i=this.__data__,M=i.delete(s);return this.size=i.size,M},a.prototype.get=function(s){return this.__data__.get(s)},a.prototype.has=function(s){return this.__data__.has(s)},a.prototype.set=function(s,i){var M=this.__data__;if(M instanceof t.Z){var T=M.__data__;if(!C.Z||T.length<199)return T.push([s,i]),this.size=++M.size,this;M=this.__data__=new l.Z(T)}return M.set(s,i),this.size=M.size,this};const _=a},16111:(V,h,n)=>{n.d(h,{Z:()=>g});const g=n(28475).Z.Uint8Array},24657:(V,h,n)=>{n.d(h,{Z:()=>l});var g=n(72709),f=n(86534),S=n(88992),e=n(79856),O=n(71439),A=Object.prototype.hasOwnProperty;const l=function(m,r){var u=(0,f.Z)(m),a=!u&&(0,g.Z)(m),_=!u&&!a&&(0,S.Z)(m),s=!u&&!a&&!_&&(0,O.Z)(m),i=u||a||_||s,M=i?function(m,r){for(var u=-1,a=Array(m);++u<m;)a[u]=r(u);return a}(m.length,String):[],T=M.length;for(var Z in m)(r||A.call(m,Z))&&(!i||!("length"==Z||_&&("offset"==Z||"parent"==Z)||s&&("buffer"==Z||"byteLength"==Z||"byteOffset"==Z)||(0,e.Z)(Z,T)))&&M.push(Z);return M}},94284:(V,h,n)=>{n.d(h,{Z:()=>f});var t=n(16586),c=n(86534);const f=function(S,e,O){var o=e(S);return(0,c.Z)(S)?o:(0,t.Z)(o,O(S))}},70488:(V,h,n)=>{n.d(h,{Z:()=>pt});var t=n(73832),c=n(47316);const f=function(p,R){for(var U=-1,F=null==p?0:p.length;++U<F;)if(R(p[U],U,p))return!0;return!1};var S=n(9477);const A=function(p,R,U,F,G,$){var w=1&U,Y=p.length,Q=R.length;if(Y!=Q&&!(w&&Q>Y))return!1;var k=$.get(p),ee=$.get(R);if(k&&ee)return k==R&&ee==p;var q=-1,j=!0,ae=2&U?new c.Z:void 0;for($.set(p,R),$.set(R,p);++q<Y;){var _e=p[q],se=R[q];if(F)var le=w?F(se,_e,q,R,p,$):F(_e,se,q,p,R,$);if(void 0!==le){if(le)continue;j=!1;break}if(ae){if(!f(R,function(Ee,me){if(!(0,S.Z)(ae,me)&&(_e===Ee||G(_e,Ee,U,F,$)))return ae.push(me)})){j=!1;break}}else if(_e!==se&&!G(_e,se,U,F,$)){j=!1;break}}return $.delete(p),$.delete(R),j};var C=n(60063),l=n(16111),m=n(32051);const u=function(p){var R=-1,U=Array(p.size);return p.forEach(function(F,G){U[++R]=[G,F]}),U};var a=n(42402),x=C.Z?C.Z.prototype:void 0,B=x?x.valueOf:void 0;var z=n(72330),oe=Object.prototype.hasOwnProperty;var ie=n(21014),fe=n(86534),Me=n(88992),Ge=n(71439),ve="[object Arguments]",Pe="[object Array]",Oe="[object Object]",De=Object.prototype.hasOwnProperty;const ze=function(p,R,U,F,G,$){var w=(0,fe.Z)(p),Y=(0,fe.Z)(R),Q=w?Pe:(0,ie.Z)(p),k=Y?Pe:(0,ie.Z)(R),ee=(Q=Q==ve?Oe:Q)==Oe,q=(k=k==ve?Oe:k)==Oe,j=Q==k;if(j&&(0,Me.Z)(p)){if(!(0,Me.Z)(R))return!1;w=!0,ee=!1}if(j&&!ee)return $||($=new t.Z),w||(0,Ge.Z)(p)?A(p,R,U,F,G,$):function(p,R,U,F,G,$,w){switch(U){case"[object DataView]":if(p.byteLength!=R.byteLength||p.byteOffset!=R.byteOffset)return!1;p=p.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(p.byteLength!=R.byteLength||!$(new l.Z(p),new l.Z(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,m.Z)(+p,+R);case"[object Error]":return p.name==R.name&&p.message==R.message;case"[object RegExp]":case"[object String]":return p==R+"";case"[object Map]":var Y=u;case"[object Set]":if(Y||(Y=a.Z),p.size!=R.size&&!(1&F))return!1;var k=w.get(p);if(k)return k==R;F|=2,w.set(p,R);var ee=A(Y(p),Y(R),F,G,$,w);return w.delete(p),ee;case"[object Symbol]":if(B)return B.call(p)==B.call(R)}return!1}(p,R,Q,U,F,G,$);if(!(1&U)){var ae=ee&&De.call(p,"__wrapped__"),_e=q&&De.call(R,"__wrapped__");if(ae||_e){var se=ae?p.value():p,le=_e?R.value():R;return $||($=new t.Z),G(se,le,U,F,$)}}return!!j&&($||($=new t.Z),function(p,R,U,F,G,$){var w=1&U,Y=(0,z.Z)(p),Q=Y.length;if(Q!=(0,z.Z)(R).length&&!w)return!1;for(var q=Q;q--;){var j=Y[q];if(!(w?j in R:oe.call(R,j)))return!1}var ae=$.get(p),_e=$.get(R);if(ae&&_e)return ae==R&&_e==p;var se=!0;$.set(p,R),$.set(R,p);for(var le=w;++q<Q;){var Ee=p[j=Y[q]],me=R[j];if(F)var Ke=w?F(me,Ee,j,R,p,$):F(Ee,me,j,p,R,$);if(!(void 0===Ke?Ee===me||G(Ee,me,U,F,$):Ke)){se=!1;break}le||(le="constructor"==j)}if(se&&!le){var Se=p.constructor,Re=R.constructor;Se!=Re&&"constructor"in p&&"constructor"in R&&!("function"==typeof Se&&Se instanceof Se&&"function"==typeof Re&&Re instanceof Re)&&(se=!1)}return $.delete(p),$.delete(R),se}(p,R,U,F,G,$))};var Ne=n(48317);const be=function Le(p,R,U,F,G){return p===R||(null==p||null==R||!(0,Ne.Z)(p)&&!(0,Ne.Z)(R)?p!=p&&R!=R:ze(p,R,U,F,Le,G))};var Xe=n(65601);const ye=function(p){return p==p&&!(0,Xe.Z)(p)};var qe=n(50575);const xe=function(p,R){return function(U){return null!=U&&U[p]===R&&(void 0!==R||p in Object(U))}},_t=function(p){var R=function(p){for(var R=(0,qe.Z)(p),U=R.length;U--;){var F=R[U],G=p[F];R[U]=[F,G,ye(G)]}return R}(p);return 1==R.length&&R[0][2]?xe(R[0][0],R[0][1]):function(U){return U===p||function(p,R,U,F){var G=U.length,$=G,w=!F;if(null==p)return!$;for(p=Object(p);G--;){var Y=U[G];if(w&&Y[2]?Y[1]!==p[Y[0]]:!(Y[0]in p))return!1}for(;++G<$;){var Q=(Y=U[G])[0],k=p[Q],ee=Y[1];if(w&&Y[2]){if(void 0===k&&!(Q in p))return!1}else{var q=new t.Z;if(F)var j=F(k,ee,Q,p,R,q);if(!(void 0===j?be(ee,k,3,F,q):j))return!1}}return!0}(U,p,R)}};var Be=n(15814);var it=n(60580),Ue=n(75797),Fe=n(4369);const lt=function(p,R){return(0,Ue.Z)(p)&&ye(R)?xe((0,Fe.Z)(p),R):function(U){var F=function(p,R,U){var F=null==p?void 0:(0,Be.Z)(p,R);return void 0===F?U:F}(U,p);return void 0===F&&F===R?(0,it.Z)(U,p):be(R,F,3)}};var $e=n(1613),ct=n(31495);const mt=function(p){return(0,Ue.Z)(p)?(0,ct.Z)((0,Fe.Z)(p)):function(p){return function(R){return(0,Be.Z)(R,p)}}(p)},pt=function(p){return"function"==typeof p?p:null==p?$e.Z:"object"==typeof p?(0,fe.Z)(p)?lt(p[0],p[1]):_t(p):mt(p)}},72330:(V,h,n)=>{n.d(h,{Z:()=>S});var t=n(94284),c=n(40031),g=n(50575);const S=function(e){return(0,t.Z)(e,g.Z,c.Z)}},37447:(V,h,n)=>{n.d(h,{Z:()=>S});var t=n(94284),c=n(14240),g=n(39777);const S=function(e){return(0,t.Z)(e,g.Z,c.Z)}},92069:(V,h,n)=>{n.d(h,{Z:()=>g});const g=(0,n(82655).Z)(Object.getPrototypeOf,Object)},40031:(V,h,n)=>{n.d(h,{Z:()=>o});var g=n(40811),S=Object.prototype.propertyIsEnumerable,e=Object.getOwnPropertySymbols;const o=e?function(A){return null==A?[]:(A=Object(A),function(A,C){for(var l=-1,m=null==A?0:A.length,r=0,u=[];++l<m;){var a=A[l];C(a,l,A)&&(u[r++]=a)}return u}(e(A),function(C){return S.call(A,C)}))}:g.Z},14240:(V,h,n)=>{n.d(h,{Z:()=>O});var t=n(16586),c=n(92069),g=n(40031),f=n(40811);const O=Object.getOwnPropertySymbols?function(o){for(var A=[];o;)(0,t.Z)(A,(0,g.Z)(o)),o=(0,c.Z)(o);return A}:f.Z},21014:(V,h,n)=>{n.d(h,{Z:()=>v});var t=n(56660),c=n(28475);const f=(0,t.Z)(c.Z,"DataView");var S=n(22422);const O=(0,t.Z)(c.Z,"Promise");var o=n(39237);const C=(0,t.Z)(c.Z,"WeakMap");var l=n(59319),m=n(84796),r="[object Map]",a="[object Promise]",_="[object Set]",s="[object WeakMap]",i="[object DataView]",M=(0,m.Z)(f),T=(0,m.Z)(S.Z),Z=(0,m.Z)(O),N=(0,m.Z)(o.Z),H=(0,m.Z)(C),b=l.Z;(f&&b(new f(new ArrayBuffer(1)))!=i||S.Z&&b(new S.Z)!=r||O&&b(O.resolve())!=a||o.Z&&b(new o.Z)!=_||C&&b(new C)!=s)&&(b=function(I){var E=(0,l.Z)(I),D="[object Object]"==E?I.constructor:void 0,x=D?(0,m.Z)(D):"";if(x)switch(x){case M:return i;case T:return r;case Z:return a;case N:return _;case H:return s}return E});const v=b},91305:(V,h,n)=>{n.d(h,{Z:()=>g});var t=Object.prototype;const g=function(f){var S=f&&f.constructor;return f===("function"==typeof S&&S.prototype||t)}},82655:(V,h,n)=>{n.d(h,{Z:()=>c});const c=function(g,f){return function(S){return g(f(S))}}},39888:(V,h,n)=>{n.d(h,{Z:()=>f});var t=n(60336),c=n(17957);const f=function(S){return null!=S&&(0,c.Z)(S.length)&&!(0,t.Z)(S)}},88992:(V,h,n)=>{n.d(h,{Z:()=>C});var t=n(28475),f="object"==typeof exports&&exports&&!exports.nodeType&&exports,S=f&&"object"==typeof module&&module&&!module.nodeType&&module,O=S&&S.exports===f?t.Z.Buffer:void 0;const C=(O?O.isBuffer:void 0)||function(){return!1}},71439:(V,h,n)=>{n.d(h,{Z:()=>re});var t=n(59319),c=n(17957),g=n(48317),D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Arguments]"]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object Boolean]"]=D["[object DataView]"]=D["[object Date]"]=D["[object Error]"]=D["[object Function]"]=D["[object Map]"]=D["[object Number]"]=D["[object Object]"]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object WeakMap]"]=!1;var K=n(80894),L=n(76187),z=L.Z&&L.Z.isTypedArray;const re=z?(0,K.Z)(z):function(oe){return(0,g.Z)(oe)&&(0,c.Z)(oe.length)&&!!D[(0,t.Z)(oe)]}},50575:(V,h,n)=>{n.d(h,{Z:()=>m});var t=n(24657),c=n(91305);const S=(0,n(82655).Z)(Object.keys,Object);var O=Object.prototype.hasOwnProperty;var C=n(39888);const m=function(r){return(0,C.Z)(r)?(0,t.Z)(r):function(r){if(!(0,c.Z)(r))return S(r);var u=[];for(var a in Object(r))O.call(r,a)&&"constructor"!=a&&u.push(a);return u}(r)}},39777:(V,h,n)=>{n.d(h,{Z:()=>m});var t=n(24657),c=n(65601),g=n(91305);var O=Object.prototype.hasOwnProperty;const A=function(r){if(!(0,c.Z)(r))return function(r){var u=[];if(null!=r)for(var a in Object(r))u.push(a);return u}(r);var u=(0,g.Z)(r),a=[];for(var _ in r)"constructor"==_&&(u||!O.call(r,_))||a.push(_);return a};var C=n(39888);const m=function(r){return(0,C.Z)(r)?(0,t.Z)(r,!0):A(r)}},97600:(V,h,n)=>{n.d(h,{Z:()=>l});var t=n(824);const S=function(r,u,a){for(var _=-1,s=Object(r),i=a(r),M=i.length;M--;){var T=i[++_];if(!1===u(s[T],T,s))break}return r};var e=n(50575);const o=function(m,r){return m&&S(m,r,e.Z)};var A=n(70488);const l=function(m,r){var u={};return r=(0,A.Z)(r,3),o(m,function(a,_,s){(0,t.Z)(u,_,r(a,_,s))}),u}},41611:(V,h,n)=>{n.d(h,{Z:()=>mn});var t=n(76512),c=n(73832);var S=n(72212),e=n(824);const o=function(d,P,y,J){var pe=!y;y||(y={});for(var te=-1,ne=P.length;++te<ne;){var ce=P[te],Ae=J?J(y[ce],d[ce],ce,y,d):void 0;void 0===Ae&&(Ae=d[ce]),pe?(0,e.Z)(y,ce,Ae):(0,S.Z)(y,ce,Ae)}return y};var A=n(50575);var m=n(39777);var a=n(28475),_="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=_&&"object"==typeof module&&module&&!module.nodeType&&module,M=s&&s.exports===_?a.Z.Buffer:void 0,T=M?M.allocUnsafe:void 0;var v=n(40031);var D=n(14240);var K=n(72330),L=n(37447),z=n(21014),re=Object.prototype.hasOwnProperty;var ue=n(16111);const fe=function(d){var P=new d.constructor(d.byteLength);return new ue.Z(P).set(new ue.Z(d)),P};var We=/\w*$/;var Oe=n(60063),Ie=Oe.Z?Oe.Z.prototype:void 0,De=Ie?Ie.valueOf:void 0;const Fe=function(d,P,y){var J=d.constructor;switch(P){case"[object ArrayBuffer]":return fe(d);case"[object Boolean]":case"[object Date]":return new J(+d);case"[object DataView]":return function(d,P){var y=P?fe(d.buffer):d.buffer;return new d.constructor(y,d.byteOffset,d.byteLength)}(d,y);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(d,P){var y=P?fe(d.buffer):d.buffer;return new d.constructor(y,d.byteOffset,d.length)}(d,y);case"[object Map]":return new J;case"[object Number]":case"[object String]":return new J(d);case"[object RegExp]":return function(d){var P=new d.constructor(d.source,We.exec(d));return P.lastIndex=d.lastIndex,P}(d);case"[object Set]":return new J;case"[object Symbol]":return function(d){return De?Object(De.call(d)):{}}(d)}};var Ze=n(65601),Ve=Object.create;const lt=function(){function d(){}return function(P){if(!(0,Ze.Z)(P))return{};if(Ve)return Ve(P);d.prototype=P;var y=new d;return d.prototype=void 0,y}}();var $e=n(92069),ct=n(91305);var Et=n(86534),mt=n(88992),Ce=n(48317);var U=n(80894),F=n(76187),G=F.Z&&F.Z.isMap;const w=G?(0,U.Z)(G):function(d){return(0,Ce.Z)(d)&&"[object Map]"==(0,z.Z)(d)};var ee=F.Z&&F.Z.isSet;const j=ee?(0,U.Z)(ee):function(d){return(0,Ce.Z)(d)&&"[object Set]"==(0,z.Z)(d)};var le="[object Arguments]",Re="[object Function]",At="[object Object]",W={};W[le]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object DataView]"]=W["[object Boolean]"]=W["[object Date]"]=W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Map]"]=W["[object Number]"]=W[At]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object Symbol]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Error]"]=W[Re]=W["[object WeakMap]"]=!1;const Ht=function He(d,P,y,J,pe,te){var ne,ce=1&P,Ae=2&P,pn=4&P;if(y&&(ne=pe?y(d,J,pe,te):y(d)),void 0!==ne)return ne;if(!(0,Ze.Z)(d))return d;var Ot=(0,Et.Z)(d);if(Ot){if(ne=function(d){var P=d.length,y=new d.constructor(P);return P&&"string"==typeof d[0]&&re.call(d,"index")&&(y.index=d.index,y.input=d.input),y}(d),!ce)return function(d,P){var y=-1,J=d.length;for(P||(P=Array(J));++y<J;)P[y]=d[y];return P}(d,ne)}else{var Te=(0,z.Z)(d),Rt=Te==Re||"[object GeneratorFunction]"==Te;if((0,mt.Z)(d))return function(d,P){if(P)return d.slice();var y=d.length,J=T?T(y):new d.constructor(y);return d.copy(J),J}(d,ce);if(Te==At||Te==le||Rt&&!pe){if(ne=Ae||Rt?{}:function(d){return"function"!=typeof d.constructor||(0,ct.Z)(d)?{}:lt((0,$e.Z)(d))}(d),!ce)return Ae?function(d,P){return o(d,(0,D.Z)(d),P)}(d,function(d,P){return d&&o(P,(0,m.Z)(P),d)}(ne,d)):function(d,P){return o(d,(0,v.Z)(d),P)}(d,function(d,P){return d&&o(P,(0,A.Z)(P),d)}(ne,d))}else{if(!W[Te])return pe?d:{};ne=Fe(d,Te,ce)}}te||(te=new c.Z);var ht=te.get(d);if(ht)return ht;te.set(d,ne),j(d)?d.forEach(function(ge){ne.add(He(ge,P,y,ge,d,te))}):w(d)&&d.forEach(function(ge,he){ne.set(he,He(ge,P,y,he,d,te))});var St=Ot?void 0:(pn?Ae?L.Z:K.Z:Ae?m.Z:A.Z)(d);return function(d,P){for(var y=-1,J=null==d?0:d.length;++y<J&&!1!==P(d[y],y,d););}(St||d,function(ge,he){St&&(ge=d[he=ge]),(0,S.Z)(ne,he,He(ge,P,y,he,d,te))}),ne};var gt=n(35001);var Yt=n(15814),zt=n(65304);var Qt=n(4369);const Xt=function(d,P){return null==(d=function(d,P){return P.length<2?d:(0,Yt.Z)(d,(0,zt.Z)(P,0,-1))}(d,P=(0,gt.Z)(P,d)))||delete d[(0,Qt.Z)(function(d){var P=null==d?0:d.length;return P?d[P-1]:void 0}(P))]};var kt=n(59319),ft=Function.prototype.toString,nn=Object.prototype.hasOwnProperty,on=ft.call(Object);const an=function(d){return function(d){if(!(0,Ce.Z)(d)||"[object Object]"!=(0,kt.Z)(d))return!1;var P=(0,$e.Z)(d);if(null===P)return!0;var y=nn.call(P,"constructor")&&P.constructor;return"function"==typeof y&&y instanceof y&&ft.call(y)==on}(d)?void 0:d};const mn=(0,n(10291).Z)(function(d,P){var y={};if(null==d)return y;var J=!1;P=(0,t.Z)(P,function(te){return te=(0,gt.Z)(te,d),J||(J=te.length>1),te}),o(d,(0,L.Z)(d),y),J&&(y=Ht(y,7,an));for(var pe=P.length;pe--;)Xt(y,P[pe]);return y})},28882:(V,h,n)=>{n.d(h,{Z:()=>e});var t=n(76512),c=n(70488),g=n(23238),f=n(37447);const e=function(O,o){if(null==O)return{};var A=(0,t.Z)((0,f.Z)(O),function(C){return[C]});return o=(0,c.Z)(o),(0,g.Z)(O,A,function(C,l){return o(C,l[0])})}},40811:(V,h,n)=>{n.d(h,{Z:()=>c});const c=function(){return[]}}}]);
"use strict";(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[801],{64667:(Zt,xt,v)=>{v.d(xt,{Zt:()=>Qt,Wj:()=>Kt,_t:()=>Wt});var t=v(42741),b=v(16274),C=v(21459),S=v(66899),D=v(99957),Z=v(76379),k=v(7152),E=v(46476),y=v(64033),T=v(86335),yt=v(76419),tt=v(48022),et=v(4209),N=v(65732),Y=v(74192),wt=v(29230),it=v(2424),bt=v(17310),Ct=v(72754),nt=v(12281);function O(r,i,e){for(let n in i)if(i.hasOwnProperty(n)){const o=i[n];o?r.setProperty(n,o,(null==e?void 0:e.has(n))?"important":""):r.removeProperty(n)}return r}function L(r,i){const e=i?"":"none";O(r.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function st(r,i,e){O(r.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function B(r,i){return i&&"none"!=i?r+" "+i:r}function ot(r){const i=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*i}function U(r,i){return r.getPropertyValue(i).split(",").map(n=>n.trim())}function K(r){const i=r.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}function J(r,i,e){const{top:n,bottom:o,left:l,right:h}=r;return e>=n&&e<=o&&i>=l&&i<=h}function M(r,i,e){r.top+=i,r.bottom=r.top+r.height,r.left+=e,r.right=r.left+r.width}function rt(r,i,e,n){const{top:o,right:l,bottom:h,left:p,width:u,height:f}=r,m=u*i,x=f*i;return n>o-x&&n<h+x&&e>p-m&&e<l+m}class lt{constructor(i,e){this._document=i,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:K(e)})})}handleScroll(i){const e=(0,S.sA)(i),n=this.positions.get(e);if(!n)return null;const o=e===this._document?e.documentElement:e,l=n.scrollPosition;let h,p;if(e===this._document){const m=this._viewportRuler.getViewportScrollPosition();h=m.top,p=m.left}else h=e.scrollTop,p=e.scrollLeft;const u=l.top-h,f=l.left-p;return this.positions.forEach((m,x)=>{m.clientRect&&e!==x&&o.contains(x)&&M(m.clientRect,u,f)}),l.top=h,l.left=p,{top:u,left:f}}}function at(r){const i=r.cloneNode(!0),e=i.querySelectorAll("[id]"),n=r.nodeName.toLowerCase();i.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===n?Q(r,i):("input"===n||"select"===n||"textarea"===n)&&ct(r,i),ht("canvas",r,i,Q),ht("input, textarea, select",r,i,ct),i}function ht(r,i,e,n){const o=i.querySelectorAll(r);if(o.length){const l=e.querySelectorAll(r);for(let h=0;h<o.length;h++)n(o[h],l[h])}}let Et=0;function ct(r,i){"file"!==i.type&&(i.value=r.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${Et++}`)}function Q(r,i){const e=i.getContext("2d");if(e)try{e.drawImage(r,0,0)}catch(n){}}const W=(0,S.i$)({passive:!0}),dt=(0,S.i$)({passive:!1}),q=new Set(["position"]);class Tt{constructor(i,e,n,o,l,h){this._config=e,this._document=n,this._ngZone=o,this._viewportRuler=l,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new y.x,this._pointerMoveSubscription=T.w0.EMPTY,this._pointerUpSubscription=T.w0.EMPTY,this._scrollSubscription=T.w0.EMPTY,this._resizeSubscription=T.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new y.x,this.started=new y.x,this.released=new y.x,this.ended=new y.x,this.entered=new y.x,this.exited=new y.x,this.dropped=new y.x,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const u=this._handles.find(f=>{const m=(0,S.sA)(p);return!!m&&(m===f||f.contains(m))});u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const u=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(u.x-this._pickupPositionOnPage.x)+Math.abs(u.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const X=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),G=this._dropContainer;if(!X)return void this._endDragSequence(p);(!G||!G.isDragging()&&!G.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),p.preventDefault();const f=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(f),this._dropContainer)this._updateActiveDropContainer(f,u);else{const m=this._activeTransform;m.x=f.x-this._pickupPositionOnPage.x+this._passiveTransform.x,m.y=f.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(m.x,m.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${m.x} ${m.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:f,event:p,distance:this._getDragDistance(f),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new lt(n,l),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const e=(0,D.Ig)(i);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>L(n,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>(0,D.fI)(n)),this._handles.forEach(n=>L(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const e=(0,D.fI)(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,dt),e.addEventListener("touchstart",this._pointerDown,W)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?(0,D.fI)(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&z(this._rootElement),z(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),L(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),L(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&z(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&z(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){F(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,o=n.parentNode,l=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();o.insertBefore(h,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),st(n,!1,q),this._document.body.appendChild(o.replaceChild(l,n)),this._getPreviewInsertionPoint(o,p).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),o=F(e),l=!o&&0!==e.button,h=this._rootElement,p=(0,S.sA)(e),u=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),f=o?(0,Z.yG)(e):(0,Z.X6)(e);if(p&&p.draggable&&"mousedown"===e.type&&e.preventDefault(),n||l||u||f)return;this._handles.length&&(this._rootElementTapHighlight=h.style.webkitTapHighlightColor||"",h.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(R=>this._updateOnScroll(R)),this._boundaryElement&&(this._boundaryRect=K(this._boundaryElement));const m=this._previewTemplate;this._pickupPositionInElement=m&&m.template&&!m.matchSize?{x:0,y:0}:this._getPointerPositionInElement(i,e);const x=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:x.x,y:x.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){st(this._rootElement,!0,q),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),o=this._getPointerPositionOnPage(i),l=this._getDragDistance(o),h=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:l,dropPoint:o}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:l,dropPoint:o}),e.drop(this,n,this._initialIndex,this._initialContainer,h,l,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:n,y:o}){let l=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,i,e,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,o),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,e=this.previewClass,n=i?i.template:null;let o;if(n&&i){const l=i.matchSize?this._rootElement.getBoundingClientRect():null,h=i.viewContainer.createEmbeddedView(n,i.context);h.detectChanges(),o=ut(h,this._document),this._previewRef=h,i.matchSize?_t(o,l):o.style.transform=A(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const l=this._rootElement;o=at(l),_t(o,l.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return O(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},q),L(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(l=>o.classList.add(l)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const e=function(r){const i=getComputedStyle(r),e=U(i,"transition-property"),n=e.find(p=>"transform"===p||"all"===p);if(!n)return 0;const o=e.indexOf(n),l=U(i,"transition-duration"),h=U(i,"transition-delay");return ot(l[o])+ot(h[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const o=h=>{(!h||(0,S.sA)(h)===this._preview&&"transform"===h.propertyName)&&(this._preview.removeEventListener("transitionend",o),n(),clearTimeout(l))},l=setTimeout(o,1.5*e);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,e=i?i.template:null;let n;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),n=ut(this._placeholderRef,this._document)):n=at(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,e){const n=this._rootElement.getBoundingClientRect(),o=i===this._rootElement?null:i,l=o?o.getBoundingClientRect():n,h=F(e)?e.targetTouches[0]:e,p=this._getViewportScrollPosition();return{x:l.left-n.left+(h.pageX-l.left-p.left),y:l.top-n.top+(h.pageY-l.top-p.top)}}_getPointerPositionOnPage(i){const e=this._getViewportScrollPosition(),n=F(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=n.pageX-e.left,l=n.pageY-e.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const p=this._ownerSVGElement.createSVGPoint();return p.x=o,p.y=l,p.matrixTransform(h.inverse())}}return{x:o,y:l}}_getConstrainedPointerPosition(i){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:o}=this.constrainPosition?this.constrainPosition(i,this):i;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:l,y:h}=this._pickupPositionInElement,p=this._boundaryRect,u=this._previewRect,f=p.top+h,m=p.bottom-(u.height-h);n=pt(n,p.left+l,p.right-(u.width-l)),o=pt(o,f,m)}return{x:n,y:o}}_updatePointerDirectionDelta(i){const{x:e,y:n}=i,o=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,h=Math.abs(e-l.x),p=Math.abs(n-l.y);return h>this._config.pointerDirectionChangeThreshold&&(o.x=e>l.x?1:-1,l.x=e),p>this._config.pointerDirectionChangeThreshold&&(o.y=n>l.y?1:-1,l.y=n),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,L(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,dt),i.removeEventListener("touchstart",this._pointerDown,W)}_applyRootElementTransform(i,e){const n=A(i,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=B(n,this._initialTransform)}_applyPreviewTransform(i,e){var n;const o=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,l=A(i,e);this._preview.style.transform=B(l,o)}_getDragDistance(i){const e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(0===i&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===o.width&&0===o.height)return;const l=n.left-o.left,h=o.right-n.right,p=n.top-o.top,u=o.bottom-n.bottom;n.width>o.width?(l>0&&(i+=l),h>0&&(i-=h)):i=0,n.height>o.height?(p>0&&(e+=p),u>0&&(e-=u)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){const e=this.dragStartDelay;return"number"==typeof e?e:F(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){const e=this._parentPositions.handleScroll(i);if(e){const n=(0,S.sA)(i);this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&M(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const i=this._parentPositions.positions.get(this._document);return i?i.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,S.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return(0,D.fI)(n)}}function A(r,i){return`translate3d(${Math.round(r)}px, ${Math.round(i)}px, 0)`}function pt(r,i,e){return Math.max(i,Math.min(e,r))}function z(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function F(r){return"t"===r.type[0]}function ut(r,i){const e=r.rootNodes;if(1===e.length&&e[0].nodeType===i.ELEMENT_NODE)return e[0];const n=i.createElement("div");return e.forEach(o=>n.appendChild(o)),n}function _t(r,i){r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.transform=A(i.left,i.top)}function H(r,i){return Math.max(0,Math.min(i,r))}class Rt{constructor(i,e,n,o,l){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new y.x,this.entered=new y.x,this.exited=new y.x,this.dropped=new y.x,this.sorted=new y.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=T.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new y.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(r,i){return void 0===r&&(r=0),void 0===i&&(i=k.z),r<0&&(r=0),(0,E.H)(r,r,i)}(0,yt.Z).pipe((0,N.R)(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,p=this.autoScrollStep;1===this._verticalScrollDirection?ft(h,-p):2===this._verticalScrollDirection&&ft(h,p),1===this._horizontalScrollDirection?vt(h,-p):2===this._horizontalScrollDirection&&vt(h,p)})},this.element=(0,D.fI)(i),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new lt(n,l)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,n,o){let l;this._draggingStarted(),null==o?(l=this.sortingDisabled?this._draggables.indexOf(i):-1,-1===l&&(l=this._getItemIndexFromPointerPosition(i,e,n))):l=o;const h=this._activeDraggables,p=h.indexOf(i),u=i.getPlaceholderElement();let f=h[l];if(f===i&&(f=h[l+1]),p>-1&&h.splice(p,1),f&&!this._dragDropRegistry.isDragging(f)){const m=f.getRootElement();m.parentElement.insertBefore(u,m),h.splice(l,0,i)}else if(this._shouldEnterAsFirstChild(e,n)){const m=h[0].getRootElement();m.parentNode.insertBefore(u,m),h.unshift(i)}else(0,D.fI)(this.element).appendChild(u),h.push(i);u.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,n,o,l,h,p){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:n,container:this,previousContainer:o,isPointerOverContainer:l,distance:h,dropPoint:p})}withItems(i){const e=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===i.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(i){return this._direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._orientation=i,this}withScrollableParents(i){const e=(0,D.fI)(this.element);return this._scrollableElements=-1===i.indexOf(e)?[e,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?$("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,n=>n.drag===i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,n,o){if(this.sortingDisabled||!this._clientRect||!rt(this._clientRect,.05,e,n))return;const l=this._itemPositions,h=this._getItemIndexFromPointerPosition(i,e,n,o);if(-1===h&&l.length>0)return;const p="horizontal"===this._orientation,u=$(l,P=>P.drag===i),f=l[h],x=f.clientRect,R=u>h?1:-1,X=this._getItemOffsetPx(l[u].clientRect,x,R),G=this._getSiblingOffsetPx(u,l,R),V=l.slice();(function(r,i,e){const n=H(i,r.length-1),o=H(e,r.length-1);if(n===o)return;const l=r[n],h=o<n?-1:1;for(let p=n;p!==o;p+=h)r[p]=r[p+h];r[o]=l})(l,u,h),this.sorted.next({previousIndex:u,currentIndex:h,container:this,item:i}),l.forEach((P,qt)=>{if(V[qt]===P)return;const zt=P.drag===i,Ot=zt?X:G,Vt=zt?i.getPlaceholderElement():P.drag.getRootElement();P.offset+=Ot,p?(Vt.style.transform=B(`translate3d(${Math.round(P.offset)}px, 0, 0)`,P.initialTransform),M(P.clientRect,0,Ot)):(Vt.style.transform=B(`translate3d(0, ${Math.round(P.offset)}px, 0)`,P.initialTransform),M(P.clientRect,Ot,0))}),this._previousSwap.overlaps=J(x,e,n),this._previousSwap.drag=f.drag,this._previousSwap.delta=p?o.x:o.y}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let n,o=0,l=0;if(this._parentPositions.positions.forEach((h,p)=>{p===this._document||!h.clientRect||n||rt(h.clientRect,.05,i,e)&&([o,l]=function(r,i,e,n){const o=j(i,n),l=Dt(i,e);let h=0,p=0;if(o){const u=r.scrollTop;1===o?u>0&&(h=1):r.scrollHeight-u>r.clientHeight&&(h=2)}if(l){const u=r.scrollLeft;1===l?u>0&&(p=1):r.scrollWidth-u>r.clientWidth&&(p=2)}return[h,p]}(p,h.clientRect,i,e),(o||l)&&(n=p))}),!o&&!l){const{width:h,height:p}=this._viewportRuler.getViewportSize(),u={width:h,height:p,top:0,right:h,bottom:p,left:0};o=j(u,e),l=Dt(u,i),n=window}n&&(o!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=l,this._scrollNode=n,(o||l)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=(0,D.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=(0,D.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_cacheItemPositions(){const i="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:K(n)}}).sort((e,n)=>i?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const i=(0,D.fI)(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var n;const o=e.getRootElement();if(o){const l=null===(n=this._itemPositions.find(h=>h.drag===e))||void 0===n?void 0:n.initialTransform;o.style.transform=l||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(i,e,n){const o="horizontal"===this._orientation,l=e[i].clientRect,h=e[i+-1*n];let p=l[o?"width":"height"]*n;if(h){const u=o?"left":"top",f=o?"right":"bottom";-1===n?p-=h.clientRect[u]-l[f]:p+=l[u]-h.clientRect[f]}return p}_getItemOffsetPx(i,e,n){const o="horizontal"===this._orientation;let l=o?e.left-i.left:e.top-i.top;return-1===n&&(l+=o?e.width-i.width:e.height-i.height),l}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,o="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const h=n[n.length-1].clientRect;return o?i>=h.right:e>=h.bottom}{const h=n[0].clientRect;return o?i<=h.left:e<=h.top}}_getItemIndexFromPointerPosition(i,e,n,o){const l="horizontal"===this._orientation,h=$(this._itemPositions,({drag:p,clientRect:u},f,m)=>{if(p===i)return m.length<2;if(o){const x=l?o.x:o.y;if(p===this._previousSwap.drag&&this._previousSwap.overlaps&&x===this._previousSwap.delta)return!1}return l?e>=Math.floor(u.left)&&e<Math.floor(u.right):n>=Math.floor(u.top)&&n<Math.floor(u.bottom)});return-1!==h&&this.sortPredicate(h,i,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(i,e){return null!=this._clientRect&&J(this._clientRect,i,e)}_getSiblingContainerFromPosition(i,e,n){return this._siblings.find(o=>o._canReceive(i,e,n))}_canReceive(i,e,n){if(!this._clientRect||!J(this._clientRect,e,n)||!this.enterPredicate(i,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,n);if(!o)return!1;const l=(0,D.fI)(this.element);return o===l||l.contains(o)}_startReceiving(i,e){const n=this._activeSiblings;!n.has(i)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(i);e&&(this._itemPositions.forEach(({clientRect:n})=>{M(n,e.top,e.left)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=(0,S.kV)((0,D.fI)(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}}function $(r,i){for(let e=0;e<r.length;e++)if(i(r[e],e,r))return e;return-1}function ft(r,i){r===window?r.scrollBy(0,i):r.scrollTop+=i}function vt(r,i){r===window?r.scrollBy(i,0):r.scrollLeft+=i}function j(r,i){const{top:e,bottom:n,height:o}=r,l=.05*o;return i>=e-l&&i<=e+l?1:i>=n-l&&i<=n+l?2:0}function Dt(r,i){const{left:e,right:n,width:o}=r,l=.05*o;return i>=e-l&&i<=e+l?1:i>=n-l&&i<=n+l?2:0}const _=(0,S.i$)({passive:!1,capture:!0});let s=(()=>{class r{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new y.x,this.pointerUp=new y.x,this.scroll=new y.x,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,_)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,_)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const o=n.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:_}),o||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,h)=>{this._document.addEventListener(h,l.handler,l.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new tt.y(o=>this._ngZone.runOutsideAngular(()=>{const h=p=>{this._activeDragInstances.length&&o.next(p)};return e.addEventListener("scroll",h,!0),()=>{e.removeEventListener("scroll",h,!0)}}))),(0,et.T)(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.R0b),t.LFG(b.K0))},r.\u0275prov=t.Yz7({factory:function(){return new r(t.LFG(t.R0b),t.LFG(b.K0))},token:r,providedIn:"root"}),r})();const a={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let d=(()=>{class r{constructor(e,n,o,l){this._document=e,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=l}createDrag(e,n=a){return new Tt(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Rt(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(b.K0),t.LFG(t.R0b),t.LFG(C.rL),t.LFG(s))},r.\u0275prov=t.Yz7({factory:function(){return new r(t.LFG(b.K0),t.LFG(t.R0b),t.LFG(C.rL),t.LFG(s))},token:r,providedIn:"root"}),r})();const g=new t.OlP("CDK_DRAG_PARENT"),w=new t.OlP("CdkDropListGroup"),Ft=new t.OlP("CDK_DRAG_CONFIG");let Yt=0;const Ht=new t.OlP("CdkDropList");let Kt=(()=>{class r{constructor(e,n,o,l,h,p,u){this.element=e,this._changeDetectorRef=o,this._scrollDispatcher=l,this._dir=h,this._group=p,this._destroyed=new y.x,this.connectedTo=[],this.id="cdk-drop-list-"+Yt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=(f,m)=>this.enterPredicate(f.data,m.data),this._dropListRef.sortPredicate=(f,m,x)=>this.sortPredicate(f,m.data,x.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),p&&p._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,D.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=r._dropLists.indexOf(this);e>-1&&r._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,Y.O)(this._dir.value),(0,N.R)(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{const n=(0,D.Eq)(this.connectedTo).map(o=>"string"==typeof o?r._dropLists.find(h=>h.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===n.indexOf(o)&&n.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(l=>l.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,D.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,D.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,D.su)(this.autoScrollStep,2),e.connectedTo(n.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:n,draggingDisabled:o,sortingDisabled:l,listAutoScrollDisabled:h,listOrientation:p}=e;this.disabled=null!=o&&o,this.sortingDisabled=null!=l&&l,this.autoScrollDisabled=null!=h&&h,this.orientation=p||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(d),t.Y36(t.sBO),t.Y36(C.mF),t.Y36(nt.Is,8),t.Y36(w,12),t.Y36(Ft,8))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,n){2&e&&(t.uIk("id",n.id),t.ekj("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t._Bn([{provide:w,useValue:void 0},{provide:Ht,useExisting:r}])]}),r._dropLists=[],r})();const kt=new t.OlP("CdkDragHandle"),Gt=new t.OlP("CdkDragPlaceholder"),Nt=new t.OlP("CdkDragPreview");let Qt=(()=>{class r{constructor(e,n,o,l,h,p,u,f,m,x,R){this.element=e,this.dropContainer=n,this._ngZone=l,this._viewContainerRef=h,this._dir=u,this._changeDetectorRef=m,this._selfHandle=x,this._parentDrag=R,this._destroyed=new y.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new tt.y(X=>{const G=this._dragRef.moved.pipe((0,wt.U)(V=>({source:this,pointerPosition:V.pointerPosition,event:V.event,delta:V.delta,distance:V.distance}))).subscribe(X);return()=>{G.unsubscribe()}}),this._dragRef=f.createDrag(e,{dragStartThreshold:p&&null!=p.dragStartThreshold?p.dragStartThreshold:5,pointerDirectionChangeThreshold:p&&null!=p.pointerDirectionChangeThreshold?p.pointerDirectionChangeThreshold:5,zIndex:null==p?void 0:p.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),p&&this._assignDefaults(p),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,D.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,it.q)(1),(0,N.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const n=e.rootElementSelector,o=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=r._dragInstances.indexOf(this);e>-1&&r._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,n=this.rootElementSelector?Bt(e,this.rootElementSelector):e;this._dragRef.withRootElement(n||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?Bt(this.element.nativeElement,e):(0,D.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const n=this._dir,o=this.dragStartDelay,l=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof o&&o?o:(0,D.su)(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(l).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe((0,it.q)(1)).subscribe(()=>{var n,o;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let l=this.element.nativeElement.parentElement;for(;l;){if(null===(n=l.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(o=r._dragInstances.find(h=>h.element.nativeElement===l))||void 0===o?void 0:o._dragRef)||null);break}l=l.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint})})}_assignDefaults(e){const{lockAxis:n,dragStartDelay:o,constrainPosition:l,previewClass:h,boundaryElement:p,draggingDisabled:u,rootElementSelector:f,previewContainer:m}=e;this.disabled=null!=u&&u,this.dragStartDelay=o||0,n&&(this.lockAxis=n),l&&(this.constrainPosition=l),h&&(this.previewClass=h),p&&(this.boundaryElement=p),f&&(this.rootElementSelector=f),m&&(this.previewContainer=m)}_setupHandlesListener(){this._handles.changes.pipe((0,Y.O)(this._handles),(0,bt.b)(e=>{const n=e.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),(0,Ct.w)(e=>(0,et.T)(...e.map(n=>n._stateChanges.pipe((0,Y.O)(n))))),(0,N.R)(this._destroyed)).subscribe(e=>{const n=this._dragRef,o=e.element.nativeElement;e.disabled?n.disableHandle(o):n.enableHandle(o)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(Ht,12),t.Y36(b.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(Ft,8),t.Y36(nt.Is,8),t.Y36(d),t.Y36(t.sBO),t.Y36(kt,10),t.Y36(g,12))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkDrag",""]],contentQueries:function(e,n,o){if(1&e&&(t.Suo(o,Nt,5),t.Suo(o,Gt,5),t.Suo(o,kt,5)),2&e){let l;t.iGM(l=t.CRH())&&(n._previewTemplate=l.first),t.iGM(l=t.CRH())&&(n._placeholderTemplate=l.first),t.iGM(l=t.CRH())&&(n._handles=l)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,n){2&e&&t.ekj("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t._Bn([{provide:g,useExisting:r}]),t.TTD]}),r._dragInstances=[],r})();function Bt(r,i){let e=r.parentElement;for(;e;){if(e.matches?e.matches(i):e.msMatchesSelector(i))return e;e=e.parentElement}return null}let Wt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[d],imports:[C.ZD]}),r})()},12116:(Zt,xt,v)=>{v.d(xt,{Qc:()=>j,WN:()=>Dt});var t=v(42741),b=v(16274),C=v(88638),S=v(70472),D=v(33103),Z=v(64796),k=v(41388),E=v(80938),I=v(63821),y=v(93324),T=v(21459);const yt=["container"],tt=["in"],et=["multiIn"],N=["multiContainer"],Y=["ddBtn"],wt=function(c,_){return{"p-autocomplete-dd-input":c,"p-disabled":_}};function it(c,_){if(1&c){const s=t.EpF();t.TgZ(0,"input",7,8),t.NdJ("click",function(d){return t.CHM(s),t.oxw().onInputClick(d)})("input",function(d){return t.CHM(s),t.oxw().onInput(d)})("keydown",function(d){return t.CHM(s),t.oxw().onKeydown(d)})("keyup",function(d){return t.CHM(s),t.oxw().onKeyup(d)})("focus",function(d){return t.CHM(s),t.oxw().onInputFocus(d)})("blur",function(d){return t.CHM(s),t.oxw().onInputBlur(d)})("change",function(d){return t.CHM(s),t.oxw().onInputChange(d)})("paste",function(d){return t.CHM(s),t.oxw().onInputPaste(d)}),t.qZA()}if(2&c){const s=t.oxw();t.Tol(s.inputStyleClass),t.Q6J("ngStyle",s.inputStyle)("autocomplete",s.autocomplete)("ngClass",t.WLB(23,wt,s.dropdown,s.disabled))("value",s.inputFieldValue)("readonly",s.readonly)("disabled",s.disabled),t.uIk("type",s.type)("id",s.inputId)("required",s.required)("name",s.name)("aria-controls",s.listId)("aria-expanded",s.overlayVisible)("aria-activedescendant","p-highlighted-option")("autofocus",s.autofocus)("placeholder",s.placeholder)("size",s.size)("maxlength",s.maxlength)("tabindex",s.tabindex)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledBy)("aria-required",s.required)}}function bt(c,_){1&c&&t.GkF(0)}function Ct(c,_){if(1&c&&(t.TgZ(0,"span",20),t._uU(1),t.qZA()),2&c){const s=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Oqu(a.resolveFieldData(s))}}function nt(c,_){if(1&c){const s=t.EpF();t.TgZ(0,"span",21),t.NdJ("click",function(){t.CHM(s),t.oxw();const d=t.MAs(1);return t.oxw(2).removeItem(d)}),t.qZA()}}const O=function(c){return{$implicit:c}};function L(c,_){if(1&c&&(t.TgZ(0,"li",15,16),t.YNc(2,bt,1,0,"ng-container",17),t.YNc(3,Ct,2,1,"span",18),t.YNc(4,nt,1,0,"span",19),t.qZA()),2&c){const s=_.$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("ngTemplateOutlet",a.selectedItemTemplate)("ngTemplateOutletContext",t.VKq(4,O,s)),t.xp6(1),t.Q6J("ngIf",!a.selectedItemTemplate),t.xp6(1),t.Q6J("ngIf",!a.disabled&&!a.readonly)}}const st=function(c,_){return{"p-disabled":c,"p-focus":_}};function B(c,_){if(1&c){const s=t.EpF();t.TgZ(0,"ul",9,10),t.NdJ("click",function(){return t.CHM(s),t.MAs(5).focus()}),t.YNc(2,L,5,6,"li",11),t.TgZ(3,"li",12),t.TgZ(4,"input",13,14),t.NdJ("input",function(d){return t.CHM(s),t.oxw().onInput(d)})("click",function(d){return t.CHM(s),t.oxw().onInputClick(d)})("keydown",function(d){return t.CHM(s),t.oxw().onKeydown(d)})("keyup",function(d){return t.CHM(s),t.oxw().onKeyup(d)})("focus",function(d){return t.CHM(s),t.oxw().onInputFocus(d)})("blur",function(d){return t.CHM(s),t.oxw().onInputBlur(d)})("change",function(d){return t.CHM(s),t.oxw().onInputChange(d)})("paste",function(d){return t.CHM(s),t.oxw().onInputPaste(d)}),t.qZA(),t.qZA(),t.qZA()}if(2&c){const s=t.oxw();t.Q6J("ngClass",t.WLB(20,st,s.disabled,s.focus)),t.xp6(2),t.Q6J("ngForOf",s.value),t.xp6(2),t.Tol(s.inputStyleClass),t.Q6J("disabled",s.disabled)("readonly",s.readonly)("autocomplete",s.autocomplete)("ngStyle",s.inputStyle),t.uIk("type",s.type)("id",s.inputId)("placeholder",s.value&&s.value.length?null:s.placeholder)("tabindex",s.tabindex)("maxlength",s.maxlength)("autofocus",s.autofocus)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledBy)("aria-required",s.required)("aria-controls",s.listId)("aria-expanded",s.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function ot(c,_){1&c&&t._UZ(0,"i",22)}function St(c,_){if(1&c){const s=t.EpF();t.TgZ(0,"button",23,24),t.NdJ("click",function(d){return t.CHM(s),t.oxw().handleDropdownClick(d)}),t.qZA()}if(2&c){const s=t.oxw();t.Q6J("icon",s.dropdownIcon)("disabled",s.disabled),t.uIk("tabindex",s.tabindex)}}function U(c,_){1&c&&t.GkF(0)}function K(c,_){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const s=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.Oqu(a.getOptionGroupLabel(s)||"empty")}}function J(c,_){1&c&&t.GkF(0)}function M(c,_){1&c&&t.GkF(0)}function rt(c,_){if(1&c&&(t.TgZ(0,"li",32),t.YNc(1,K,2,1,"span",29),t.YNc(2,J,1,0,"ng-container",17),t.qZA(),t.YNc(3,M,1,0,"ng-container",17)),2&c){const s=_.$implicit;t.oxw(2);const a=t.MAs(7),d=t.oxw();t.xp6(1),t.Q6J("ngIf",!d.groupTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",d.groupTemplate)("ngTemplateOutletContext",t.VKq(5,O,s)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(7,O,d.getOptionGroupChildren(s)))}}function lt(c,_){if(1&c&&(t.ynx(0),t.YNc(1,rt,4,9,"ng-template",31),t.BQk()),2&c){const s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",s.suggestions)}}function at(c,_){1&c&&t.GkF(0)}function ht(c,_){if(1&c&&(t.ynx(0),t.YNc(1,at,1,0,"ng-container",17),t.BQk()),2&c){t.oxw();const s=t.MAs(7),a=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(2,O,a.suggestions))}}function Et(c,_){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const s=t.oxw().$implicit,a=t.oxw(4);t.xp6(1),t.Oqu(a.resolveFieldData(s))}}function ct(c,_){1&c&&t.GkF(0)}const Q=function(c){return{"p-highlight":c}},W=function(c,_){return{$implicit:c,index:_}};function dt(c,_){if(1&c){const s=t.EpF();t.TgZ(0,"li",37),t.NdJ("click",function(){const g=t.CHM(s).$implicit;return t.oxw(4).selectItem(g)}),t.YNc(1,Et,2,1,"span",29),t.YNc(2,ct,1,0,"ng-container",17),t.qZA()}if(2&c){const s=_.$implicit,a=_.index,d=t.oxw(4);t.Q6J("ngClass",t.VKq(5,Q,s===d.highlightOption))("id",d.highlightOption==s?"p-highlighted-option":""),t.xp6(1),t.Q6J("ngIf",!d.itemTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",d.itemTemplate)("ngTemplateOutletContext",t.WLB(7,W,s,a))}}function It(c,_){if(1&c&&(t.ynx(0),t.YNc(1,dt,3,10,"li",36),t.BQk()),2&c){const s=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",s)}}function q(c,_){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const s=t.oxw().$implicit,a=t.oxw(5);t.xp6(1),t.Oqu(a.resolveFieldData(s))}}function Tt(c,_){1&c&&t.GkF(0)}const A=function(c){return{height:c}};function pt(c,_){if(1&c){const s=t.EpF();t.ynx(0),t.TgZ(1,"li",41),t.NdJ("click",function(){const g=t.CHM(s).$implicit;return t.oxw(5).selectItem(g)}),t.YNc(2,q,2,1,"span",29),t.YNc(3,Tt,1,0,"ng-container",17),t.qZA(),t.BQk()}if(2&c){const s=_.$implicit,a=_.index,d=t.oxw(5);t.xp6(1),t.Q6J("ngClass",t.VKq(6,Q,s===d.highlightOption))("ngStyle",t.VKq(8,A,d.itemSize+"px"))("id",d.highlightOption==s?"p-highlighted-option":""),t.xp6(1),t.Q6J("ngIf",!d.itemTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",d.itemTemplate)("ngTemplateOutletContext",t.WLB(10,W,s,a))}}function z(c,_){if(1&c&&(t.TgZ(0,"cdk-virtual-scroll-viewport",39),t.YNc(1,pt,4,13,"ng-container",40),t.qZA()),2&c){const s=t.oxw(2).$implicit,a=t.oxw(2);t.Q6J("ngStyle",t.VKq(3,A,a.scrollHeight))("itemSize",a.itemSize),t.xp6(1),t.Q6J("cdkVirtualForOf",s)}}function F(c,_){if(1&c&&t.YNc(0,z,2,5,"cdk-virtual-scroll-viewport",38),2&c){const s=t.oxw(3);t.Q6J("ngIf",s.virtualScroll&&!s.noResults)}}function ut(c,_){if(1&c&&(t.ynx(0),t._uU(1),t.BQk()),2&c){const s=t.oxw(4);t.xp6(1),t.hij(" ",s.emptyMessageLabel," ")}}function _t(c,_){1&c&&t.GkF(0,null,43)}function Pt(c,_){if(1&c&&(t.TgZ(0,"li",42),t.YNc(1,ut,2,1,"ng-container",33),t.YNc(2,_t,2,0,"ng-container",27),t.qZA()),2&c){const s=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!s.emptyTemplate)("ngIfElse",s.empty),t.xp6(1),t.Q6J("ngTemplateOutlet",s.emptyTemplate)}}function Lt(c,_){if(1&c&&(t.YNc(0,It,2,1,"ng-container",33),t.YNc(1,F,1,1,"ng-template",null,34,t.W1O),t.YNc(3,Pt,3,3,"li",35)),2&c){const s=t.MAs(2),a=t.oxw(2);t.Q6J("ngIf",!a.virtualScroll)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",a.noResults&&a.showEmptyMessage)}}function Mt(c,_){1&c&&t.GkF(0)}const H=function(){return["p-autocomplete-panel p-component"]},gt=function(c,_){return{showTransitionParams:c,hideTransitionParams:_}},mt=function(c){return{value:"visible",params:c}},Rt=function(c){return{"p-autocomplete-virtualscroll":c}};function $(c,_){if(1&c){const s=t.EpF();t.TgZ(0,"div",25,26),t.NdJ("click",function(d){return t.CHM(s),t.oxw().onOverlayClick(d)})("@overlayAnimation.start",function(d){return t.CHM(s),t.oxw().onOverlayAnimationStart(d)})("@overlayAnimation.done",function(d){return t.CHM(s),t.oxw().onOverlayAnimationEnd(d)}),t.YNc(2,U,1,0,"ng-container",27),t.TgZ(3,"ul",28),t.YNc(4,lt,2,1,"ng-container",29),t.YNc(5,ht,2,4,"ng-container",29),t.YNc(6,Lt,4,3,"ng-template",null,30,t.W1O),t.qZA(),t.YNc(8,Mt,1,0,"ng-container",27),t.qZA()}if(2&c){const s=t.oxw();t.Tol(s.panelStyleClass),t.Udp("max-height",s.virtualScroll?"auto":s.scrollHeight),t.Q6J("ngClass",t.DdM(13,H))("ngStyle",s.panelStyle)("@overlayAnimation",t.VKq(17,mt,t.WLB(14,gt,s.showTransitionOptions,s.hideTransitionOptions))),t.xp6(2),t.Q6J("ngTemplateOutlet",s.headerTemplate),t.xp6(1),t.Q6J("ngClass",t.VKq(19,Rt,s.virtualScroll)),t.uIk("id",s.listId),t.xp6(1),t.Q6J("ngIf",s.group),t.xp6(1),t.Q6J("ngIf",!s.group),t.xp6(3),t.Q6J("ngTemplateOutlet",s.footerTemplate)}}const ft=function(c,_){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":c,"p-autocomplete-multiple":_}},vt={provide:y.JU,useExisting:(0,t.Gpc)(()=>j),multi:!0};let j=(()=>{class c{constructor(s,a,d,g,w,At){this.el=s,this.renderer=a,this.cd=d,this.differs=g,this.config=w,this.overlayService=At,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.completeMethod=new t.vpe,this.onSelect=new t.vpe,this.onUnselect=new t.vpe,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.onDropdownClick=new t.vpe,this.onClear=new t.vpe,this.onKeyUp=new t.vpe,this.onShow=new t.vpe,this.onHide=new t.vpe,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.differ=g.find([]).create(null),this.listId=(0,I.Th)()+"_list"}get suggestions(){return this._suggestions}set suggestions(s){this._suggestions=s,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let s=E.p.findSingle(this.overlay,"li.p-highlight");if(s&&E.p.scrollInView(this.itemsWrapper,s),this.virtualScroll&&this.viewPort){let a=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(),(a.start>this.virtualScrollSelectedIndex||a.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(s=>{switch(s.getType()){case"item":this.itemTemplate=s.template;break;case"group":this.groupTemplate=s.template;break;case"selectedItem":this.selectedItemTemplate=s.template;break;case"header":this.headerTemplate=s.template;break;case"empty":this.emptyTemplate=s.template;break;case"footer":this.footerTemplate=s.template;break;default:this.itemTemplate=s.template}})}updateVirtualScrollSelectedIndex(){this.highlightOption&&this.suggestions&&this.suggestions.length&&(this.virtualScrollSelectedIndex=this.findOptionIndex(this.highlightOption,this.suggestions))}writeValue(s){this.value=s,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(s){return this.optionGroupChildren?I.gb.resolveFieldData(s,this.optionGroupChildren):s.items}getOptionGroupLabel(s){return this.optionGroupLabel?I.gb.resolveFieldData(s,this.optionGroupLabel):null!=s.label?s.label:s}registerOnChange(s){this.onModelChange=s}registerOnTouched(s){this.onModelTouched=s}setDisabledState(s){this.disabled=s,this.cd.markForCheck()}onInput(s){if(!this.inputKeyDown&&E.p.isIE())return;this.timeout&&clearTimeout(this.timeout);let a=s.target.value;!this.multiple&&!this.forceSelection&&this.onModelChange(a),0===a.length&&!this.multiple&&(this.hide(),this.onClear.emit(s),this.onModelChange(a)),a.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(s,a)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(s){this.documentClickListener&&(this.inputClick=!0)}search(s,a){null!=a&&(this.loading=!0,this.completeMethod.emit({originalEvent:s,query:a}))}selectItem(s,a=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(s)||!this.unique)&&(this.value=[...this.value,s],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(s),this.value=s,this.onModelChange(this.value)),this.onSelect.emit(s),this.updateFilledState(),a&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let s=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&s&&(this.overlayVisible=!0)}}onOverlayAnimationStart(s){switch(s.toState){case"visible":this.overlay=s.element,this.itemsWrapper=this.virtualScroll?E.p.findSingle(this.overlay,".cdk-virtual-scroll-viewport"):this.overlay,this.appendOverlay(),this.autoZIndex&&I.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(s);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(s){switch(s.toState){case"void":this.autoZIndex&&I.P9.clear(s.element)}}onOverlayClick(s){this.overlayService.add({originalEvent:s,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):E.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=E.p.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(s){let a=this.field?I.gb.resolveFieldData(s,this.field):s;return void 0!==a?a:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?E.p.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):E.p.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(s){if(this.overlayVisible)this.hide();else{this.focusInput();let a=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(s,""):"current"===this.dropdownMode&&this.search(s,a),this.onDropdownClick.emit({originalEvent:s,query:a})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(k.ws.EMPTY_MESSAGE)}removeItem(s){let a=E.p.index(s),d=this.value[a];this.value=this.value.filter((g,w)=>w!=a),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(d)}onKeydown(s){if(this.overlayVisible)switch(s.which){case 40:if(this.group){let d=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==d){let g=d.itemIndex+1;g<this.getOptionGroupChildren(this.suggestions[d.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[d.groupIndex])[g],this.highlightOptionChanged=!0):this.suggestions[d.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[d.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let d=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=d){var a=d+1;a!=this.suggestions.length&&(this.highlightOption=this.suggestions[a],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}s.preventDefault();break;case 38:if(this.group){let d=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==d){let g=d.itemIndex-1;if(g>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[d.groupIndex])[g],this.highlightOptionChanged=!0;else if(g<0){let w=this.suggestions[d.groupIndex-1];w&&(this.highlightOption=this.getOptionGroupChildren(w)[this.getOptionGroupChildren(w).length-1],this.highlightOptionChanged=!0)}}}else{let d=this.findOptionIndex(this.highlightOption,this.suggestions);d>0&&(this.highlightOption=this.suggestions[d-1],this.highlightOptionChanged=!0)}s.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),s.preventDefault();break;case 27:this.hide(),s.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===s.which&&this.suggestions&&this.search(s,s.target.value);if(this.multiple)switch(s.which){case 8:if(this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const d=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(d)}}this.inputKeyDown=!0}onKeyup(s){this.onKeyUp.emit(s)}onInputFocus(s){!this.itemClicked&&this.completeOnFocus&&this.search(s,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(s),this.itemClicked=!1}onInputBlur(s){this.focus=!1,this.onModelTouched(),this.onBlur.emit(s)}onInputChange(s){if(this.forceSelection){let a=!1,d=s.target.value.trim();if(this.suggestions)for(let g of this.suggestions){let w=this.field?I.gb.resolveFieldData(g,this.field):g;if(w&&d===w.trim()){a=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(g,!1)},250);break}}a||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(s),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(s){this.onKeydown(s)}isSelected(s){let a=!1;if(this.value&&this.value.length)for(let d=0;d<this.value.length;d++)if(I.gb.equals(this.value[d],s,this.dataKey)){a=!0;break}return a}findOptionIndex(s,a){let d=-1;if(a)for(let g=0;g<a.length;g++)if(I.gb.equals(s,a[g])){d=g;break}return d}findOptionGroupIndex(s,a){let d,g;if(a)for(let w=0;w<a.length&&(d=w,g=this.findOptionIndex(s,this.getOptionGroupChildren(a[w])),-1===g);w++);return-1!==g?{groupIndex:d,itemIndex:g}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let s=this.resolveFieldData(this.value);this.inputFieldValue=s,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=s),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",a=>{3!==a.which&&(!this.inputClick&&!this.isDropdownClick(a)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(s){if(this.dropdown){let a=s.target;return a===this.dropdownButton.nativeElement||a.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new E.V(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&I.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return c.\u0275fac=function(s){return new(s||c)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(t.ZZ4),t.Y36(k.b4),t.Y36(k.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["p-autoComplete"]],contentQueries:function(s,a,d){if(1&s&&t.Suo(d,k.jx,4),2&s){let g;t.iGM(g=t.CRH())&&(a.templates=g)}},viewQuery:function(s,a){if(1&s&&(t.Gf(yt,5),t.Gf(tt,5),t.Gf(et,5),t.Gf(N,5),t.Gf(Y,5),t.Gf(T.N7,5)),2&s){let d;t.iGM(d=t.CRH())&&(a.containerEL=d.first),t.iGM(d=t.CRH())&&(a.inputEL=d.first),t.iGM(d=t.CRH())&&(a.multiInputEL=d.first),t.iGM(d=t.CRH())&&(a.multiContainerEL=d.first),t.iGM(d=t.CRH())&&(a.dropdownButton=d.first),t.iGM(d=t.CRH())&&(a.viewPort=d.first)}},hostVars:4,hostBindings:function(s,a){2&s&&t.ekj("p-inputwrapper-filled",a.filled)("p-inputwrapper-focus",a.focus&&!a.disabled||a.overlayVisible)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",virtualScroll:"virtualScroll",itemSize:"itemSize",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",field:"field",scrollHeight:"scrollHeight",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[t._Bn([vt])],decls:7,vars:12,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-autocomplete-empty-message",4,"ngIf"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","ngStyle","id","click"],[1,"p-autocomplete-empty-message"],["empty",""]],template:function(s,a){1&s&&(t.TgZ(0,"span",0,1),t.YNc(2,it,2,26,"input",2),t.YNc(3,B,6,23,"ul",3),t.YNc(4,ot,1,0,"i",4),t.YNc(5,St,2,3,"button",5),t.YNc(6,$,9,21,"div",6),t.qZA()),2&s&&(t.Tol(a.styleClass),t.Q6J("ngClass",t.WLB(9,ft,a.dropdown,a.multiple))("ngStyle",a.style),t.xp6(2),t.Q6J("ngIf",!a.multiple),t.xp6(1),t.Q6J("ngIf",a.multiple),t.xp6(1),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",a.dropdown),t.xp6(1),t.Q6J("ngIf",a.overlayVisible))},directives:[b.mk,b.PC,b.O5,b.sg,b.tP,D.Hq,Z.H,T.N7,T.xd,T.x0],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}"],encapsulation:2,data:{animation:[(0,C.X$)("overlayAnimation",[(0,C.eR)(":enter",[(0,C.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,C.jt)("{{showTransitionParams}}")]),(0,C.eR)(":leave",[(0,C.jt)("{{hideTransitionParams}}",(0,C.oB)({opacity:0}))])])]},changeDetection:0}),c})(),Dt=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[b.ez,S.j,D.hJ,k.m8,Z.T,T.Cl],k.m8,T.Cl]}),c})()}}]);
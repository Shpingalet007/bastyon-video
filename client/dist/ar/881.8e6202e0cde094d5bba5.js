"use strict";(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[881],{56924:(v,C,o)=>{o.d(C,{d:()=>_});var e=o(42741),p=o(41388);let _=(()=>{class a{constructor(g){this.config=g,this.config.setTranslation({dayNames:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],dayNamesShort:["\u0623\u062D\u062F","\u0625\u062B\u0646","\u062B\u0644\u0627","\u0623\u0631\u0628","\u062E\u0645\u064A","\u062C\u0645\u0639","\u0633\u0628\u062A"],dayNamesMin:["\u0623\u062D","\u0625\u062B","\u062B\u0644","\u0623\u0631","\u062E\u0645","\u062C\u0645","\u0633\u0628"],monthNames:["\u062C\u0627\u0646\u0641\u064A","\u0641\u064A\u0641\u0631\u064A","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064A\u0644","\u0645\u0627\u064A","\u062C\u0648\u0627\u0646","\u062C\u0648\u064A\u0644\u064A\u0629","\u0623\u0648\u062A","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],monthNamesShort:["\u062C\u0627\u0646","\u0641\u064A\u0641","\u0645\u0627\u0631","\u0623\u0641\u0631","\u0645\u0627\u064A","\u062C\u0648\u0627","\u062C\u0648\u064A","\u0623\u0648\u062A","\u0633\u0628\u062A","\u0623\u0643\u062A","\u0646\u0648\u0641","\u062F\u064A\u0633"],today:"\u0627\u0644\u064A\u0648\u0645",clear:"\u0645\u0633\u062D"})}getTimezone(){const g=(new Date).toString().match(/([A-Z]+[+-][0-9]+)/)[1];return`${Intl.DateTimeFormat().resolvedOptions().timeZone} - ${g}`}getDateFormat(){return "yy-mm-dd"}}return a.\u0275fac=function(g){return new(g||a)(e.LFG(p.b4))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})()},45574:(v,C,o)=>{function e(p,_,a){if(p.patchValue(_.toFormPatch()),!1===a)return;const O=[{url:"thumbnailUrl",name:"thumbnailfile"},{url:"previewUrl",name:"previewfile"}];for(const g of O)!_[g.url]||fetch(_[g.url]).then(m=>m.blob()).then(m=>{p.patchValue({[g.name]:m})})}o.d(C,{X:()=>e})},70006:(v,C,o)=>{o.d(C,{T:()=>ve});var e=o(19212),p=o(29230),_=o(42741),a=o(93324),O=o(86804);const m={VALIDATORS:[a.kI.required,a.kI.minLength(3),a.kI.maxLength(120)],MESSAGES:{required:"\u0627\u0633\u0645 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0645\u0637\u0644\u0648\u0628.",minlength:"\u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u0642\u0644 \u0637\u0648\u0644 \u0627\u0633\u0645 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0646 3 \u0645\u062D\u0627\u0631\u0641.",maxlength:"\u064A\u062C\u0628 \u0623\u0644\u0627\u0651 \u064A\u0632\u064A\u062F \u0637\u0648\u0644 \u0627\u0633\u0645 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0646 120 \u0645\u062D\u0631\u0641\u064B\u0627.",spaces:"Video name has leading or trailing whitespace."}},d={VALIDATORS:[a.kI.required],MESSAGES:{required:"\u062E\u0635\u0648\u0635\u064A\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0645\u0637\u0644\u0648\u0628\u0629."}},D={VALIDATORS:[],MESSAGES:{}},S={VALIDATORS:[],MESSAGES:{}},R={VALIDATORS:[],MESSAGES:{}},y={VALIDATORS:[a.kI.required],MESSAGES:{required:"\u0642\u0646\u0627\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0645\u0637\u0644\u0648\u0628\u0629."}},$={VALIDATORS:[a.kI.minLength(3),a.kI.maxLength(1e4)],MESSAGES:{minlength:"\u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u0642\u0644 \u0648\u0635\u0641 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0646 3 \u0645\u062D\u0627\u0631\u0641.",maxlength:"\u064A\u062C\u0628 \u0623\u0644\u0627\u0651 \u064A\u0632\u064A\u062F \u0648\u0635\u0641 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0646 10000 \u0645\u062D\u0631\u0641."}},F=(a.kI.minLength(2),a.kI.maxLength(30),"\u064A\u062C\u0628 \u0623\u0644\u0627\u0651 \u064A\u0642\u0644 \u0627\u0644\u0648\u0633\u0645 \u0639\u0646 \u0645\u062D\u0631\u0641\u064A\u0646.","\u064A\u062C\u0628 \u0623\u0644\u0627\u0651 \u064A\u0632\u064A\u062F \u0627\u0644\u0648\u0633\u0645 \u0639\u0646 30 \u0645\u062D\u0631\u0641\u0627.",{VALIDATORS:[a.kI.maxLength(5),function(t=2,l=30){return n=>n.value.every(c=>c.length>=t&&c.length<=l)?null:{arrayTagLength:!0}}()],MESSAGES:{maxlength:"\u0636\u0639 5 \u0648\u0633\u0648\u0645 \u0643\u062D\u062F \u0623\u0642\u0635\u0649 \u0644\u0643\u0644 \u0641\u064A\u062F\u064A\u0648.",arrayTagLength:"A tag should be more than 1 and less than 30 characters long."}}),I={VALIDATORS:[a.kI.minLength(3),a.kI.maxLength(1e3)],MESSAGES:{minlength:"\u064A\u062C\u0628 \u0623\u0644\u0627\u0651 \u064A\u0642\u0644 \u0646\u0635 \u062F\u0639\u0645 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0646 3 \u0645\u062D\u0627\u0631\u0641.",maxlength:"\u064A\u062C\u0628 \u0623\u0644\u0627\u0651 \u064A\u0632\u064A\u062F \u0646\u0635 \u062F\u0639\u0645 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0639\u0646 1000 \u0645\u062D\u0631\u0641."}},V={VALIDATORS:[],MESSAGES:{required:"\u0645\u0637\u0644\u0648\u0628 \u062A\u0627\u0631\u064A\u062E \u0644\u062C\u062F\u0648\u0644\u0629 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0641\u064A\u062F\u064A\u0648."}},u={VALIDATORS:[],MESSAGES:{}};var f=o(62026),h=o(84167),b=o(54755),E=o(33716),T=o(56924),r=o(76476),A=o(16274);const R_={VALIDATORS:[a.kI.required],MESSAGES:{required:"\u0644\u063A\u0629 \u0627\u0644\u062A\u0633\u0645\u064A\u0627\u062A \u0627\u0644\u062A\u0648\u0636\u064A\u062D\u064A\u0629 \u0644\u0644\u0641\u064A\u062F\u064A\u0648 \u0645\u0637\u0644\u0648\u0628\u0629."}},N_={VALIDATORS:[a.kI.required],MESSAGES:{required:"\u0645\u0644\u0641 \u0634\u0631\u062D \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0645\u0637\u0644\u0648\u0628."}};var Y=o(19895),M_=o(21499),V_=o(43582);const f_=["modal"];function P_(t,l){if(1&t&&(_.TgZ(0,"div",18),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.language," ")}}function h_(t,l){1&t&&(_.TgZ(0,"div",19),_.SDv(1,20),_.qZA())}function v_(t,l){if(1&t){const n=_.EpF();_.ynx(0,1),_.TgZ(1,"div",2),_.TgZ(2,"h4",3),_.SDv(3,4),_.qZA(),_.TgZ(4,"my-global-icon",5),_.NdJ("click",function(){return _.CHM(n),_.oxw().hide()}),_.qZA(),_.qZA(),_.TgZ(5,"div",6),_.TgZ(6,"label",7),_.SDv(7,8),_.qZA(),_.TgZ(8,"div",9),_._UZ(9,"ng-select",10),_.qZA(),_.YNc(10,P_,2,1,"div",11),_.TgZ(11,"div",12),_._UZ(12,"my-reactive-file",13),_.qZA(),_.YNc(13,h_,2,0,"div",14),_.qZA(),_.TgZ(14,"div",15),_.TgZ(15,"input",16),_.NdJ("click",function(){return _.CHM(n),_.oxw().hide()})("key.enter",function(){return _.CHM(n),_.oxw().hide()}),_.qZA(),_.TgZ(16,"input",17),_.NdJ("click",function(){return _.CHM(n),_.oxw().addCaption()}),_.qZA(),_.qZA(),_.BQk()}if(2&t){const n=_.oxw();_.Q6J("formGroup",n.form),_.xp6(9),_.Q6J("items",n.videoCaptionLanguages),_.xp6(1),_.Q6J("ngIf",n.formErrors.language),_.xp6(2),_.Q6J("extensions",n.videoCaptionExtensions)("maxFileSize",n.videoCaptionMaxSize)("displayFilename",!0)("ngbTooltip","(extensions: "+n.videoCaptionExtensions.join(", ")+")"),_.xp6(1),_.Q6J("ngIf",n.isReplacingExistingCaption()),_.xp6(3),_.Q6J("disabled",!n.form.valid)}}let L_=(()=>{class t extends h.OI{constructor(n,i,c){super(),this.formValidatorService=n,this.modalService=i,this.serverService=c,this.captionAdded=new _.vpe,this.videoCaptionLanguages=[],this.closingModal=!1}get videoCaptionExtensions(){return this.serverConfig.videoCaption.file.extensions}get videoCaptionMaxSize(){return this.serverConfig.videoCaption.file.size.max}ngOnInit(){this.serverService.getVideoLanguages().subscribe(n=>this.videoCaptionLanguages=n),this.buildForm({language:R_,captionfile:N_})}show(){this.closingModal=!1,this.openedModal=this.modalService.open(this.modal,{centered:!0,keyboard:!1})}hide(){this.closingModal=!0,this.openedModal.close(),this.form.reset()}isReplacingExistingCaption(){if(!0===this.closingModal)return!1;const n=this.form.value.language;return n&&this.existingCaptions.includes(n)}addCaption(){const n=this.form.value.language,i=this.videoCaptionLanguages.find(c=>c.id===n);this.captionAdded.emit({language:i,captionfile:this.form.value.captionfile}),this.hide()}}return t.\u0275fac=function(n){return new(n||t)(_.Y36(h.Q4),_.Y36(r.FF),_.Y36(b.NG))},t.\u0275cmp=_.Xpm({type:t,selectors:[["my-video-caption-add-modal"]],viewQuery:function(n,i){if(1&n&&_.Gf(f_,7),2&n){let c;_.iGM(c=_.CRH())&&(i.modal=c.first)}},inputs:{existingCaptions:"existingCaptions",serverConfig:"serverConfig"},outputs:{captionAdded:"captionAdded"},features:[_.qOj],decls:2,vars:0,consts:function(){let l,n,i,c,N,L;return l="\u0625\u0636\u0627\u0641\u0629 \u062A\u0633\u0645\u064A\u0629 \u062A\u0648\u0636\u064A\u062D\u064A\u0629",n="\u0627\u0644\u0644\u063A\u0629",i="\u062D\u062F\u062F \u0645\u0644\u0641 \u0627\u0644\u062A\u0633\u0645\u064A\u0629 \u0627\u0644\u062A\u0648\u0636\u064A\u062D\u064A\u0629",c="\u0623\u0644\u063A\u0650",N="\u0623\u0636\u0641 \u0647\u0630\u0627 \u0627\u0644\u062A\u0633\u0645\u064A\u0629 \u0627\u0644\u062A\u0648\u0636\u064A\u062D\u064A\u0629",L="\u0633\u064A\u0624\u062F\u064A \u0647\u0630\u0627 \u0625\u0644\u0649 \u0627\u0633\u062A\u0628\u062F\u0627\u0644 \u062A\u0633\u0645\u064A\u0629 \u062A\u0648\u0636\u064A\u062D\u064A\u0629 \u0645\u0648\u062C\u0648\u062F\u0629!",[["modal",""],[3,"formGroup"],[1,"modal-header"],[1,"modal-title"],l,["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["for","language"],n,[1,"peertube-ng-select-container"],["labelForId","language","formControlName","language","bindLabel","label","bindValue","id",3,"items"],["class","form-error",4,"ngIf"],[1,"caption-file"],["formControlName","captionfile","inputName","captionfile","inputLabel",i,3,"extensions","maxFileSize","displayFilename","ngbTooltip"],["class","warning-replace-caption",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button","value",c,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",N,1,"peertube-button","orange-button",3,"disabled","click"],[1,"form-error"],[1,"warning-replace-caption"],L]},template:function(n,i){1&n&&_.YNc(0,v_,17,9,"ng-template",null,0,_.W1O)},directives:[a.JL,a.sg,Y.$,M_.w9,a.JJ,a.u,A.O5,V_.G,r._L],styles:["label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.caption-file[_ngcontent-%COMP%]{margin-top:20px;width:-webkit-max-content;width:max-content}.caption-file[_ngcontent-%COMP%]     .root{width:-webkit-max-content;width:max-content}.warning-replace-caption[_ngcontent-%COMP%]{color:red;margin-top:10px}"]}),t})();var y_=o(6733),b_=o(73797),x_=o(18736),$_=o(97603),F_=o(70330),Z_=o(75155),U_=o(24333),w_=o(13859),B_=o(7160),Y_=o(2003),H_=o(62392),K_=o(60467);const G_=["videoCaptionAddModal"];function z_(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.name," ")}}function k_(t,l){1&t&&(_.ynx(0),_.tHW(1,49),_._UZ(2,"br"),_._UZ(3,"br"),_._UZ(4,"kbd"),_.N_p(),_.BQk())}function X_(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.tags," ")}}function J_(t,l){1&t&&(_.ynx(0),_.SDv(1,50),_.BQk())}function Q_(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.description," ")}}function q_(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.category," ")}}function W_(t,l){1&t&&(_.ynx(0),_.tHW(1,51),_._UZ(2,"a",52),_.N_p(),_.BQk())}function j_(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.licence," ")}}function _e(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.language," ")}}function ee(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.privacy," ")}}function ne(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(3);_.xp6(1),_.hij(" ",n.formErrors.schedulePublicationAt," ")}}function te(t,l){if(1&t&&(_.TgZ(0,"div",14),_.TgZ(1,"label",53),_.SDv(2,54),_.qZA(),_._UZ(3,"p-calendar",55),_.YNc(4,ne,2,1,"div",18),_.qZA()),2&t){const n=_.oxw(2);_.xp6(2),_.pQV(n.calendarTimezone),_.QtT(2),_.xp6(1),_.Q6J("dateFormat",n.calendarDateFormat)("firstDayOfWeek",0)("minDate",n.minScheduledDate)("showTime",!0)("hideOnDateTimeSelect",!0),_.xp6(1),_.Q6J("ngIf",n.formErrors.schedulePublicationAt)}}function oe(t,l){1&t&&(_.ynx(0),_.SDv(1,56),_.BQk())}function ie(t,l){1&t&&(_.ynx(0),_.SDv(1,57),_.BQk())}function ae(t,l){1&t&&(_.ynx(0),_.SDv(1,59),_.BQk())}function re(t,l){1&t&&(_.ynx(0),_.SDv(1,60),_.BQk())}function le(t,l){1&t&&(_.TgZ(0,"my-peertube-checkbox",58),_.YNc(1,ae,2,0,"ng-template",45),_.YNc(2,re,2,0,"ng-template",46),_.qZA())}function Ee(t,l){if(1&t&&(_.TgZ(0,"div",12),_.TgZ(1,"div",13),_.TgZ(2,"div",14),_.TgZ(3,"label",15),_.SDv(4,16),_.qZA(),_._UZ(5,"input",17),_.YNc(6,z_,2,1,"div",18),_.qZA(),_.TgZ(7,"div",14),_.TgZ(8,"label",19),_.SDv(9,20),_.qZA(),_.TgZ(10,"my-help"),_.YNc(11,k_,5,0,"ng-template",21),_.qZA(),_._UZ(12,"my-select-tags",22),_.YNc(13,X_,2,1,"div",18),_.qZA(),_.TgZ(14,"div",14),_.TgZ(15,"label",23),_.SDv(16,24),_.qZA(),_.TgZ(17,"my-help",25),_.YNc(18,J_,2,0,"ng-template",26),_.qZA(),_._UZ(19,"my-markdown-textarea",27),_.YNc(20,Q_,2,1,"div",18),_.qZA(),_.qZA(),_.TgZ(21,"div",13),_.TgZ(22,"div",14),_.TgZ(23,"label",28),_.SDv(24,29),_.qZA(),_._UZ(25,"my-select-channel",30),_.qZA(),_.TgZ(26,"div",14),_.TgZ(27,"label",31),_.SDv(28,32),_.qZA(),_._UZ(29,"my-select-options",33),_.YNc(30,q_,2,1,"div",18),_.qZA(),_.TgZ(31,"div",14),_.TgZ(32,"label",34),_.SDv(33,35),_.qZA(),_.TgZ(34,"my-help"),_.YNc(35,W_,3,0,"ng-template",21),_.qZA(),_._UZ(36,"my-select-options",36),_.YNc(37,j_,2,1,"div",18),_.qZA(),_.TgZ(38,"div",14),_.TgZ(39,"label",37),_.SDv(40,38),_.qZA(),_._UZ(41,"my-select-options",39),_.YNc(42,_e,2,1,"div",18),_.qZA(),_.TgZ(43,"div",14),_.TgZ(44,"label",40),_.SDv(45,41),_.qZA(),_._UZ(46,"my-select-options",42),_.YNc(47,ee,2,1,"div",18),_.qZA(),_.YNc(48,te,5,7,"div",43),_.TgZ(49,"my-peertube-checkbox",44),_.YNc(50,oe,2,0,"ng-template",45),_.YNc(51,ie,2,0,"ng-template",46),_.qZA(),_.YNc(52,le,3,0,"my-peertube-checkbox",47),_.qZA(),_.qZA()),2&t){const n=_.oxw();_.xp6(6),_.Q6J("ngIf",n.formErrors.name),_.xp6(7),_.Q6J("ngIf",n.formErrors.tags),_.xp6(6),_.Q6J("truncate",250)("markdownVideo",n.videoToUpdate),_.xp6(1),_.Q6J("ngIf",n.formErrors.description),_.xp6(5),_.Q6J("items",n.userVideoChannels),_.xp6(4),_.Q6J("items",n.videoCategories)("clearable",!0),_.xp6(1),_.Q6J("ngIf",n.formErrors.category),_.xp6(6),_.Q6J("items",n.videoLicences)("clearable",!0),_.xp6(1),_.Q6J("ngIf",n.formErrors.licence),_.xp6(4),_.Q6J("items",n.videoLanguages)("clearable",!0)("searchable",!0)("groupBy","group"),_.xp6(1),_.Q6J("ngIf",n.formErrors.language),_.xp6(4),_.Q6J("items",n.videoPrivacies)("clearable",!1),_.xp6(1),_.Q6J("ngIf",n.formErrors.privacy),_.xp6(1),_.Q6J("ngIf",n.schedulePublicationEnabled),_.xp6(4),_.Q6J("ngIf",n.waitTranscodingEnabled)}}function ce(t,l){if(1&t){const n=_.EpF();_.ynx(0),_.TgZ(1,"a",71),_._uU(2),_.qZA(),_.TgZ(3,"div",72),_.SDv(4,73),_.qZA(),_.TgZ(5,"span",74),_.NdJ("click",function(){_.CHM(n);const c=_.oxw().$implicit;return _.oxw(3).deleteCaption(c)}),_.SDv(6,75),_.qZA(),_.BQk()}if(2&t){const n=_.oxw().$implicit;_.xp6(1),_.Q6J("href",n.captionPath,_.LSH),_.xp6(1),_.Oqu(n.language.label)}}function se(t,l){if(1&t){const n=_.EpF();_.ynx(0),_.TgZ(1,"span",76),_._uU(2),_.qZA(),_.TgZ(3,"div",77),_.SDv(4,78),_.qZA(),_.TgZ(5,"span",74),_.NdJ("click",function(){_.CHM(n);const c=_.oxw().$implicit;return _.oxw(3).deleteCaption(c)}),_.SDv(6,79),_.qZA(),_.BQk()}if(2&t){const n=_.oxw().$implicit;_.xp6(2),_.Oqu(n.language.label)}}function de(t,l){if(1&t){const n=_.EpF();_.ynx(0),_.TgZ(1,"span",76),_._uU(2),_.qZA(),_.TgZ(3,"div",80),_.SDv(4,81),_.qZA(),_.TgZ(5,"span",74),_.NdJ("click",function(){_.CHM(n);const c=_.oxw().$implicit;return _.oxw(3).deleteCaption(c)}),_.SDv(6,82),_.qZA(),_.BQk()}if(2&t){const n=_.oxw().$implicit;_.xp6(2),_.Oqu(n.language.label)}}function ge(t,l){if(1&t&&(_.TgZ(0,"div",14),_.TgZ(1,"div",69),_.YNc(2,ce,7,2,"ng-container",70),_.YNc(3,se,7,1,"ng-container",70),_.YNc(4,de,7,1,"ng-container",70),_.qZA(),_.qZA()),2&t){const n=l.$implicit;_.xp6(2),_.Q6J("ngIf",!n.action),_.xp6(1),_.Q6J("ngIf","CREATE"===n.action),_.xp6(1),_.Q6J("ngIf","REMOVE"===n.action)}}function pe(t,l){1&t&&(_.TgZ(0,"div",83),_.SDv(1,84),_.qZA())}function Se(t,l){if(1&t){const n=_.EpF();_.TgZ(0,"div",62),_.TgZ(1,"div",63),_.TgZ(2,"a",64),_.NdJ("click",function(){return _.CHM(n),_.oxw(2).openAddCaptionModal()}),_._UZ(3,"my-global-icon",65),_.ynx(4),_.SDv(5,66),_.BQk(),_.qZA(),_.qZA(),_.YNc(6,ge,5,3,"div",67),_.YNc(7,pe,2,0,"div",68),_.qZA()}if(2&t){const n=_.oxw(2);_.xp6(6),_.Q6J("ngForOf",n.videoCaptions),_.xp6(1),_.Q6J("ngIf",0===(null==n.videoCaptions?null:n.videoCaptions.length))}}function ue(t,l){1&t&&(_.ynx(0,3),_.TgZ(1,"a",4),_.SDv(2,61),_.qZA(),_.YNc(3,Se,8,2,"ng-template",6),_.BQk())}function De(t,l){1&t&&(_.ynx(0),_.SDv(1,100),_.BQk())}function Oe(t,l){1&t&&(_.ynx(0),_.SDv(1,103),_.BQk())}function me(t,l){1&t&&(_.TgZ(0,"div",14),_.TgZ(1,"my-peertube-checkbox",101),_.YNc(2,Oe,2,0,"ng-template",45),_.ynx(3,98),_.TgZ(4,"span"),_.SDv(5,102),_.qZA(),_.BQk(),_.qZA(),_.qZA())}function Te(t,l){if(1&t&&(_.TgZ(0,"div",86),_.TgZ(1,"div",87),_.TgZ(2,"div",88),_._UZ(3,"my-live-documentation-link"),_.qZA(),_.TgZ(4,"div",14),_.TgZ(5,"label",89),_.SDv(6,90),_.qZA(),_._UZ(7,"my-input-toggle-hidden",91),_.qZA(),_.TgZ(8,"div",14),_.TgZ(9,"label",92),_.SDv(10,93),_.qZA(),_._UZ(11,"my-input-toggle-hidden",94),_.TgZ(12,"div",95),_.SDv(13,96),_.qZA(),_.qZA(),_.TgZ(14,"div",14),_.TgZ(15,"my-peertube-checkbox",97),_.YNc(16,De,2,0,"ng-template",45),_.ynx(17,98),_.TgZ(18,"span"),_.SDv(19,99),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.YNc(20,me,6,0,"div",43),_.qZA(),_.qZA()),2&t){const n=_.oxw(2);_.xp6(7),_.Q6J("value",n.liveVideo.rtmpUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),_.xp6(4),_.Q6J("value",n.liveVideo.streamKey)("withCopy",!0)("readonly",!0),_.xp6(9),_.Q6J("ngIf",n.isSaveReplayEnabled())}}function Ce(t,l){1&t&&(_.ynx(0,3),_.TgZ(1,"a",4),_.SDv(2,85),_.qZA(),_.YNc(3,Te,21,9,"ng-template",6),_.BQk())}function Ie(t,l){1&t&&(_.ynx(0),_.SDv(1,120),_.BQk())}function Ae(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.support," ")}}function Re(t,l){1&t&&(_.ynx(0),_.SDv(1,121),_.BQk())}function Ne(t,l){if(1&t&&(_.TgZ(0,"div",48),_._uU(1),_.qZA()),2&t){const n=_.oxw(2);_.xp6(1),_.hij(" ",n.formErrors.originallyPublishedAt," ")}}const Me=function(t){return{"input-error":t}};function Ve(t,l){if(1&t&&(_.TgZ(0,"div",104),_.TgZ(1,"div",105),_.TgZ(2,"div",14),_.TgZ(3,"label",106),_.SDv(4,107),_.qZA(),_._UZ(5,"my-preview-upload",108),_.qZA(),_.TgZ(6,"div",14),_.TgZ(7,"label",109),_.SDv(8,110),_.qZA(),_.TgZ(9,"my-help",111),_.YNc(10,Ie,2,0,"ng-template",26),_.qZA(),_._UZ(11,"my-markdown-textarea",112),_.YNc(12,Ae,2,1,"div",18),_.qZA(),_.qZA(),_.TgZ(13,"div",113),_.TgZ(14,"div",114),_.TgZ(15,"label",115),_.SDv(16,116),_.qZA(),_.TgZ(17,"my-help"),_.YNc(18,Re,2,0,"ng-template",26),_.qZA(),_._UZ(19,"p-calendar",117),_.YNc(20,Ne,2,1,"div",18),_.qZA(),_._UZ(21,"my-peertube-checkbox",118),_._UZ(22,"my-peertube-checkbox",119),_.qZA(),_.qZA()),2&t){const n=_.oxw();_.xp6(11),_.Q6J("classes",_.VKq(10,Me,n.formErrors.support)),_.xp6(1),_.Q6J("ngIf",n.formErrors.support),_.xp6(7),_.Q6J("dateFormat",n.calendarDateFormat)("firstDayOfWeek",0)("showTime",!0)("hideOnDateTimeSelect",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",n.myYearRange),_.xp6(1),_.Q6J("ngIf",n.formErrors.originallyPublishedAt)}}function fe(t,l){if(1&t&&(_.TgZ(0,"div",125),_._UZ(1,"my-dynamic-form-field",126),_.qZA()),2&t){const n=l.$implicit,i=_.oxw(3);_.Q6J("hidden",i.isPluginFieldHidden(n)),_.xp6(1),_.Q6J("form",i.pluginDataFormGroup)("formErrors",i.formErrors)("setting",n.commonOptions)}}function Pe(t,l){if(1&t&&(_.TgZ(0,"div",123),_.TgZ(1,"div",105),_.YNc(2,fe,2,4,"div",124),_.qZA(),_.qZA()),2&t){const n=_.oxw(2);_.xp6(2),_.Q6J("ngForOf",n.pluginFields)}}function he(t,l){1&t&&(_.ynx(0,3),_.TgZ(1,"a",4),_.SDv(2,122),_.qZA(),_.YNc(3,Pe,3,1,"ng-template",6),_.BQk())}let ve=(()=>{class t{constructor(n,i,c,N,L,P,U,w){this.formValidatorService=n,this.videoService=i,this.serverService=c,this.pluginService=N,this.instanceService=L,this.i18nPrimengCalendarService=P,this.ngZone=U,this.hooks=w,this.formErrors={},this.validationMessages={},this.userVideoChannels=[],this.schedulePublicationPossible=!0,this.videoCaptions=[],this.waitTranscodingEnabled=!0,this.pluginFieldsAdded=new _.vpe,this.SPECIAL_SCHEDULED_PRIVACY=f.fc.SPECIAL_SCHEDULED_PRIVACY,this.videoPrivacies=[],this.videoCategories=[],this.videoLicences=[],this.videoLanguages=[],this.schedulePublicationEnabled=!1,this.calendarLocale={},this.minScheduledDate=new Date,this.myYearRange="1880:"+(new Date).getFullYear(),this.pluginFields=[],this.firstPatchDone=!1,this.initialVideoCaptions=[],this.calendarTimezone=this.i18nPrimengCalendarService.getTimezone(),this.calendarDateFormat=this.i18nPrimengCalendarService.getDateFormat()}updateForm(){this.formValidatorService.updateForm(this.form,this.formErrors,this.validationMessages,{name:m,privacy:d,channelId:y,nsfw:null,commentsEnabled:null,downloadEnabled:null,waitTranscoding:null,category:D,licence:S,language:R,description:$,tags:F,previewfile:null,support:I,schedulePublicationAt:V,originallyPublishedAt:u,liveStreamKey:null,permanentLive:null,saveReplay:null},{nsfw:"false",commentsEnabled:"true",downloadEnabled:"true",waitTranscoding:"true",tags:[]}),this.form.addControl("captions",new a.Oe([new a.cw({language:new a.NI,captionfile:new a.NI})])),this.trackChannelChange(),this.trackPrivacyChange(),this.trackLivePermanentFieldChange()}ngOnInit(){this.updateForm(),this.pluginService.ensurePluginsAreLoaded("video-edit").then(()=>this.updatePluginFields()),this.serverService.getVideoCategories().subscribe(n=>this.videoCategories=n),this.serverService.getVideoLicences().subscribe(n=>this.videoLicences=n),(0,e.D)([this.instanceService.getAbout(),this.serverService.getVideoLanguages()]).pipe((0,p.U)(([n,i])=>({about:n,languages:i}))).subscribe(n=>{this.videoLanguages=n.languages.map(i=>n.about.instance.languages.includes(i.id)?Object.assign(Object.assign({},i),{group:"\u0644\u063A\u0627\u062A \u0627\u0644\u0645\u062B\u064A\u0644",groupOrder:0}):Object.assign(Object.assign({},i),{group:"\u0643\u0644 \u0627\u0644\u0644\u063A\u0627\u062A",groupOrder:1})).sort((i,c)=>i.groupOrder-c.groupOrder)}),this.serverService.getVideoPrivacies().subscribe(n=>{this.videoPrivacies=this.videoService.explainedPrivacyLabels(n).videoPrivacies,this.schedulePublicationPossible&&this.videoPrivacies.push({id:this.SPECIAL_SCHEDULED_PRIVACY,label:"\u0645\u062C\u062F\u0648\u0644",description:"\u0623\u062E\u0641\u0650 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u062D\u062A\u0649 \u062A\u0627\u0631\u064A\u062E \u0645\u0639\u064A\u0646"})}),this.serverConfig=this.serverService.getHTMLConfig(),this.initialVideoCaptions=this.videoCaptions.map(n=>n.language.id),this.ngZone.runOutsideAngular(()=>{this.schedulerInterval=setInterval(()=>this.minScheduledDate=new Date,6e4)}),this.hooks.runAction("action:video-edit.init","video-edit",{type:this.type})}ngOnDestroy(){this.schedulerInterval&&clearInterval(this.schedulerInterval)}getExistingCaptions(){return this.videoCaptions.filter(n=>"REMOVE"!==n.action).map(n=>n.language.id)}onCaptionAdded(n){const i=this.videoCaptions.find(c=>c.language.id===n.language.id);i?Object.assign(i,n,{action:"CREATE"}):this.videoCaptions.push(Object.assign(n,{action:"CREATE"})),this.sortVideoCaptions()}deleteCaption(n){n.action&&this.initialVideoCaptions.includes(n.language.id)?n.action=void 0:"CREATE"!==n.action?n.action="REMOVE":(0,O.sL)(this.videoCaptions,n)}openAddCaptionModal(){this.videoCaptionAddModal.show()}isSaveReplayEnabled(){return this.serverConfig.live.allowReplay}isPermanentLiveEnabled(){return!0===this.form.value.permanentLive}isPluginFieldHidden(n){return"function"==typeof n.commonOptions.hidden&&n.commonOptions.hidden({formValues:this.form.value,videoToUpdate:this.videoToUpdate,liveVideo:this.liveVideo})}sortVideoCaptions(){this.videoCaptions.sort((n,i)=>n.language.label<i.language.label?-1:n.language.label===i.language.label?0:1)}updatePluginFields(){if(this.pluginFields=this.pluginService.getRegisteredVideoFormFields(this.type),0===this.pluginFields.length)return;const n={};for(const i of this.pluginFields)n[i.commonOptions.name]=new a.NI(i.commonOptions.default);this.pluginDataFormGroup=new a.cw(n),this.form.addControl("pluginData",this.pluginDataFormGroup),this.pluginFieldsAdded.emit()}trackPrivacyChange(){this.form.controls.privacy.valueChanges.pipe((0,p.U)(n=>parseInt(n.toString(),10))).subscribe(n=>{this.schedulePublicationEnabled=n===this.SPECIAL_SCHEDULED_PRIVACY;const i=this.form.get("schedulePublicationAt"),c=this.form.get("waitTranscoding");this.schedulePublicationEnabled?(i.setValidators([a.kI.required]),c.disable(),c.setValue(!1)):(i.clearValidators(),c.enable(),!0===this.firstPatchDone&&c.setValue(!0)),i.updateValueAndValidity(),c.updateValueAndValidity(),this.firstPatchDone=!0})}trackChannelChange(){this.form.controls.channelId.valueChanges.pipe((0,p.U)(n=>parseInt(n.toString(),10))).subscribe(n=>{const i=parseInt(this.form.value.channelId,10);if(isNaN(n))return;const c=this.userVideoChannels.find(N=>N.id===n);!c||setTimeout(()=>{const N=this.form.value.support;if(isNaN(i))return void(N||this.updateSupportField(c.support));const L=this.userVideoChannels.find(P=>P.id===i);c&&L?N&&N!==L.support||this.updateSupportField(c.support):console.error("Cannot find new or old channel.")})})}trackLivePermanentFieldChange(){this.form.controls.permanentLive.valueChanges.subscribe(n=>{const i=this.form.controls.saveReplay;!0===n?(i.setValue(!1),i.disable()):i.enable()})}updateSupportField(n){return this.form.patchValue({support:n||""})}}return t.\u0275fac=function(n){return new(n||t)(_.Y36(h.Q4),_.Y36(f.kI),_.Y36(b.NG),_.Y36(b.H0),_.Y36(E._G),_.Y36(T.d),_.Y36(_.R0b),_.Y36(b.nT))},t.\u0275cmp=_.Xpm({type:t,selectors:[["my-video-edit"]],viewQuery:function(n,i){if(1&n&&_.Gf(G_,7),2&n){let c;_.iGM(c=_.CRH())&&(i.videoCaptionAddModal=c.first)}},inputs:{form:"form",formErrors:"formErrors",validationMessages:"validationMessages",videoToUpdate:"videoToUpdate",userVideoChannels:"userVideoChannels",schedulePublicationPossible:"schedulePublicationPossible",videoCaptions:"videoCaptions",waitTranscodingEnabled:"waitTranscodingEnabled",type:"type",liveVideo:"liveVideo"},outputs:{pluginFieldsAdded:"pluginFieldsAdded"},decls:17,vars:7,consts:function(){let l,n,i,c,N,L,P,U,w,H,B,K,G,z,k,X,J,Q,q,W,j,__,e_,n_,t_,o_,i_,a_,r_,l_,E_,c_,s_,d_,g_,p_,S_,u_,D_,O_,m_,T_,C_,I_,A_;return l="\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0623\u0633\u0627\u0633\u064A\u0629",n="\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629",i="\u0627\u0644\u0639\u0646\u0648\u0627\u0646",c="\u0627\u0644\u0648\u0633\u0648\u0645",N="\u0627\u0644\u0648\u0635\u0641",L="\u0627\u0644\u0642\u0646\u0627\u0629",P="\u0627\u0644\u0641\u0626\u0629",U="\u0627\u0644\u0631\u062E\u0635\u0629",w="\u0627\u0644\u0644\u063A\u0629",H="\u0627\u0644\u062E\u0635\u0648\u0635\u064A\u0629",B="Tags could be used to suggest relevant recommendations. " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " There is a maximum of 5 tags. " + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Press " + "\ufffd#4\ufffd" + "Enter" + "\ufffd/#4\ufffd" + " to add a new tag. ",B=_.Zx4(B),K="\u064A\u062A\u0645 \u0627\u0642\u062A\u0637\u0627\u0639 \u0623\u0648\u0635\u0627\u0641 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u0628\u0634\u0643\u0644 \u0627\u0641\u062A\u0631\u0627\u0636\u064A \u0648\u062A\u062A\u0637\u0644\u0628 \u0625\u062C\u0631\u0627\u0621\u064B \u064A\u062F\u0648\u064A\u064B\u0627 \u0644\u062A\u0648\u0633\u064A\u0639\u0647\u0627.",G="" + "\ufffd#2\ufffd" + "Choose" + "\ufffd/#2\ufffd" + " the appropriate licence for your work. ",z="\u0646\u0634\u0631 \u0645\u062C\u062F\u0648\u0644(" + "\ufffd0\ufffd" + ")",k="\u064A\u062D\u062A\u0648\u064A \u0645\u062D\u062A\u0648\u064B\u0627 \u062D\u0633\u0627\u0633\u0627\u064B",X="Some instances hide videos containing mature or explicit content by default.",J="\u0623\u0646\u0634\u0631 \u0628\u0639\u062F \u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u062A\u0631\u0645\u064A\u0632",Q="\u0625\u0630\u0627 \u0642\u0631\u0631\u062A \u0639\u062F\u0645 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 \u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u0634\u0641\u0631\u0629 \u0642\u0628\u0644 \u0646\u0634\u0631 \u0627\u0644\u0641\u064A\u062F\u064A\u0648 \u060C \u0641\u0642\u062F \u064A\u0643\u0648\u0646 \u063A\u064A\u0631 \u0642\u0627\u0628\u0644 \u0644\u0644\u062A\u0634\u063A\u064A\u0644 \u062D\u062A\u0649 \u064A\u0646\u062A\u0647\u064A \u0627\u0644\u062A\u062D\u0648\u064A\u0644.",q="\u0627\u0644\u062A\u0633\u0645\u064A\u0627\u062A \u0627\u0644\u062A\u0648\u0636\u064A\u062D\u064A\u0629",W="\u0623\u0636\u0641 \u062A\u0633\u0645\u064A\u0629 \u062A\u0648\u0636\u064A\u062D\u064A\u0629 \u0623\u062E\u0631\u0649",j="\u0627\u0639\u0631\u0636 \u0645\u0644\u0641 \u0627\u0644\u062A\u0631\u062C\u0645\u0629",__="\u062A\u0645 \u0627\u0644\u0631\u0641\u0639 \u0628\u0627\u0644\u0641\u0639\u0644 \u2714",e_="\u0627\u062D\u0630\u0641",n_="\u0633\u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0624\u0647 \u0639\u0646\u062F \u0627\u0644\u062A\u062D\u062F\u064A\u062B",t_="\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0625\u0646\u0634\u0627\u0621",o_="\u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647 \u0639\u0646\u062F \u0627\u0644\u062A\u062D\u062F\u064A\u062B",i_="\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u062D\u0630\u0641",a_="\u0644\u0627 \u062A\u0633\u0645\u064A\u0629 \u062A\u0648\u0636\u064A\u062D\u064A\u0629 \u062D\u062A\u0649 \u0627\u0644\u0622\u0646.",r_="Live settings",l_="Live RTMP Url",E_="Live stream key",c_="\u26A0\uFE0F Never share your stream key with anyone.",s_="You can stream multiple times in a permanent live. The URL for your viewers won't change but you cannot save replays of your lives",d_="This is a permanent live",g_="\u26A0\uFE0F If you enable this option, your live will be terminated if you exceed your video quota",p_="Automatically publish a replay when your live ends",S_="\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0641\u064A\u062F\u064A\u0648",u_="\u062D\u0631\u0631",D_="\u0627\u0644\u062F\u0639\u0645",O_="\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0634\u0631 \u0627\u0644\u0623\u0635\u0644\u064A",m_="\u0627\u0644\u0633\u0645\u0627\u062D \u0628\u0627\u0644\u062A\u0639\u0644\u064A\u0642 \u0639\u0644\u0649 \u0627\u0644\u0641\u064A\u062F\u064A\u0648\u0647\u0627\u062A",T_="\u0641\u0639\u0651\u0644 \u0627\u0644\u062A\u0646\u0632\u064A\u0644",C_="\u0646\u0635 \u0642\u0635\u064A\u0631 \u0644\u0625\u062E\u0628\u0627\u0631 \u0627\u0644\u0646\u0627\u0633 \u0639\u0646 \u0637\u0631\u0642 \u062F\u0639\u0645\u0647\u0645 \u0644\u0643.",I_="\u0647\u0630\u0627 \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0623\u0635\u0644\u064A \u0644\u0646\u0634\u0631 \u0627\u0644\u0645\u062D\u062A\u0648\u0649 (\u0645\u062B\u0644\u0627 \u062A\u0627\u0631\u064A\u062E \u0635\u062F\u0648\u0631 \u0627\u0644\u0641\u0644\u0645)",A_="\u0627\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0627\u0636\u0627\u0641\u0629",[[1,"video-edit",3,"formGroup"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],l,["ngbNavContent",""],["ngbNavItem","",4,"ngIf"],n,[3,"ngbNavOutlet"],[3,"existingCaptions","serverConfig","captionAdded"],["videoCaptionAddModal",""],[1,"form-columns"],[1,"col-video-edit"],[1,"form-group"],["for","name"],i,["type","text","id","name","formControlName","name",1,"form-control"],["class","form-error",4,"ngIf"],[1,"label-tags"],c,["ptTemplate","customHtml"],["labelForId","label-tags","formControlName","tags"],["for","description"],N,["helpType","markdownText"],["ptTemplate","preHtml"],["formControlName","description",3,"truncate","markdownVideo"],["for","channel"],L,["labelForId","channel","formControlName","channelId",3,"items"],["for","category"],P,["labelForId","category","formControlName","category",3,"items","clearable"],["for","licence"],U,["labelForId","licence","formControlName","licence",3,"items","clearable"],["for","language"],w,["labelForId","language","formControlName","language",3,"items","clearable","searchable","groupBy"],["for","privacy"],H,["labelForId","privacy","formControlName","privacy",3,"items","clearable"],["class","form-group",4,"ngIf"],["inputName","nsfw","formControlName","nsfw","helpPlacement","bottom-right"],["ptTemplate","label"],["ptTemplate","help"],["inputName","waitTranscoding","formControlName","waitTranscoding","helpPlacement","bottom-right",4,"ngIf"],[1,"form-error"],B,K,G,["href","https://chooser-beta.creativecommons.org/","target","_blank","rel","noopener noreferrer"],["for","schedulePublicationAt"],z,["id","schedulePublicationAt","formControlName","schedulePublicationAt",3,"dateFormat","firstDayOfWeek","minDate","showTime","hideOnDateTimeSelect"],k,X,["inputName","waitTranscoding","formControlName","waitTranscoding","helpPlacement","bottom-right"],J,Q,q,[1,"captions"],[1,"captions-header"],[1,"create-caption",3,"click"],["iconName","add","aria-hidden","true"],W,["class","form-group",4,"ngFor","ngForOf"],["class","no-caption",4,"ngIf"],[1,"caption-entry"],[4,"ngIf"],["title",j,"target","_blank","rel","noopener noreferrer",1,"caption-entry-label",3,"href"],[1,"caption-entry-state"],__,[1,"caption-entry-delete",3,"click"],e_,[1,"caption-entry-label"],[1,"caption-entry-state","caption-entry-state-create"],n_,t_,[1,"caption-entry-state","caption-entry-state-delete"],o_,i_,[1,"no-caption"],a_,r_,[1,"row","live-settings"],[1,"col-md-12"],[1,"alert","alert-info"],["for","liveVideoRTMPUrl"],l_,["inputId","liveVideoRTMPUrl",3,"value","withToggle","withCopy","show","readonly"],["for","liveVideoStreamKey"],E_,["inputId","liveVideoStreamKey",3,"value","withCopy","readonly"],[1,"form-group-description"],c_,["inputName","liveVideoPermanentLive","formControlName","permanentLive"],["ngProjectAs","description",5,["description"]],s_,d_,["inputName","liveVideoSaveReplay","formControlName","saveReplay"],g_,p_,[1,"row","advanced-settings"],[1,"col-md-12","col-xl-8"],["for","previewfile"],S_,["inputLabel",u_,"inputName","previewfile","formControlName","previewfile","previewWidth","360px","previewHeight","200px"],["for","support"],D_,["helpType","markdownEnhanced"],["id","support","formControlName","support","markdownType","enhanced",3,"classes"],[1,"col-md-12","col-xl-4"],[1,"form-group","originally-published-at"],["for","originallyPublishedAt"],O_,["id","originallyPublishedAt","formControlName","originallyPublishedAt",3,"dateFormat","firstDayOfWeek","showTime","hideOnDateTimeSelect","monthNavigator","yearNavigator","yearRange"],["inputName","commentsEnabled","formControlName","commentsEnabled","labelText",m_],["inputName","downloadEnabled","formControlName","downloadEnabled","labelText",T_],C_,I_,A_,[1,"row","plugin-settings"],["class","form-group",3,"hidden",4,"ngFor","ngForOf"],[1,"form-group",3,"hidden"],[3,"form","formErrors","setting"]]},template:function(n,i){if(1&n&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1,2),_.ynx(3,3),_.TgZ(4,"a",4),_.SDv(5,5),_.qZA(),_.YNc(6,Ee,53,22,"ng-template",6),_.BQk(),_.YNc(7,ue,4,0,"ng-container",7),_.YNc(8,Ce,4,0,"ng-container",7),_.ynx(9,3),_.TgZ(10,"a",4),_.SDv(11,8),_.qZA(),_.YNc(12,Ve,23,12,"ng-template",6),_.BQk(),_.YNc(13,he,4,0,"ng-container",7),_.qZA(),_._UZ(14,"div",9),_.qZA(),_.TgZ(15,"my-video-caption-add-modal",10,11),_.NdJ("captionAdded",function(N){return i.onCaptionAdded(N)}),_.qZA()),2&n){const c=_.MAs(2);_.Q6J("formGroup",i.form),_.xp6(7),_.Q6J("ngIf",!i.liveVideo),_.xp6(1),_.Q6J("ngIf",i.liveVideo),_.xp6(5),_.Q6J("ngIf",0!==i.pluginFields.length),_.xp6(1),_.Q6J("ngbNavOutlet",c),_.xp6(1),_.Q6J("existingCaptions",i.getExistingCaptions())("serverConfig",i.serverConfig)}},directives:[a.JL,a.sg,r.Pz,r.nv,r.Vx,r.uN,A.O5,r.tO,L_,a.Fj,a.JJ,a.u,y_.I,b_.Y,x_.j,$_.c,F_.A,Z_.I,U_.P,w_.f,Y.$,A.sg,B_.z,Y_.X,H_.T,K_.q],styles:['label[_ngcontent-%COMP%], my-dynamic-form-field[_ngcontent-%COMP%]     label{font-weight:400;font-size:100%}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;opacity:.8}my-peertube-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}.nav-tabs[_ngcontent-%COMP%]{margin-bottom:15px}.video-edit[_ngcontent-%COMP%]{height:100%;min-height:300px}.video-edit[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.video-edit[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.video-edit[_ngcontent-%COMP%]   .label-tags[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px}.video-edit[_ngcontent-%COMP%]   .advanced-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.captions-header[_ngcontent-%COMP%]{text-align:end;margin-bottom:1rem}.create-caption[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.create-caption[_ngcontent-%COMP%]:hover, .create-caption[_ngcontent-%COMP%]:focus, .create-caption[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-right:17px}}.create-caption[_ngcontent-%COMP%]:focus, .create-caption.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-caption[_ngcontent-%COMP%], .create-caption[_ngcontent-%COMP%]:active, .create-caption[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-caption[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-caption[disabled][_ngcontent-%COMP%], .create-caption.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}.caption-entry[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]{flex-grow:1;color:#000}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover{opacity:.8}.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{font-size:15px;font-weight:bold;width:150px}@supports (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-inline-end:20px}}@supports not (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-right:20px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state[_ngcontent-%COMP%]{width:200px}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-create[_ngcontent-%COMP%]{color:#39cc0b}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-delete[_ngcontent-%COMP%]{color:red}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-right:17px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:active, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{cursor:default}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.no-caption[_ngcontent-%COMP%]{text-align:center;font-size:15px}.submit-container[_ngcontent-%COMP%]{text-align:end}.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{display:inline-block;color:var(--greyForegroundColor);font-size:15px}@supports (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-inline-end:25px}}@supports not (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-right:25px}}p-calendar[_ngcontent-%COMP%]{display:block}p-calendar[_ngcontent-%COMP%]     .p-calendar{width:100%}p-calendar[_ngcontent-%COMP%]     .p-inputtext{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;color:#000}p-calendar[_ngcontent-%COMP%]     .p-inputtext::placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     .p-inputtext[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){p-calendar[_ngcontent-%COMP%]     .p-inputtext{width:100%}}.form-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:66% 1fr;grid-gap:30px}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}']}),t})()},81346:(v,C,o)=>{o.d(C,{w:()=>d});var e=o(13859),p=o(84167),_=o(97694),a=o(62026),O=o(22557),g=o(56924),m=o(42741);let d=(()=>{class D{}return D.\u0275fac=function(R){return new(R||D)},D.\u0275mod=m.oAB({type:D}),D.\u0275inj=m.cJS({providers:[g.d],imports:[[e._8,a.nC,p.hA,_.Y,O.Pd],e._8,a.nC,p.hA,_.Y]}),D})()},60467:(v,C,o)=>{o.d(C,{q:()=>b});var e=o(42741),p=o(93324),_=o(16274),a=o(24333),O=o(2003),g=o(6733),m=o(97603);function d(E,T){if(1&E&&e._UZ(0,"label",12),2&E){const r=e.oxw();e.Q6J("innerHTML",r.setting.label,e.oJD),e.uIk("for",r.setting.name)}}function D(E,T){if(1&E&&e._UZ(0,"my-peertube-checkbox",13),2&E){const r=e.oxw();e.Q6J("inputName",r.setting.name)("formControlName",r.setting.name)("labelInnerHTML",r.setting.label)}}function S(E,T){if(1&E&&e._UZ(0,"div",14),2&E){const r=e.oxw();e.Q6J("innerHTML",r.setting.descriptionHTML,e.oJD)}}function R(E,T){if(1&E&&e._UZ(0,"input",15),2&E){const r=e.oxw();e.Q6J("id",r.setting.name)("formControlName",r.setting.name)}}function x(E,T){if(1&E&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&E){const r=T.$implicit;e.Q6J("value",r.value),e.xp6(1),e.Oqu(r.label)}}function y(E,T){if(1&E&&(e.TgZ(0,"div",16),e.TgZ(1,"select",17),e.YNc(2,x,2,2,"option",18),e.qZA(),e.qZA()),2&E){const r=e.oxw();e.xp6(1),e.Q6J("id",r.setting.name)("formControlName",r.setting.name),e.xp6(1),e.Q6J("ngForOf",r.setting.options)}}function $(E,T){if(1&E&&e._UZ(0,"my-input-toggle-hidden",20),2&E){const r=e.oxw();e.Q6J("formControlName",r.setting.name)("inputId",r.setting.name)}}function Z(E,T){if(1&E&&e._UZ(0,"textarea",15),2&E){const r=e.oxw();e.Q6J("id",r.setting.name)("formControlName",r.setting.name)}}function F(E,T){1&E&&e._UZ(0,"my-help",21)}function I(E,T){1&E&&e._UZ(0,"my-help",22)}const V=function(E){return{"input-error":E}};function u(E,T){if(1&E&&e._UZ(0,"my-markdown-textarea",23),2&E){const r=e.oxw();e.Q6J("id",r.setting.name)("formControlName",r.setting.name)("classes",e.VKq(3,V,r.formErrors["settings.name"]))}}function M(E,T){if(1&E&&e._UZ(0,"my-markdown-textarea",24),2&E){const r=e.oxw();e.Q6J("id",r.setting.name)("formControlName",r.setting.name)("classes",e.VKq(3,V,r.formErrors["settings.name"]))}}function f(E,T){if(1&E&&e._UZ(0,"div",12),2&E){const r=e.oxw();e.Q6J("innerHTML",r.setting.html,e.oJD)}}function h(E,T){if(1&E&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&E){const r=e.oxw();e.xp6(1),e.hij(" ",r.formErrors[r.setting.name]," ")}}let b=(()=>{class E{}return E.\u0275fac=function(r){return new(r||E)},E.\u0275cmp=e.Xpm({type:E,selectors:[["my-dynamic-form-field"]],inputs:{form:"form",formErrors:"formErrors",setting:"setting"},decls:14,vars:14,consts:[[3,"formGroup"],[3,"innerHTML",4,"ngIf"],[3,"inputName","formControlName","labelInnerHTML",4,"ngIf"],["class","label-small-info",3,"innerHTML",4,"ngIf"],["type","text",3,"id","formControlName",4,"ngIf"],["class","peertube-select-container",4,"ngIf"],[3,"formControlName","inputId",4,"ngIf"],["helpType","markdownText",4,"ngIf"],["helpType","markdownEnhanced",4,"ngIf"],["markdownType","text","textareaWidth","500px",3,"id","formControlName","classes",4,"ngIf"],["markdownType","enhanced","textareaWidth","500px",3,"id","formControlName","classes",4,"ngIf"],["class","form-error",4,"ngIf"],[3,"innerHTML"],[3,"inputName","formControlName","labelInnerHTML"],[1,"label-small-info",3,"innerHTML"],["type","text",3,"id","formControlName"],[1,"peertube-select-container"],[1,"form-control",3,"id","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"formControlName","inputId"],["helpType","markdownText"],["helpType","markdownEnhanced"],["markdownType","text","textareaWidth","500px",3,"id","formControlName","classes"],["markdownType","enhanced","textareaWidth","500px",3,"id","formControlName","classes"],[1,"form-error"]],template:function(r,A){1&r&&(e.TgZ(0,"div",0),e.YNc(1,d,1,2,"label",1),e.YNc(2,D,1,3,"my-peertube-checkbox",2),e.YNc(3,S,1,1,"div",3),e.YNc(4,R,1,2,"input",4),e.YNc(5,y,3,3,"div",5),e.YNc(6,$,1,2,"my-input-toggle-hidden",6),e.YNc(7,Z,1,2,"textarea",4),e.YNc(8,F,1,0,"my-help",7),e.YNc(9,I,1,0,"my-help",8),e.YNc(10,u,1,5,"my-markdown-textarea",9),e.YNc(11,M,1,5,"my-markdown-textarea",10),e.YNc(12,f,1,1,"div",1),e.YNc(13,h,2,1,"div",11),e.qZA()),2&r&&(e.Q6J("formGroup",A.form),e.xp6(1),e.Q6J("ngIf",A.setting.label&&"input-checkbox"!==A.setting.type),e.xp6(1),e.Q6J("ngIf","input-checkbox"===A.setting.type),e.xp6(1),e.Q6J("ngIf",A.setting.descriptionHTML),e.xp6(1),e.Q6J("ngIf","input"===A.setting.type),e.xp6(1),e.Q6J("ngIf","select"===A.setting.type),e.xp6(1),e.Q6J("ngIf","input-password"===A.setting.type),e.xp6(1),e.Q6J("ngIf","input-textarea"===A.setting.type),e.xp6(1),e.Q6J("ngIf","markdown-text"===A.setting.type),e.xp6(1),e.Q6J("ngIf","markdown-enhanced"===A.setting.type),e.xp6(1),e.Q6J("ngIf","markdown-text"===A.setting.type),e.xp6(1),e.Q6J("ngIf","markdown-enhanced"===A.setting.type),e.xp6(1),e.Q6J("ngIf","html"===A.setting.type),e.xp6(1),e.Q6J("ngIf",A.formErrors[A.setting.name]))},directives:[p.JL,p.sg,_.O5,a.P,p.JJ,p.u,p.Fj,p.EJ,_.sg,p.YN,p.Kr,O.X,g.I,m.c],styles:['input[_ngcontent-%COMP%]:not([type=submit]){padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:200px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px;font-size:13px}my-peertube-checkbox[_ngcontent-%COMP%] + .label-small-info[_ngcontent-%COMP%]{margin-top:5px}']}),E})()},75155:(v,C,o)=>{o.d(C,{I:()=>m});var e=o(42741),p=o(93324),_=o(21499),a=o(16274);function O(d,D){if(1&d&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"span",3),e._uU(3),e.qZA(),e.BQk()),2&d){const S=e.oxw().item;e.xp6(2),e.Q6J("title",S.description),e.xp6(1),e.Oqu(S.description)}}function g(d,D){if(1&d&&(e._uU(0),e.YNc(1,O,4,2,"ng-container",2)),2&d){const S=D.item;e.hij(" ",S.label," "),e.xp6(1),e.Q6J("ngIf",S.description)}}let m=(()=>{class d{constructor(){this.items=[],this.clearable=!1,this.searchable=!1,this.propagateChange=S=>{}}handleChange(S){this.writeValue(S.value),this.onModelChange()}writeValue(S){this.selectedId=S}registerOnChange(S){this.propagateChange=S}registerOnTouched(){}onModelChange(){this.propagateChange(this.selectedId)}}return d.\u0275fac=function(S){return new(S||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["my-select-options"]],hostBindings:function(S,R){1&S&&e.NdJ("change",function(y){return R.handleChange(y.target)})},inputs:{items:"items",clearable:"clearable",searchable:"searchable",groupBy:"groupBy",labelForId:"labelForId",searchFn:"searchFn"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>d),multi:!0}])],decls:2,vars:7,consts:[["bindLabel","label","bindValue","id",3,"items","groupBy","ngModel","clearable","labelForId","searchable","searchFn","ngModelChange"],["ng-option-tmp",""],[4,"ngIf"],[1,"text-muted",3,"title"]],template:function(S,R){1&S&&(e.TgZ(0,"ng-select",0),e.NdJ("ngModelChange",function(y){return R.selectedId=y})("ngModelChange",function(){return R.onModelChange()}),e.YNc(1,g,2,2,"ng-template",1),e.qZA()),2&S&&e.Q6J("items",R.items)("groupBy",R.groupBy)("ngModel",R.selectedId)("clearable",R.clearable)("labelForId",R.labelForId)("searchable",R.searchable)("searchFn",R.searchFn)},directives:[_.w9,p.JJ,p.On,_.Z2,a.O5],styles:["ng-select[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: auto){ng-select[_ngcontent-%COMP%]{width:100%}}ng-select[_ngcontent-%COMP%]     .ng-value-container{max-height:100px;overflow-y:auto;overflow-x:hidden}ng-select[_ngcontent-%COMP%]     .ng-value-label img{position:relative;top:-1px}ng-select[_ngcontent-%COMP%]     img{border-radius:50%;height:20px;width:20px}.root[_ngcontent-%COMP%]{display:flex;align-items:center}.root[_ngcontent-%COMP%] > my-select-options[_ngcontent-%COMP%]{flex-grow:1}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:auto;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}my-select-options[_ngcontent-%COMP%] + input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(auto + 40px)){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{width:100%}}@supports (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-left:5px}}@supports (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-left:5px}}"]}),d})()},18736:(v,C,o)=>{o.d(C,{j:()=>a});var e=o(42741),p=o(93324),_=o(21499);let a=(()=>{class O{constructor(){this.availableItems=[],this.selectedItems=[],this.propagateChange=m=>{}}writeValue(m){this.selectedItems=m,this.propagateChange(this.selectedItems)}registerOnChange(m){this.propagateChange=m}registerOnTouched(){}onModelChange(){this.propagateChange(this.selectedItems)}}return O.\u0275fac=function(m){return new(m||O)},O.\u0275cmp=e.Xpm({type:O,selectors:[["my-select-tags"]],inputs:{availableItems:"availableItems",selectedItems:"selectedItems"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>O),multi:!0}])],decls:1,vars:8,consts:function(){let g;return g="\u0623\u062F\u062E\u0644 \u0648\u0633\u0645\u064B\u0627 \u062C\u062F\u064A\u062F\u0627",[["placeholder",g,3,"items","ngModel","maxSelectedItems","clearable","addTag","multiple","isOpen","searchable","ngModelChange"]]},template:function(m,d){1&m&&(e.TgZ(0,"ng-select",0),e.NdJ("ngModelChange",function(S){return d.selectedItems=S})("ngModelChange",function(){return d.onModelChange()}),e.qZA()),2&m&&e.Q6J("items",d.availableItems)("ngModel",d.selectedItems)("maxSelectedItems",5)("clearable",!0)("addTag",!0)("multiple",!0)("isOpen",!1)("searchable",!0)},directives:[_.w9,p.JJ,p.On],styles:["ng-select[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: auto){ng-select[_ngcontent-%COMP%]{width:100%}}ng-select[_ngcontent-%COMP%]     .ng-value-container{max-height:100px;overflow-y:auto;overflow-x:hidden}ng-select[_ngcontent-%COMP%]     .ng-value-label img{position:relative;top:-1px}ng-select[_ngcontent-%COMP%]     img{border-radius:50%;height:20px;width:20px}.root[_ngcontent-%COMP%]{display:flex;align-items:center}.root[_ngcontent-%COMP%] > my-select-options[_ngcontent-%COMP%]{flex-grow:1}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:auto;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}my-select-options[_ngcontent-%COMP%] + input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(auto + 40px)){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{width:100%}}@supports (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-left:5px}}@supports (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-left:5px}}","ng-select[_ngcontent-%COMP%]     .ng-arrow-wrapper{display:none}"]}),O})()},22557:(v,C,o)=>{o.d(C,{CS:()=>e.C,Pd:()=>m});var e=o(56999),_=(o(96424),o(84167)),a=o(97694),O=o(13010),g=o(42741);let m=(()=>{class d{}return d.\u0275fac=function(S){return new(S||d)},d.\u0275mod=g.oAB({type:d}),d.\u0275inj=g.cJS({providers:[e.C],imports:[[O.n,_.hA,a.Y]]}),d})()},7160:(v,C,o)=>{o.d(C,{z:()=>p});var e=o(42741);let p=(()=>{class _{}return _.\u0275fac=function(O){return new(O||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["my-live-documentation-link"]],decls:3,vars:0,consts:function(){let a;return a=" See " + "\ufffd#2\ufffd" + "the documentation" + "\ufffd/#2\ufffd" + " to learn how to use the PeerTube live streaming feature.\n",[a,["href","https://docs.joinpeertube.org/use-create-upload-video?id=publish-a-live-in-peertube-gt-v3","target","_blank","rel","noopener noreferrer"]]},template:function(O,g){1&O&&(e.TgZ(0,"div"),e.tHW(1,0),e._UZ(2,"a",1),e.N_p(),e.qZA())},encapsulation:2}),_})()},96424:(v,C,o)=>{o.d(C,{y:()=>F});var e=o(42741),p=o(76476),_=o(56999),a=o(19895),O=o(16274),g=o(49705),m=o(49393),d=o(7160),D=o(2003);const S=["modal"];function R(I,V){1&I&&(e.TgZ(0,"div",22),e.SDv(1,23),e.qZA())}function x(I,V){1&I&&(e.TgZ(0,"div",22),e.SDv(1,24),e.qZA())}function y(I,V){if(1&I&&(e.TgZ(0,"div",10),e.TgZ(1,"div"),e.YNc(2,R,2,0,"div",11),e.YNc(3,x,2,0,"div",11),e.qZA(),e.TgZ(4,"div",12),e._UZ(5,"my-live-documentation-link"),e.qZA(),e.TgZ(6,"div",13),e.TgZ(7,"label",14),e.SDv(8,15),e.qZA(),e._UZ(9,"my-input-toggle-hidden",16),e.qZA(),e.TgZ(10,"div",13),e.TgZ(11,"label",17),e.SDv(12,18),e.qZA(),e._UZ(13,"my-input-toggle-hidden",19),e.TgZ(14,"div",20),e.SDv(15,21),e.qZA(),e.qZA(),e.qZA()),2&I){const u=e.oxw(2);e.xp6(2),e.Q6J("ngIf",u.live.permanentLive),e.xp6(1),e.Q6J("ngIf",u.live.saveReplay),e.xp6(6),e.Q6J("value",u.live.rtmpUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),e.xp6(4),e.Q6J("value",u.live.streamKey)("withCopy",!0)("readonly",!0)}}const $=function(I){return["/videos","update",I]};function Z(I,V){if(1&I){const u=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e.SDv(2,3),e.qZA(),e.TgZ(3,"my-global-icon",4),e.NdJ("click",function(){return e.CHM(u).dismiss()}),e.qZA(),e.qZA(),e.YNc(4,y,16,10,"div",5),e.TgZ(5,"div",6),e.TgZ(6,"div",7),e.TgZ(7,"input",8),e.NdJ("click",function(){return e.CHM(u).dismiss()}),e.qZA(),e.TgZ(8,"my-edit-button",9),e.NdJ("click",function(){return e.CHM(u).dismiss()}),e.qZA(),e.qZA(),e.qZA()}if(2&I){const u=e.oxw();e.xp6(4),e.Q6J("ngIf",u.live),e.xp6(4),e.Q6J("routerLink",e.VKq(2,$,u.video.uuid))}}let F=(()=>{class I{constructor(u,M){this.modalService=u,this.liveVideoService=M}show(u){this.video=u,this.live=void 0,this.loadLiveInfo(u),this.modalService.open(this.modal,{centered:!0})}loadLiveInfo(u){this.liveVideoService.getVideoLive(u.id).subscribe(M=>this.live=M)}}return I.\u0275fac=function(u){return new(u||I)(e.Y36(p.FF),e.Y36(_.C))},I.\u0275cmp=e.Xpm({type:I,selectors:[["my-live-stream-information"]],viewQuery:function(u,M){if(1&u&&e.Gf(S,7),2&u){let f;e.iGM(f=e.CRH())&&(M.modal=f.first)}},decls:2,vars:0,consts:function(){let V,u,M,f,h,b,E,T;return V="Live information",u="\u0627\u063A\u0644\u0642",M="\u062D\u062F\u0651\u062B \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0628\u062B \u0627\u0644\u0645\u0628\u0627\u0634\u0631",f="Live RTMP Url",h="Live stream key",b="\u26A0\uFE0F Never share your stream key with anyone.",E="Permanent live",T="Replay will be saved",[["modal",""],[1,"modal-header"],[1,"modal-title"],V,["iconName","cross","aria-label","Close","role","button",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"form-group","inputs"],["type","button","role","button","value",u,1,"peertube-button","grey-button",3,"click"],["label",M,3,"routerLink","click"],[1,"modal-body"],["class","badge badge-info",4,"ngIf"],[1,"alert","alert-info"],[1,"form-group"],["for","liveVideoRTMPUrl"],f,["inputId","liveVideoRTMPUrl",3,"value","withToggle","withCopy","show","readonly"],["for","liveVideoStreamKey"],h,["inputId","liveVideoStreamKey",3,"value","withCopy","readonly"],[1,"form-group-description"],b,[1,"badge","badge-info"],E,T]},template:function(u,M){1&u&&e.YNc(0,Z,9,4,"ng-template",null,0,e.W1O)},directives:[a.$,O.O5,g.M,m.rH,d.z,D.X],styles:["p-autocomplete[_ngcontent-%COMP%]{display:block}.form-group[_ngcontent-%COMP%]{margin:20px 0}.alert-info[_ngcontent-%COMP%]{margin:1rem 0}.badge[_ngcontent-%COMP%]{font-size:13px}"]}),I})()},56999:(v,C,o)=>{o.d(C,{C:()=>g});var e=o(97142),p=o(24766),_=o(42741),a=o(31887),O=o(54755);class g{constructor(d,D){this.authHttp=d,this.restExtractor=D}goLive(d){return this.authHttp.post(g.BASE_VIDEO_LIVE_URL,d).pipe((0,e.K)(D=>this.restExtractor.handleError(D)))}getVideoLive(d){return this.authHttp.get(g.BASE_VIDEO_LIVE_URL+d).pipe((0,e.K)(D=>this.restExtractor.handleError(D)))}updateLive(d,D){return this.authHttp.put(g.BASE_VIDEO_LIVE_URL+d,D).pipe((0,e.K)(S=>this.restExtractor.handleError(S)))}}g.BASE_VIDEO_LIVE_URL=p.N.apiUrl+"/api/v1/videos/live/",g.\u0275fac=function(d){return new(d||g)(_.LFG(a.eN),_.LFG(O.DI))},g.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac})}}]);
"use strict";(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[175],{15175:(vt,$,p)=>{p.r($),p.d($,{VideoAddModule:()=>On});var u=p(54755),t=p(42741);function w(n,i){return function(e,o){i(e,o,n)}}function I(n,i,e,o){return new(e||(e=Promise))(function(_,c){function a(g){try{s(o.next(g))}catch(C){c(C)}}function d(g){try{s(o.throw(g))}catch(C){c(C)}}function s(g){g.done?_(g.value):function(_){return _ instanceof e?_:new e(function(c){c(_)})}(g.value).then(a,d)}s((o=o.apply(n,i||[])).next())})}var St=p(74192),st=p(29230),Dt=p(91531);p(58402),p(82190);var Tt=p(64033),lt=p(59437),x=(()=>{return(n=x||(x={}))[n.NotFound=0]="NotFound",n[n.Auth=1]="Auth",n[n.Retryable=2]="Retryable",n[n.Fatal=3]="Fatal",x;var n})();const Vt={maxAttempts:8,shouldRestartCodes:[404,410],authErrorCodes:[401],shouldRetryCodes:[423,429],shouldRetry(n){return n<400||n>=500||-1!==this.shouldRetryCodes.indexOf(n)},minDelay:500,maxDelay:5e4,onBusyDelay:1e3,timeout:0};class Nt{constructor(i={}){this.attempts=0,this.cancel=()=>{},this.config=Object.assign({},Vt,i)}kind(i){return this.attempts++,this.attempts>this.config.maxAttempts?x.Fatal:-1!==this.config.authErrorCodes.indexOf(i)?x.Auth:-1!==this.config.shouldRestartCodes.indexOf(i)?x.NotFound:this.config.shouldRetry(i,this.attempts)?x.Retryable:x.Fatal}wait(i){const e=i||Math.min(Math.pow(2,this.attempts-1)*this.config.minDelay,this.config.maxDelay),o=Math.floor(Math.random()*this.config.minDelay*this.attempts);let r;return new Promise(_=>{this.cancel=()=>{clearTimeout(r),_()},r=setTimeout(this.cancel,e+o)})}observe(i){this.observedValue!==i&&(this.attempts=0),this.observedValue=i}}function At(){return new XMLHttpRequest}class Rt{constructor(i){this.buildXhr=i,this.request=({method:e="GET",data:o=null,headers:r={},url:_,responseType:c,canceler:a,onUploadProgress:d,timeout:s=0,withCredentials:g=!1,validateStatus:C=(l=>l<400&&l>=200)})=>{const l=this.buildXhr();return a&&(a.onCancel=()=>l&&l.readyState!==l.DONE&&l.abort()),new Promise((v,y)=>{l.open(e,_,!0),l.timeout=s,g&&(l.withCredentials=!0),c&&(l.responseType=c),"json"===c&&!r.Accept&&(r.Accept="application/json"),Object.keys(r).forEach(S=>l.setRequestHeader(S,String(r[S]))),l.upload.onprogress=d||null,l.onerror=l.ontimeout=l.onabort=S=>y({error:S.type,url:_,method:e}),l.onload=()=>{const S={data:this.getResponseBody(l,"json"===c),status:l.status,headers:this.getResponseHeaders(l)};return C(S.status)?v(S):y(S)},l.send(o)})}}getResponseHeaders(i){return i.getAllResponseHeaders().split(/[\r\n]+/).reduce((o,r)=>{const[_,c]=r.split(": ");return _&&(o[_.toLowerCase()]=c),o},{})}getResponseBody(i,e){let o="response"in i?i.response:i.responseText;if(o&&e&&"string"==typeof o)try{o=JSON.parse(o)}catch(r){}return o}}const j=new t.OlP("uploadx.ajax",{factory:()=>new Rt(At),providedIn:"root"});class kt{constructor(){this.onCancel=()=>{}}cancel(){this.onCancel(),this.onCancel=()=>{}}}const W=function(){try{const n="uploadxLocalStorageTest",i="value";localStorage.setItem(n,i);const e=localStorage.getItem(n);return localStorage.removeItem(n),e===i}catch(n){return!1}}()?new class{constructor(){this.prefix="UPLOADX-V3.0-"}set(i,e){localStorage.setItem(this.prefix+i,e)}get(i){return localStorage.getItem(this.prefix+i)}delete(i){localStorage.removeItem(this.prefix+i)}clear(){Object.keys(localStorage).forEach(i=>0===i.indexOf(this.prefix)&&localStorage.removeItem(i))}}:new Map;function tt(n,i){return(n.match(i)||[])[0]||""}function et(n,i){return n.indexOf("https://")*n.indexOf("http://")==0?n:0===n.indexOf("//")?tt(i,/^(https?:)/)+n:0===n.indexOf("/")?tt(i,/^(?:https?:)?(?:\/\/)?([^\/\?]+)/)+n:tt(i,/^(?:https?:)?(?:\/\/)?([^\/\?]+)?(.*\/)/)+n}function nt(n,i){return n instanceof Function?n(i):n}function dt(n){let i=2166136261;const e=n.length;for(let o=0;o<e;o++)i^=n.charCodeAt(o),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return i>>>0}class f{static scale(i){const e=f.size/i;return e<f.minChunkTime&&(f.size=Math.min(f.maxSize,2*f.size)),e>f.maxChunkTime&&(f.size=Math.max(f.minSize,f.size/2)),f.size}}f.maxSize=Number.MAX_SAFE_INTEGER,f.minSize=262144,f.size=1048576,f.minChunkTime=2,f.maxChunkTime=8;const $t={pause:"paused",upload:"queue",cancel:"cancelled"};class gt extends class{constructor(i,e,o,r){this.file=i,this.options=e,this.stateChange=o,this.ajax=r,this.response=null,this.responseStatus=0,this.responseHeaders={},this.headers={},this.endpoint="/upload",this.offset=0,this.canceler=new kt,this._url="",this.storeEnabled=!1!==this.options.storeIncompleteUploadUrl,this.updateToken=()=>I(this,void 0,void 0,function*(){this._token=yield nt(this.token||"",this.responseStatus)}),this.cleanup=()=>this.storeEnabled&&W.delete(this.uploadId),this.retry=new Nt(e.retryConfig),this.name=i.name,this.size=i.size,this.metadata={name:i.name,mimeType:i.type||"application/octet-stream",size:i.size,lastModified:i.lastModified||i.lastModifiedDate.getTime()},e.maxChunkSize&&(f.maxSize=e.maxChunkSize),this._prerequest=e.prerequest||(_=>_),this._authorize=e.authorize||(_=>_),this.configure(e)}get url(){return this._url||this.storeEnabled&&W.get(this.uploadId)||""}set url(i){this._url!==i&&this.storeEnabled&&W.set(this.uploadId,i),this._url=i}get status(){return this._status}set status(i){"cancelled"===this._status||"complete"===this._status&&"cancelled"!==i||i!==this._status&&("retry"===this.status&&this.retry.cancel(),this._status=i,"paused"===i&&this.abort(),-1!==["cancelled","complete","error"].indexOf(i)&&this.cleanup(),"cancelled"===i?this.cancel():this.stateChange(this))}configure({metadata:i,headers:e,token:o,endpoint:r,action:_}){r&&(this.endpoint=r),o&&(this.token=o),i&&Object.assign(this.metadata,nt(i,this.file)),e&&Object.assign(this.headers,nt(e,this.file)),_&&(this.status=$t[_])}upload(){return I(this,void 0,void 0,function*(){for(this._status="uploading",this.startTime=(new Date).getTime(),yield this.updateToken();"uploading"===this.status||"retry"===this.status;){this.status="uploading";try{this.url=this.url||(yield this.getFileUrl()),this.offset=(n=this.offset)===Number(n)?yield this.sendFileContent():yield this.getOffset(),this.retry.observe(this.offset),this.offset===this.size?(this.remaining=0,this.progress=100,this.status="complete"):this.offset||(this.stateChange(this),yield this.retry.wait(this.getRetryAfterFromBackend()||this.retry.config.onBusyDelay))}catch(i){if(i instanceof Error&&console.error(i),"uploading"!==this.status)return;switch(this.retry.kind(this.responseStatus)){case x.Fatal:return void(this.status="error");case x.NotFound:this.url="";break;case x.Auth:yield this.updateToken();break;default:this.responseStatus>=400&&(this.offset=void 0),this.status="retry",yield this.retry.wait(this.getRetryAfterFromBackend())}}}var n})}getRetryAfterFromBackend(){return 1e3*Number(this.getValueFromResponse("retry-after"))}request(i){return I(this,void 0,void 0,function*(){this.responseStatus=0,this.response=null,this.responseHeaders={};let e={body:i.body||null,canceler:this.canceler,headers:Object.assign({},this.headers,i.headers),method:i.method||"GET",url:i.url||this.url};e=yield this._authorize(e,this._token);const{body:o=null,headers:r,method:_,url:c=e.url}=(yield this._prerequest(e))||e,a={method:_,headers:Object.assign({},e.headers,r),url:c,data:o,responseType:this.responseType,withCredentials:!!this.options.withCredentials,canceler:this.canceler,validateStatus:()=>!0,timeout:this.retry.config.timeout};o&&"string"!=typeof o&&(a.onUploadProgress=this.onProgress());const d=yield this.ajax.request(a);if(this.response=d.data,this.responseHeaders=d.headers,this.responseStatus=d.status,d.status>=400)return Promise.reject()})}abort(){this.offset=void 0,this.canceler.cancel()}cancel(){return I(this,void 0,void 0,function*(){this.abort(),this.url&&(yield this.request({method:"DELETE"}).catch(()=>{})),this.stateChange(this)})}getValueFromResponse(i){return this.responseHeaders[i.toLowerCase()]||null}getChunk(){this.chunkSize=0===this.options.chunkSize?this.size:this.options.chunkSize||f.size;const i=this.offset||0,e=Math.min(i+this.chunkSize,this.size);return{start:i,end:e,body:this.file.slice(this.offset,e)}}onProgress(){let i;return({loaded:e})=>{const o=(new Date).getTime(),r=this.offset+e;this.speed=Math.round(r/((o-this.startTime)/1e3)),f.scale(this.speed),i||(i=setTimeout(()=>i=void 0,500),this.progress=+(r/this.size*100).toFixed(2),this.remaining=Math.ceil((this.size-r)/this.speed),this.stateChange(this))}}}{constructor(){super(...arguments),this.responseType="json"}getFileUrl(){return I(this,void 0,void 0,function*(){const i={"Content-Type":"application/json; charset=utf-8","X-Upload-Content-Length":this.size.toString(),"X-Upload-Content-Type":this.file.type||"application/octet-stream"};yield this.request({method:"POST",body:JSON.stringify(this.metadata),url:this.endpoint,headers:i});const e=this.getValueFromResponse("location");if(!e)throw new Error("Invalid or missing Location header");return this.offset=201===this.responseStatus?0:void 0,et(e,this.endpoint)})}sendFileContent(){return I(this,void 0,void 0,function*(){const{end:i,body:e}=this.getChunk(),o={"Content-Type":"application/octet-stream","Content-Range":`bytes ${this.offset}-${i-1}/${this.size}`};return yield this.request({method:"PUT",body:e,headers:o}),this.getOffsetFromResponse()})}getOffset(){return I(this,void 0,void 0,function*(){const i={"Content-Type":"application/octet-stream","Content-Range":`bytes */${this.size}`};return yield this.request({method:"PUT",headers:i}),this.getOffsetFromResponse()})}getOffsetFromResponse(){if(this.responseStatus>201){const i=this.getValueFromResponse("Range");return i?function(n=""){const i=parseInt(n.split(/-/)[1],10);return i>=0?i:-1}(i)+1:void 0}return this.size}}const zt={endpoint:"/upload",autoUpload:!0,concurrency:2,uploaderClass:gt,authorize:(n,i)=>(i&&(n.headers.Authorization=`Bearer ${i}`),n)},it=new t.OlP("uploadx.factory.options",{providedIn:"root",factory:()=>zt}),B=new t.OlP("uploadx.options");let T=class{generateId(i){const e=JSON.stringify(Object.assign({},i.metadata,{type:i.constructor.name,endpoint:i.endpoint}));return dt(i.name+i.size).toString(16)+dt(e).toString(16)}};T.\u0275fac=function(i){return new(i||T)},T.\u0275prov=t.Yz7({token:T,factory:function(n){return T.\u0275fac(n)},providedIn:"root"}),T.ngInjectableDef=(0,t.Ez6)({factory:function(){return new T},token:T,providedIn:"root"});const Bt=["file","name","progress","remaining","response","responseHeaders","responseStatus","size","speed","status","uploadId","url"];let E=class{constructor(i,e,o,r,_){this.ajax=o,this.ngZone=r,this.idService=_,this.queue=[],this.eventsStream=new Tt.x,this.subs=[],this.stateChange=c=>{this.ngZone.run(()=>this.eventsStream.next(((n,i)=>{const e={};return i.forEach(o=>e[o]=n[o]),e})(c,Bt))),"uploading"!==c.status&&"added"!==c.status&&this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.processQueue()))},this.options=Object.assign({},e,i),"undefined"!=typeof window&&this.subs.push((0,lt.R)(window,"online").subscribe(()=>this.control({action:"upload"})),(0,lt.R)(window,"offline").subscribe(()=>this.control({action:"pause"})))}get events(){return this.eventsStream.asObservable()}init(i={}){return Object.assign(this.options,i),this.events}connect(i){return this.init(i).pipe((0,St.O)(null),(0,st.U)(()=>this.queue),(0,Dt.b)(5))}disconnect(){this.queue.forEach(i=>i.status="paused"),this.queue=[]}ngOnDestroy(){this.disconnect(),this.subs.forEach(i=>i.unsubscribe())}handleFiles(i,e={}){const o=Object.assign({},this.options,e);this.options.concurrency=o.concurrency,("name"in i?[i]:Array.from(i)).forEach(r=>this.addUploaderInstance(r,o))}control(i){(i.uploadId?this.queue.filter(({uploadId:o})=>o===i.uploadId):this.queue).forEach(o=>o.configure(i))}runningProcess(){return this.queue.filter(({status:i})=>"uploading"===i||"retry"===i).length}request(i){return I(this,void 0,void 0,function*(){return i.data=i.body?i.body:i.data,this.ajax.request(i)})}addUploaderInstance(i,e){return I(this,void 0,void 0,function*(){const o=new e.uploaderClass(i,e,this.stateChange,this.ajax);o.uploadId=yield this.idService.generateId(o),this.queue.push(o),o.status=e.autoUpload&&("undefined"==typeof window||window.navigator.onLine)?"queue":"added"})}processQueue(){this.queue=this.queue.filter(({status:i})=>"cancelled"!==i),this.queue.filter(({status:i})=>"queue"===i).slice(0,Math.max(this.options.concurrency-this.runningProcess(),0)).forEach(i=>i.upload())}};var Ot;E.\u0275fac=function(i){return new(i||E)(t.LFG(B,8),t.LFG(it),t.LFG(j),t.LFG(t.R0b),t.LFG(T))},E.\u0275prov=t.Yz7({token:E,factory:function(n){return E.\u0275fac(n)},providedIn:"root"}),E.ngInjectableDef=(0,t.Ez6)({factory:function(){return new E((0,t.f3M)(B,8),(0,t.f3M)(it),(0,t.f3M)(j),(0,t.f3M)(t.R0b),(0,t.f3M)(T))},token:E,providedIn:"root"}),E=function(n,i,e,o){var c,r=arguments.length,_=r<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(n,i,e,o);else for(var a=n.length-1;a>=0;a--)(c=n[a])&&(_=(r<3?c(_):r>3?c(i,e,_):c(i,e))||_);return r>3&&_&&Object.defineProperty(i,e,_),_}([w(0,(0,t.FiY)()),w(0,(0,t.tBr)(B)),w(1,(0,t.tBr)(it)),w(2,(0,t.tBr)(j))],E);let L=Ot=class{static withConfig(i){return{ngModule:Ot,providers:[{provide:B,useValue:i}]}}};L.\u0275fac=function(i){return new(i||L)},L.\u0275mod=t.oAB({type:L}),L.\u0275inj=t.cJS({});var Qt=p(81346),V=p(49393),Ct=p(61855),R=p(16274),Jt=p(52811),k=p(76476),Xt=p(279),ft=p(31887),A=p(86804),M=p(62026),Kt=p(359);class Ht extends gt{getFileUrl(){return(0,Ct.mG)(this,void 0,void 0,function*(){const i={"X-Upload-Content-Length":this.size.toString(),"X-Upload-Content-Type":this.file.type||"application/octet-stream"},e=this.metadata.previewfile;delete this.metadata.previewfile;const o=(0,A.D$)(this.metadata);void 0!==e&&(o.append("previewfile",e,e.name),o.append("thumbnailfile",e,e.name)),yield this.request({method:"POST",body:o,url:this.endpoint,headers:i});const r=this.getValueFromResponse("location");if(!r)throw new Error("Invalid or missing Location header");return this.offset=201===this.responseStatus?0:void 0,et(r,this.endpoint)})}}var Mt=p(72754),jt=p(17310),Wt=p(97142),F=p(84167);let G=(()=>{class n extends F.OI{constructor(){super(...arguments),this.userVideoChannels=[],this.videoPrivacies=[],this.videoCaptions=[]}ngOnInit(){this.buildForm({}),(0,A.S8)(this.authService).subscribe(e=>{this.userVideoChannels=e,this.firstStepChannelId=this.userVideoChannels[0].id}),this.serverConfig=this.serverService.getHTMLConfig(),this.serverService.getVideoPrivacies().subscribe(e=>{const{videoPrivacies:o,defaultPrivacyId:r}=this.videoService.explainedPrivacyLabels(e);this.videoPrivacies=o,this.firstStepPrivacyId=r,this.highestPrivacy=this.videoService.getHighestAvailablePrivacy(e)})}checkForm(){return this.forceCheck(),this.form.valid}updateVideoAndCaptions(e){return this.loadingBar.useRef().start(),this.videoService.updateVideo(e).pipe((0,Mt.w)(()=>this.videoCaptionService.updateCaptions(e.id,this.videoCaptions)),(0,jt.b)(()=>this.loadingBar.useRef().complete()),(0,Wt.K)(o=>{throw this.loadingBar.useRef().complete(),o}))}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,features:[t.qOj]}),n})();var te=p(3782),q=p(59849),O=p(93324),Q=p(70006),J=p(64990);let Pt=(()=>{class n{constructor(){this.fileDropped=new t.vpe,this.dragover=!1}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.dragover=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.dragover=!1}ondrop(e){e.preventDefault(),e.stopPropagation(),this.dragover=!1;const o=e.dataTransfer.files;o.length>0&&this.fileDropped.emit(o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","myDragDrop",""]],hostVars:2,hostBindings:function(e,o){1&e&&t.NdJ("dragover",function(_){return o.onDragOver(_)})("dragleave",function(_){return o.onDragLeave(_)})("drop",function(_){return o.ondrop(_)}),2&e&&t.ekj("dragover",o.dragover)},outputs:{fileDropped:"fileDropped"}}),n})();var X=p(19895),K=p(70330),H=p(75155),ee=p(62392);const ne=["videofileInput"];function oe(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",26),t.TgZ(2,"label",27),t.SDv(3,28),t.qZA(),t.TgZ(4,"div",29),t.tHW(5,30),t._UZ(6,"br"),t.N_p(),t.qZA(),t.TgZ(7,"my-preview-upload",31),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(2).previewfileUpload=r}),t.qZA(),t.qZA(),t.TgZ(8,"div",32),t.TgZ(9,"my-button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadAudio()}),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Q6J("ngModel",e.previewfileUpload),t.xp6(2),t.Q6J("label",e.getAudioUploadLabel())}}function ie(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("fileDropped",function(r){return t.CHM(e),t.oxw().onFileDropped(r)}),t.TgZ(1,"div",11),t._UZ(2,"my-global-icon",12),t.TgZ(3,"div",13),t.TgZ(4,"span"),t.SDv(5,14),t.qZA(),t.TgZ(6,"input",15,16),t.NdJ("change",function(r){return t.CHM(e),t.oxw().onFileChange(r)}),t.qZA(),t.qZA(),t.TgZ(8,"div",17),t.TgZ(9,"label",18),t.SDv(10,19),t.qZA(),t.TgZ(11,"my-select-channel",20),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepChannelId=r}),t.qZA(),t.qZA(),t.TgZ(12,"div",21),t.TgZ(13,"label",22),t.SDv(14,23),t.qZA(),t.TgZ(15,"my-select-options",24),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepPrivacyId=r}),t.qZA(),t.qZA(),t.YNc(16,oe,10,2,"ng-container",25),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngbTooltip","(extensions: "+e.videoExtensions+")"),t.xp6(3),t.Q6J("accept",e.videoExtensions),t.xp6(5),t.Q6J("items",e.userVideoChannels)("ngModel",e.firstStepChannelId),t.xp6(4),t.Q6J("items",e.videoPrivacies)("ngModel",e.firstStepPrivacyId),t.xp6(1),t.Q6J("ngIf",e.isUploadingAudioFile)}}function re(n,i){1&n&&(t.TgZ(0,"span"),t.SDv(1,38),t.qZA())}function _e(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",e.videoUploadPercents,"%")}}function ce(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",39),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).cancelUpload()}),t.qZA()}}const ae=function(n){return{width:n}};function se(n,i){if(1&n&&(t.TgZ(0,"div",34),t.TgZ(1,"div",35),t.TgZ(2,"div",36),t.YNc(3,re,2,0,"span",25),t.YNc(4,_e,2,1,"span",25),t.qZA(),t.qZA(),t.YNc(5,ce,1,0,"input",37),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Akn(t.VKq(7,ae,e.videoUploadPercents+"%")),t.uIk("aria-valuenow",e.videoUploadPercents)("aria-valuemax",100),t.xp6(1),t.Q6J("ngIf",100===e.videoUploadPercents&&!1===e.videoUploaded),t.xp6(1),t.Q6J("ngIf",100!==e.videoUploadPercents||e.videoUploaded),t.xp6(1),t.Q6J("ngIf",!1===e.videoUploaded)}}const le=function(){return{width:"100%"}};function pe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",40),t.TgZ(1,"div",41),t.TgZ(2,"div",42),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",43),t.TgZ(6,"input",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().retryUpload()}),t.qZA(),t.TgZ(7,"input",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().cancelUpload()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Akn(t.DdM(5,le)),t.uIk("aria-valuenow",100)("aria-valuemax",100),t.xp6(2),t.Oqu(e.error)}}function de(n,i){if(1&n&&(t.TgZ(0,"div",46),t.TgZ(1,"div"),t.SDv(2,47),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error,"\n")}}function ge(n,i){1&n&&(t.TgZ(0,"div",48),t.SDv(1,49),t.qZA())}function ue(n,i){1&n&&(t.TgZ(0,"div",50),t.SDv(1,51),t.qZA())}let Oe=(()=>{class n extends G{constructor(e,o,r,_,c,a,d,s,g,C,l){super(),this.formValidatorService=e,this.loadingBar=o,this.notifier=r,this.authService=_,this.serverService=c,this.videoService=a,this.videoCaptionService=d,this.userService=s,this.router=g,this.hooks=C,this.resumableUploadService=l,this.firstStepDone=new t.vpe,this.firstStepError=new t.vpe,this.userVideoQuotaUsed=0,this.userVideoQuotaUsedDaily=0,this.isUploadingAudioFile=!1,this.isUploadingVideo=!1,this.videoUploaded=!1,this.videoUploadPercents=0,this.videoUploadedIds={id:0,uuid:"",shortUUID:""},this.schedulePublicationPossible=!1,this.BASE_VIDEO_UPLOAD_URL=M.kI.BASE_VIDEO_URL+"upload-resumable",this.isUpdatingVideo=!1;const v=(0,te.gn)()?0:void 0;this.uploadxOptions={endpoint:this.BASE_VIDEO_UPLOAD_URL,multiple:!1,token:this.authService.getAccessToken(),uploaderClass:Ht,chunkSize:v,retryConfig:{maxAttempts:6,shouldRetry:y=>y<400||y>=501}}}get videoExtensions(){return this.serverConfig.video.file.extensions.join(", ")}ngOnInit(){super.ngOnInit(),this.userService.getMyVideoQuotaUsed().subscribe(e=>{this.userVideoQuotaUsed=e.videoQuotaUsed,this.userVideoQuotaUsedDaily=e.videoQuotaUsedDaily}),this.resumableUploadService.events.subscribe(e=>this.onUploadVideoOngoing(e)),this.schedulePublicationPossible=this.videoPrivacies.some(e=>3===e.id)}ngAfterViewInit(){this.hooks.runAction("action:video-upload.init","video-edit")}ngOnDestroy(){this.cancelUpload()}canDeactivate(){let e="";return e=!0===this.videoUploaded?"\u60A8\u7684\u89C6\u9891\u5DF2\u7ECF\u4EE5\u79C1\u6709\u65B9\u5F0F\u4E0A\u4F20\u81F3\u60A8\u7684\u5E10\u6237\u3002"+" "+"\u76F8\u5173\u4FE1\u606F\uFF08\u5982\u6807\u7B7E\u3001\u8BF4\u660E\uFF09\u5C06\u4F1A\u4E22\u5931\uFF0C\u60A8\u786E\u5B9A\u8981\u79BB\u5F00\u8FD9\u4E2A\u9875\u9762\u5417\uFF1F":"\u60A8\u7684\u89C6\u9891\u5C1A\u672A\u4E0A\u4F20\u5B8C\u6BD5\uFF0C\u60A8\u786E\u5B9A\u8981\u79BB\u5F00\u8FD9\u4E2A\u9875\u9762\u5417\uFF1F",{canDeactivate:!this.isUploadingVideo,text:e}}onUploadVideoOngoing(e){var o;switch(e.status){case"error":{const r=(null===(o=e.response)||void 0===o?void 0:o.error)||"Unknow error";this.handleUploadError({error:new Error(r),name:"HttpErrorResponse",message:r,ok:!1,headers:new ft.WM(e.responseHeaders),status:+e.responseStatus,statusText:r,type:ft.dt.Response,url:e.url});break}case"cancelled":this.isUploadingVideo=!1,this.videoUploadPercents=0,this.firstStepError.emit(),this.enableRetryAfterError=!1,this.error="";break;case"queue":this.closeFirstStep(e.name);break;case"uploading":this.videoUploadPercents=e.progress;break;case"paused":this.notifier.info("Upload on hold");break;case"complete":this.videoUploaded=!0,this.videoUploadPercents=100,this.videoUploadedIds=null==e?void 0:e.response.video}}onFileDropped(e){this.videofileInput.nativeElement.files=e,this.onFileChange({target:this.videofileInput.nativeElement})}onFileChange(e){const o=e.target.files[0];if(o&&this.checkGlobalUserQuota(o)&&this.checkDailyUserQuota(o)){if(this.isAudioFile(o.name))return void(this.isUploadingAudioFile=!0);this.isUploadingVideo=!0,this.fileToUpload=o,this.uploadFile(o)}}uploadAudio(){this.uploadFile(this.getInputVideoFile(),this.previewfileUpload)}retryUpload(){this.enableRetryAfterError=!1,this.error="",this.uploadFile(this.fileToUpload)}cancelUpload(){this.resumableUploadService.control({action:"cancel"})}isPublishingButtonDisabled(){return!this.form.valid||!0===this.isUpdatingVideo||!0!==this.videoUploaded||!this.videoUploadedIds.id}getAudioUploadLabel(){const e=this.getInputVideoFile();return e?"\u4E0A\u4F20 \n          " + e.name + "\n        ":"\u4E0A\u4F20"}updateSecondStep(){if(this.isPublishingButtonDisabled()||!this.checkForm())return;const e=new M.fc;e.patch(this.form.value),e.id=this.videoUploadedIds.id,e.uuid=this.videoUploadedIds.uuid,e.shortUUID=this.videoUploadedIds.shortUUID,this.isUpdatingVideo=!0,this.updateVideoAndCaptions(e).subscribe({next:()=>{this.isUpdatingVideo=!1,this.isUploadingVideo=!1,this.notifier.success("\u89C6\u9891\u5DF2\u53D1\u5E03\u3002"),this.router.navigateByUrl(M.nk.buildWatchUrl(e))},error:o=>{this.error=o.message,(0,A.k3)(),console.error(o)}})}getInputVideoFile(){return this.videofileInput.nativeElement.files[0]}uploadFile(e,o){const r={waitTranscoding:!0,commentsEnabled:!0,downloadEnabled:!0,channelId:this.firstStepChannelId,nsfw:this.serverConfig.instance.isNSFW,privacy:this.highestPrivacy.toString(),filename:e.name,previewfile:o};this.resumableUploadService.handleFiles(e,Object.assign(Object.assign({},this.uploadxOptions),{metadata:r})),this.isUploadingVideo=!0}handleUploadError(e){this.videoUploadPercents=0,this.enableRetryAfterError=!0,this.error=(0,A.qV)({err:e,name:"\u89C6\u9891",notifier:this.notifier,sticky:!1}),e.status===Kt.WE.UNSUPPORTED_MEDIA_TYPE_415&&this.cancelUpload()}closeFirstStep(e){const o=e.replace(/\.[^/.]+$/,""),r=o.length<3?e:o;this.form.patchValue({name:r,privacy:this.firstStepPrivacyId,nsfw:this.serverConfig.instance.isNSFW,channelId:this.firstStepChannelId,previewfile:this.previewfileUpload}),this.firstStepDone.emit(r)}checkGlobalUserQuota(e){const o=new M.$N,r=this.authService.getUser().videoQuota;if(-1!==r&&this.userVideoQuotaUsed+e.size>r){const _=o.transform(e.size,0),c=o.transform(this.userVideoQuotaUsed,0),a=o.transform(r,0),d="Your video quota is exceeded with this video (video size: " + _ + ", used: " + c + ", quota: " + a + ")";return this.notifier.error(d),!1}return!0}checkDailyUserQuota(e){const o=new M.$N,r=this.authService.getUser().videoQuotaDaily;if(-1!==r&&this.userVideoQuotaUsedDaily+e.size>r){const _=o.transform(e.size,0),c=o.transform(this.userVideoQuotaUsedDaily,0),a=o.transform(r,0),d="Your daily video quota is exceeded with this video (video size: " + _ + ", used: " + c + ", quota: " + a + ")";return this.notifier.error(d),!1}return!0}isAudioFile(e){return[".mp3",".flac",".ogg",".wma",".wav"].some(r=>e.endsWith(r))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.Q4),t.Y36(q.dL),t.Y36(u.d4),t.Y36(u.e8),t.Y36(u.NG),t.Y36(M.kI),t.Y36(M.iW),t.Y36(u.KD),t.Y36(V.F0),t.Y36(u.nT),t.Y36(E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-video-upload"]],viewQuery:function(e,o){if(1&e&&t.Gf(ne,5),2&e){let r;t.iGM(r=t.CRH())&&(o.videofileInput=r.first)}},outputs:{firstStepDone:"firstStepDone",firstStepError:"firstStepError"},features:[t.qOj],decls:10,vars:16,consts:function(){let i,e,o,r,_,c,a,d,s,g,C,l,v,y,S,Et;return i="\u53D1\u5E03",e="\u9009\u62E9\u8981\u4E0A\u4F20\u7684\u6587\u4EF6",o="\u9009\u62E9\u8981\u4E0A\u4F20\u7684\u6587\u4EF6",r="\u9891\u9053",_="\u9690\u79C1",c="\u89C6\u9891\u80CC\u666F\u56FE\u7247",a="\u56FE\u7247\u5C06\u4F1A\u88AB\u5408\u5E76\u5230\u60A8\u7684\u97F3\u8BAF\u6863\u4E2D\u3002 " + "\ufffd#6\ufffd\ufffd/#6\ufffd" + " \u9009\u62E9\u7684\u56FE\u50CF\u5C06\u662F\u56FA\u5B9A\u7684\uFF0C\u4E0D\u80FD\u4FEE\u6539\u3002 ",d="\u7F16\u8F91",s="\u4E0A\u4F20\u7684\u89C6\u9891\u603B\u6570",g="\u53D6\u6D88",C="\u6B63\u5728\u5904\u7406\u2026",l="\u91CD\u8BD5",v="\u53D6\u6D88",y="\u62B1\u6B49\uFF0C\u51FA\u9519\u4E86",S="\n  \u6210\u529F\uFF01 \u60A8\u53EF\u4EE5\u5728\u79C1\u4EAB\u5E93\u4E2D\u67E5\u770B\u60A8\u7684\u89C6\u9891\u3002\n",Et="\u4E0A\u4F20\u5B8C\u6BD5\u540E\u5373\u53EF\u53D1\u5E03",[["class","upload-video-container","myDragDrop","",3,"fileDropped",4,"ngIf"],["class","upload-progress-cancel",4,"ngIf"],["class","upload-progress-retry",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["novalidate","",1,"mb-3",3,"hidden","formGroup"],["type","upload",3,"form","formErrors","videoCaptions","validationMessages","userVideoChannels","waitTranscodingEnabled","schedulePublicationPossible"],[1,"submit-container"],["class","message-submit",4,"ngIf"],["className","orange-button","label",i,"icon","circle-tick",3,"disabled","click","keydown.enter"],["myDragDrop","",1,"upload-video-container",3,"fileDropped"],[1,"first-step-block"],["iconName","upload","aria-hidden","true",1,"upload-icon"],[1,"button-file","form-control",3,"ngbTooltip"],e,["aria-label",o,"id","videofile","type","file",3,"accept","change"],["videofileInput",""],[1,"form-group","form-group-channel"],["for","first-step-channel"],r,["labelForId","first-step-channel",3,"items","ngModel","ngModelChange"],[1,"form-group"],["for","first-step-privacy"],_,["labelForId","first-step-privacy",3,"items","ngModel","ngModelChange"],[4,"ngIf"],[1,"form-group","audio-preview"],["for","previewfileUpload"],c,[1,"audio-image-info"],a,["inputLabel",d,"inputName","previewfileUpload","previewWidth","360px","previewHeight","200px",3,"ngModel","ngModelChange"],[1,"form-group","upload-audio-button"],["className","orange-button","icon","upload",3,"label","click"],[1,"upload-progress-cancel"],["title",s,1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["type","button","value",g,3,"click",4,"ngIf"],C,["type","button","value",g,3,"click"],[1,"upload-progress-retry"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar","red"],["role","group",1,"btn-group"],["type","button","value",l,1,"btn",3,"click"],["type","button","value",v,1,"btn",3,"click"],[1,"alert","alert-danger"],y,[1,"alert","alert-info"],S,[1,"message-submit"],Et]},template:function(e,o){1&e&&(t.YNc(0,ie,17,7,"div",0),t.YNc(1,se,6,9,"div",1),t.YNc(2,pe,8,6,"div",2),t.YNc(3,de,4,1,"div",3),t.YNc(4,ge,2,0,"div",4),t.TgZ(5,"form",5),t._UZ(6,"my-video-edit",6),t.TgZ(7,"div",7),t.YNc(8,ue,2,0,"div",8),t.TgZ(9,"my-button",9),t.NdJ("click",function(){return o.updateSecondStep()})("keydown.enter",function(){return o.updateSecondStep()}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",!o.isUploadingVideo),t.xp6(1),t.Q6J("ngIf",o.isUploadingVideo&&!o.error),t.xp6(1),t.Q6J("ngIf",o.error&&o.enableRetryAfterError),t.xp6(1),t.Q6J("ngIf",o.error&&!o.enableRetryAfterError),t.xp6(1),t.Q6J("ngIf",o.videoUploaded&&!o.error),t.xp6(1),t.Q6J("hidden",!o.isUploadingVideo)("formGroup",o.form),t.xp6(1),t.Q6J("form",o.form)("formErrors",o.formErrors)("videoCaptions",o.videoCaptions)("validationMessages",o.validationMessages)("userVideoChannels",o.userVideoChannels)("waitTranscodingEnabled",!0)("schedulePublicationPossible",o.schedulePublicationPossible),t.xp6(2),t.Q6J("ngIf",!1===o.videoUploaded),t.xp6(1),t.Q6J("disabled",o.isPublishingButtonDisabled()))},directives:[R.O5,O._Y,O.JL,O.sg,Q.T,J.r,Pt,X.$,k._L,K.A,O.JJ,O.On,H.I,ee.T],styles:['label[_ngcontent-%COMP%], my-dynamic-form-field[_ngcontent-%COMP%]     label{font-weight:400;font-size:100%}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;opacity:.8}my-peertube-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}.nav-tabs[_ngcontent-%COMP%]{margin-bottom:15px}.video-edit[_ngcontent-%COMP%]{height:100%;min-height:300px}.video-edit[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.video-edit[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.video-edit[_ngcontent-%COMP%]   .label-tags[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px}.video-edit[_ngcontent-%COMP%]   .advanced-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.captions-header[_ngcontent-%COMP%]{text-align:end;margin-bottom:1rem}.create-caption[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.create-caption[_ngcontent-%COMP%]:hover, .create-caption[_ngcontent-%COMP%]:focus, .create-caption[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-right:17px}}.create-caption[_ngcontent-%COMP%]:focus, .create-caption.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-caption[_ngcontent-%COMP%], .create-caption[_ngcontent-%COMP%]:active, .create-caption[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-caption[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-caption[disabled][_ngcontent-%COMP%], .create-caption.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}.caption-entry[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]{flex-grow:1;color:#000}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover{opacity:.8}.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{font-size:15px;font-weight:bold;width:150px}@supports (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-inline-end:20px}}@supports not (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-right:20px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state[_ngcontent-%COMP%]{width:200px}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-create[_ngcontent-%COMP%]{color:#39cc0b}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-delete[_ngcontent-%COMP%]{color:red}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-right:17px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:active, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{cursor:default}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.no-caption[_ngcontent-%COMP%]{text-align:center;font-size:15px}.submit-container[_ngcontent-%COMP%]{text-align:end}.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{display:inline-block;color:var(--greyForegroundColor);font-size:15px}@supports (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-inline-end:25px}}@supports not (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-right:25px}}p-calendar[_ngcontent-%COMP%]{display:block}p-calendar[_ngcontent-%COMP%]     .p-calendar{width:100%}p-calendar[_ngcontent-%COMP%]     .p-inputtext{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;color:#000}p-calendar[_ngcontent-%COMP%]     .p-inputtext::placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     .p-inputtext[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){p-calendar[_ngcontent-%COMP%]     .p-inputtext{width:100%}}.form-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:66% 1fr;grid-gap:30px}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}',".first-step-block[_ngcontent-%COMP%]   .form-group-channel[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:35px}.first-step-block[_ngcontent-%COMP%]   .audio-image-info[_ngcontent-%COMP%]{margin-bottom:10px}.first-step-block[_ngcontent-%COMP%]   .audio-preview[_ngcontent-%COMP%]{margin:30px 0}.upload-progress-retry[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]{display:flex;margin-bottom:40px}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background-color:#e5e5e5;display:flex;height:1rem;overflow:hidden;font-size:.75rem;border-radius:.25rem;position:relative;flex-grow:1;height:30px;font-size:14px;background-color:#0bcc2929}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;color:#585858}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(1), .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(1){left:.2rem}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2), .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){right:.2rem}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{color:var(--mainBackgroundColor);background-color:var(--mainColor);display:flex;flex-direction:column;justify-content:center;text-align:center;white-space:nowrap;transition:width .6s ease}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.secondary[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.secondary[_ngcontent-%COMP%]{background-color:var(--secondaryColor)}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.red[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.red[_ngcontent-%COMP%]{background-color:#d56253}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#39cc0b;line-height:30px;text-align:start;font-weight:600}.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--mainBackgroundColor)}@supports (margin-inline-start: 13px){.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:13px}}@supports not (margin-inline-start: 13px){.upload-progress-retry[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:13px}}.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:17px}}.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .upload-progress-retry[_ngcontent-%COMP%]   input.focus-visible[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .upload-progress-cancel[_ngcontent-%COMP%]   input.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .upload-progress-retry[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%], .upload-progress-retry[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .upload-progress-cancel[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.upload-progress-retry[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%], .upload-progress-retry[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{cursor:default}.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}@supports (margin-inline-start: 10px){.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.upload-progress-retry[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload-progress-cancel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}}",'.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.first-step-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{width:90px;margin-bottom:25px}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .misc{color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:190px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:190px}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:190px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.first-step-block[_ngcontent-%COMP%]   input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(190px + 40px)){.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:190px;margin-top:30px}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   input[type=button].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;min-height:30px;padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:-webkit-max-content;width:max-content}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .button-file.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}']}),n})();var bt=p(45574),mt=p(6733),ht=p(73797);function Ce(n,i){1&n&&(t.ynx(0),t.tHW(1,22),t._UZ(2,"a",23),t.N_p(),t.BQk())}function fe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t._UZ(2,"my-global-icon",9),t.TgZ(3,"div",10),t.TgZ(4,"label",11),t.SDv(5,12),t.qZA(),t.TgZ(6,"my-help"),t.YNc(7,Ce,3,0,"ng-template",13),t.qZA(),t.TgZ(8,"input",14),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().targetUrl=r}),t.qZA(),t.qZA(),t.TgZ(9,"div",10),t.TgZ(10,"label",15),t.SDv(11,16),t.qZA(),t.TgZ(12,"my-select-channel",17),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepChannelId=r}),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"label",18),t.SDv(15,19),t.qZA(),t.TgZ(16,"my-select-options",20),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepPrivacyId=r}),t.qZA(),t.qZA(),t.TgZ(17,"input",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().importVideo()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngModel",e.targetUrl),t.xp6(4),t.Q6J("items",e.userVideoChannels)("ngModel",e.firstStepChannelId),t.xp6(4),t.Q6J("items",e.videoPrivacies)("ngModel",e.firstStepPrivacyId),t.xp6(1),t.Q6J("disabled",!e.isTargetUrlValid()||e.isImportingVideo)}}function Me(n,i){if(1&n&&(t.TgZ(0,"div",24),t.TgZ(1,"div"),t.SDv(2,25),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error,"\n")}}function Pe(n,i){if(1&n&&(t.TgZ(0,"div",26),t.SDv(1,27),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.pQV(e.targetUrl),t.QtT(1)}}let be=(()=>{class n extends G{constructor(e,o,r,_,c,a,d,s,g,C){super(),this.formValidatorService=e,this.loadingBar=o,this.notifier=r,this.authService=_,this.serverService=c,this.videoService=a,this.videoCaptionService=d,this.router=s,this.videoImportService=g,this.hooks=C,this.firstStepDone=new t.vpe,this.firstStepError=new t.vpe,this.targetUrl="",this.isImportingVideo=!1,this.hasImportedVideo=!1,this.isUpdatingVideo=!1}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.hooks.runAction("action:video-url-import.init","video-edit")}canDeactivate(){return{canDeactivate:!0}}isTargetUrlValid(){var e;return null===(e=this.targetUrl)||void 0===e?void 0:e.match(/https?:\/\//)}importVideo(){this.isImportingVideo=!0;const e={privacy:this.highestPrivacy,waitTranscoding:!1,commentsEnabled:!0,downloadEnabled:!0,channelId:this.firstStepChannelId};this.loadingBar.useRef().start(),this.videoImportService.importVideoUrl(this.targetUrl,e).pipe((0,Mt.w)(o=>this.videoCaptionService.listCaptions(o.video.id).pipe((0,st.U)(r=>({video:o.video,videoCaptions:r.data}))))).subscribe({next:({video:o,videoCaptions:r})=>{this.loadingBar.useRef().complete(),this.firstStepDone.emit(o.name),this.isImportingVideo=!1,this.hasImportedVideo=!0;const _=(0,A.Ir)();this.video=new M.fc(Object.assign(o,{commentsEnabled:e.commentsEnabled,downloadEnabled:e.downloadEnabled,privacy:{id:this.firstStepPrivacyId},support:null,thumbnailUrl:o.thumbnailPath?_+o.thumbnailPath:null,previewUrl:o.previewPath?_+o.previewPath:null})),this.videoCaptions=r,(0,bt.X)(this.form,this.video,!0)},error:o=>{this.loadingBar.useRef().complete(),this.isImportingVideo=!1,this.firstStepError.emit(),this.notifier.error(o.message)}})}updateSecondStep(){!1!==this.checkForm()&&(this.video.patch(this.form.value),this.isUpdatingVideo=!0,this.updateVideoAndCaptions(this.video).subscribe({next:()=>{this.isUpdatingVideo=!1,this.notifier.success("\u5DF2\u66F4\u65B0\u5F85\u5BFC\u5165\u7684\u89C6\u9891\u3002"),this.router.navigate(["/my-library","video-imports"])},error:e=>{this.error=e.message,(0,A.k3)(),console.error(e)}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.Q4),t.Y36(q.dL),t.Y36(u.d4),t.Y36(u.e8),t.Y36(u.NG),t.Y36(M.kI),t.Y36(M.iW),t.Y36(V.F0),t.Y36(M.Hg),t.Y36(u.nT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-video-import-url"]],outputs:{firstStepDone:"firstStepDone",firstStepError:"firstStepError"},features:[t.qOj],decls:7,vars:12,consts:function(){let i,e,o,r,_,c,a,d;return i="\u66F4\u65B0",e="URL",o="\u9891\u9053",r="\u9690\u79C1",_="\u5BFC\u5165",c="\u4F60\u53EF\u4EE5\u5BFC\u5165\u4EFB\u4F55\u7F51\u5740 " + "\ufffd#2\ufffd" + "\u7531 youtube-dl \u652F\u6301" + "\ufffd/#2\ufffd" + " \u6216\u6307\u5411\u5A92\u4F53\u6587\u4EF6\u7684\u7F51\u5740\u94FE\u63A5\u3002\u60A8\u5E94\u8BE5\u786E\u4FDD\u60A8\u5BF9\u5B83\u6307\u5411\u7684\u5185\u5BB9\u62E5\u6709\u6269\u6563\u6743\uFF0C\u5426\u5219\u5B83\u53EF\u80FD\u4F1A\u7ED9\u60A8\u81EA\u5DF1\u548C\u60A8\u7684\u7F51\u7AD9\u5E26\u6765\u6CD5\u5F8B\u9EBB\u70E6\u3002 ",a="\u62B1\u6B49\uFF0C\u51FA\u9519\u4E86",d="\u606D\u559C,\u5728 " + "\ufffd0\ufffd" + " \u540E\u7684\u89C6\u9891\u5C06\u4F1A\u6C47\u5165\uFF01\u60A8\u5DF2\u7ECF\u53EF\u4EE5\u52A0\u5165\u5173\u4E8E\u6B64\u89C6\u9891\u7684\u4FE1\u606F\u4E86\u3002 ",[["class","upload-video-container",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["novalidate","",3,"hidden","formGroup"],["type","import-url",3,"form","formErrors","videoCaptions","schedulePublicationPossible","validationMessages","userVideoChannels"],[1,"submit-container"],["className","orange-button","label",i,"icon","circle-tick",3,"disabled","click"],[1,"upload-video-container"],[1,"first-step-block"],["iconName","upload","aria-hidden","true",1,"upload-icon"],[1,"form-group"],["for","targetUrl"],e,["ptTemplate","customHtml"],["type","text","id","targetUrl",1,"form-control",3,"ngModel","ngModelChange"],["for","first-step-channel"],o,["labelForId","first-step-channel",3,"items","ngModel","ngModelChange"],["for","first-step-privacy"],r,["labelForId","first-step-privacy",3,"items","ngModel","ngModelChange"],["type","button","value",_,3,"disabled","click"],c,["href","https://rg3.github.io/youtube-dl/supportedsites.html","target","_blank","rel","noopener noreferrer"],[1,"alert","alert-danger"],a,[1,"alert","alert-info"],d]},template:function(e,o){1&e&&(t.YNc(0,fe,18,6,"div",0),t.YNc(1,Me,4,1,"div",1),t.YNc(2,Pe,2,1,"div",2),t.TgZ(3,"form",3),t._UZ(4,"my-video-edit",4),t.TgZ(5,"div",5),t.TgZ(6,"my-button",6),t.NdJ("click",function(){return o.updateSecondStep()}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",!o.hasImportedVideo),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",!o.error&&o.hasImportedVideo),t.xp6(1),t.Q6J("hidden",!o.hasImportedVideo)("formGroup",o.form),t.xp6(1),t.Q6J("form",o.form)("formErrors",o.formErrors)("videoCaptions",o.videoCaptions)("schedulePublicationPossible",!1)("validationMessages",o.validationMessages)("userVideoChannels",o.userVideoChannels),t.xp6(2),t.Q6J("disabled",!o.form.valid||!0===o.isUpdatingVideo))},directives:[R.O5,O._Y,O.JL,O.sg,Q.T,J.r,X.$,mt.I,ht.Y,O.Fj,O.JJ,O.On,K.A,H.I],styles:['label[_ngcontent-%COMP%], my-dynamic-form-field[_ngcontent-%COMP%]     label{font-weight:400;font-size:100%}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;opacity:.8}my-peertube-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}.nav-tabs[_ngcontent-%COMP%]{margin-bottom:15px}.video-edit[_ngcontent-%COMP%]{height:100%;min-height:300px}.video-edit[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.video-edit[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.video-edit[_ngcontent-%COMP%]   .label-tags[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px}.video-edit[_ngcontent-%COMP%]   .advanced-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.captions-header[_ngcontent-%COMP%]{text-align:end;margin-bottom:1rem}.create-caption[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.create-caption[_ngcontent-%COMP%]:hover, .create-caption[_ngcontent-%COMP%]:focus, .create-caption[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-right:17px}}.create-caption[_ngcontent-%COMP%]:focus, .create-caption.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-caption[_ngcontent-%COMP%], .create-caption[_ngcontent-%COMP%]:active, .create-caption[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-caption[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-caption[disabled][_ngcontent-%COMP%], .create-caption.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}.caption-entry[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]{flex-grow:1;color:#000}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover{opacity:.8}.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{font-size:15px;font-weight:bold;width:150px}@supports (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-inline-end:20px}}@supports not (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-right:20px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state[_ngcontent-%COMP%]{width:200px}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-create[_ngcontent-%COMP%]{color:#39cc0b}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-delete[_ngcontent-%COMP%]{color:red}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-right:17px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:active, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{cursor:default}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.no-caption[_ngcontent-%COMP%]{text-align:center;font-size:15px}.submit-container[_ngcontent-%COMP%]{text-align:end}.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{display:inline-block;color:var(--greyForegroundColor);font-size:15px}@supports (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-inline-end:25px}}@supports not (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-right:25px}}p-calendar[_ngcontent-%COMP%]{display:block}p-calendar[_ngcontent-%COMP%]     .p-calendar{width:100%}p-calendar[_ngcontent-%COMP%]     .p-inputtext{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;color:#000}p-calendar[_ngcontent-%COMP%]     .p-inputtext::placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     .p-inputtext[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){p-calendar[_ngcontent-%COMP%]     .p-inputtext{width:100%}}.form-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:66% 1fr;grid-gap:30px}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}','.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.first-step-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{width:90px;margin-bottom:25px}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .misc{color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:190px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:190px}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:190px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.first-step-block[_ngcontent-%COMP%]   input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(190px + 40px)){.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:190px;margin-top:30px}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   input[type=button].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;min-height:30px;padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:-webkit-max-content;width:max-content}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .button-file.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}']}),n})();const me=["torrentfileInput"];function he(n,i){1&n&&(t.ynx(0),t.SDv(1,28),t.BQk())}function Ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("fileDropped",function(r){return t.CHM(e),t.oxw().setTorrentFile(r)}),t.TgZ(1,"div",8),t._UZ(2,"my-global-icon",9),t.TgZ(3,"div",10),t.TgZ(4,"span"),t.SDv(5,11),t.qZA(),t.TgZ(6,"input",12,13),t.NdJ("change",function(){return t.CHM(e),t.oxw().fileChange()}),t.qZA(),t.qZA(),t._UZ(8,"div",14),t.TgZ(9,"div",15),t.TgZ(10,"label",16),t.SDv(11,17),t.qZA(),t.TgZ(12,"my-help"),t.YNc(13,he,2,0,"ng-template",18),t.qZA(),t.TgZ(14,"input",19),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().magnetUri=r}),t.qZA(),t.qZA(),t.TgZ(15,"div",20),t.TgZ(16,"label",21),t.SDv(17,22),t.qZA(),t.TgZ(18,"my-select-channel",23),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepChannelId=r}),t.qZA(),t.qZA(),t.TgZ(19,"div",20),t.TgZ(20,"label",24),t.SDv(21,25),t.qZA(),t.TgZ(22,"my-select-options",26),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepPrivacyId=r}),t.qZA(),t.qZA(),t.TgZ(23,"input",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().importVideo()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngbTooltip","(extensions: .torrent)"),t.xp6(11),t.Q6J("ngModel",e.magnetUri),t.xp6(4),t.Q6J("items",e.userVideoChannels)("ngModel",e.firstStepChannelId),t.xp6(4),t.Q6J("items",e.videoPrivacies)("ngModel",e.firstStepPrivacyId),t.xp6(1),t.Q6J("disabled",!e.isMagnetUrlValid()||e.isImportingVideo)}}function ve(n,i){if(1&n&&(t.TgZ(0,"div",29),t.TgZ(1,"div"),t.SDv(2,30),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error,"\n")}}function Se(n,i){1&n&&(t.TgZ(0,"div",31),t.SDv(1,32),t.qZA())}let De=(()=>{class n extends G{constructor(e,o,r,_,c,a,d,s,g,C){super(),this.formValidatorService=e,this.loadingBar=o,this.notifier=r,this.authService=_,this.serverService=c,this.videoService=a,this.videoCaptionService=d,this.router=s,this.videoImportService=g,this.hooks=C,this.firstStepDone=new t.vpe,this.firstStepError=new t.vpe,this.magnetUri="",this.isImportingVideo=!1,this.hasImportedVideo=!1,this.isUpdatingVideo=!1}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.hooks.runAction("action:video-torrent-import.init","video-edit")}canDeactivate(){return{canDeactivate:!0}}isMagnetUrlValid(){return!!this.magnetUri}fileChange(){const e=this.torrentfileInput.nativeElement.files[0];!e||this.importVideo(e)}setTorrentFile(e){this.torrentfileInput.nativeElement.files=e,this.fileChange()}importVideo(e){this.isImportingVideo=!0;const o={privacy:this.highestPrivacy,waitTranscoding:!1,commentsEnabled:!0,downloadEnabled:!0,channelId:this.firstStepChannelId};this.loadingBar.useRef().start(),this.videoImportService.importVideoTorrent(e||this.magnetUri,o).subscribe({next:r=>{this.loadingBar.useRef().complete(),this.firstStepDone.emit(r.video.name),this.isImportingVideo=!1,this.hasImportedVideo=!0,this.video=new M.fc(Object.assign(r.video,{commentsEnabled:o.commentsEnabled,downloadEnabled:o.downloadEnabled,privacy:{id:this.firstStepPrivacyId},support:null,thumbnailUrl:null,previewUrl:null})),(0,bt.X)(this.form,this.video,!1)},error:r=>{this.loadingBar.useRef().complete(),this.isImportingVideo=!1,this.firstStepError.emit();let _=r.message;const c=r.body;"incorrect_files_in_torrent"===(null==c?void 0:c.code)&&(_="Torrents with only 1 file are supported."),this.notifier.error(_)}})}updateSecondStep(){!1!==this.checkForm()&&(this.video.patch(this.form.value),this.isUpdatingVideo=!0,this.updateVideoAndCaptions(this.video).subscribe({next:()=>{this.isUpdatingVideo=!1,this.notifier.success("\u5DF2\u66F4\u65B0\u5F85\u5BFC\u5165\u7684\u89C6\u9891\u3002"),this.router.navigate(["/my-library","video-imports"])},error:e=>{this.error=e.message,(0,A.k3)(),console.error(e)}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.Q4),t.Y36(q.dL),t.Y36(u.d4),t.Y36(u.e8),t.Y36(u.NG),t.Y36(M.kI),t.Y36(M.iW),t.Y36(V.F0),t.Y36(M.Hg),t.Y36(u.nT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-video-import-torrent"]],viewQuery:function(e,o){if(1&e&&t.Gf(me,5),2&e){let r;t.iGM(r=t.CRH())&&(o.torrentfileInput=r.first)}},outputs:{firstStepDone:"firstStepDone",firstStepError:"firstStepError"},features:[t.qOj],decls:7,vars:12,consts:function(){let i,e,o,r,_,c,a,d,s,g,C;return i="\u66F4\u65B0",e="\u9009\u62E9\u8981\u5BFC\u5165\u7684\u79CD\u5B50\u6587\u4EF6",o="\u9009\u62E9\u8981\u5BFC\u5165\u7684\u79CD\u5B50\u6587\u4EF6",r="\u6216",_="\u7C98\u8D34\u78C1\u529B\u94FE",c="\u9891\u9053",a="\u9690\u79C1",d="\u5BFC\u5165",s="\u4F60\u53EF\u4EE5\u5BFC\u5165\u4EFB\u4F55\u6307\u5411\u5A92\u4F53\u6587\u4EF6\u7684\u79CD\u5B50\u6587\u4EF6\u3002\u60A8\u5E94\u8BE5\u786E\u4FDD\u60A8\u5BF9\u5B83\u6307\u5411\u7684\u5185\u5BB9\u62E5\u6709\u4F20\u64AD\u6743\uFF0C\u5426\u5219\u5B83\u53EF\u80FD\u4F1A\u7ED9\u60A8\u81EA\u5DF1\u548C\u60A8\u7684\u7F51\u7AD9\u5E26\u6765\u6CD5\u5F8B\u9EBB\u70E6\u3002",g="\u62B1\u6B49\uFF0C\u51FA\u9519\u4E86",C="\n  \u6210\u529F\uFF01\u6B64\u89C6\u9891\u5C06\u4F1A\u901A\u8FC7\u79CD\u5B50\u5BFC\u5165\u3002\u73B0\u5728\u60A8\u53EF\u4EE5\u586B\u5199\u5173\u4E8E\u6B64\u89C6\u9891\u7684\u4FE1\u606F\u4E86\u3002\n",[["class","upload-video-container","myDragDrop","",3,"fileDropped",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["novalidate","",3,"hidden","formGroup"],["type","import-torrent",3,"form","formErrors","videoCaptions","schedulePublicationPossible","validationMessages","userVideoChannels"],[1,"submit-container"],["className","orange-button","label",i,"icon","circle-tick",3,"disabled","click"],["myDragDrop","",1,"upload-video-container",3,"fileDropped"],[1,"first-step-block"],["iconName","upload","aria-hidden","true",1,"upload-icon"],[1,"button-file","form-control",3,"ngbTooltip"],e,["aria-label",o,"type","file","name","torrentfile","id","torrentfile","accept",".torrent",3,"change"],["torrentfileInput",""],["data-content",r,1,"torrent-or-magnet"],[1,"form-group","form-group-magnet-uri"],["for","magnetUri"],_,["ptTemplate","customHtml"],["type","text","id","magnetUri",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],["for","first-step-channel"],c,["labelForId","first-step-channel",3,"items","ngModel","ngModelChange"],["for","first-step-privacy"],a,["labelForId","first-step-privacy",3,"items","ngModel","ngModelChange"],["type","button","value",d,3,"disabled","click"],s,[1,"alert","alert-danger"],g,[1,"alert","alert-info"],C]},template:function(e,o){1&e&&(t.YNc(0,Ee,24,7,"div",0),t.YNc(1,ve,4,1,"div",1),t.YNc(2,Se,2,0,"div",2),t.TgZ(3,"form",3),t._UZ(4,"my-video-edit",4),t.TgZ(5,"div",5),t.TgZ(6,"my-button",6),t.NdJ("click",function(){return o.updateSecondStep()}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",!o.hasImportedVideo),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",o.hasImportedVideo&&!o.error),t.xp6(1),t.Q6J("hidden",!o.hasImportedVideo)("formGroup",o.form),t.xp6(1),t.Q6J("form",o.form)("formErrors",o.formErrors)("videoCaptions",o.videoCaptions)("schedulePublicationPossible",!1)("validationMessages",o.validationMessages)("userVideoChannels",o.userVideoChannels),t.xp6(2),t.Q6J("disabled",!o.form.valid||!0===o.isUpdatingVideo))},directives:[R.O5,O._Y,O.JL,O.sg,Q.T,J.r,Pt,X.$,k._L,mt.I,ht.Y,O.Fj,O.JJ,O.On,K.A,H.I],styles:['label[_ngcontent-%COMP%], my-dynamic-form-field[_ngcontent-%COMP%]     label{font-weight:400;font-size:100%}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;opacity:.8}my-peertube-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}.nav-tabs[_ngcontent-%COMP%]{margin-bottom:15px}.video-edit[_ngcontent-%COMP%]{height:100%;min-height:300px}.video-edit[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.video-edit[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.video-edit[_ngcontent-%COMP%]   .label-tags[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px}.video-edit[_ngcontent-%COMP%]   .advanced-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.captions-header[_ngcontent-%COMP%]{text-align:end;margin-bottom:1rem}.create-caption[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.create-caption[_ngcontent-%COMP%]:hover, .create-caption[_ngcontent-%COMP%]:focus, .create-caption[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-right:17px}}.create-caption[_ngcontent-%COMP%]:focus, .create-caption.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-caption[_ngcontent-%COMP%], .create-caption[_ngcontent-%COMP%]:active, .create-caption[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-caption[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-caption[disabled][_ngcontent-%COMP%], .create-caption.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}.caption-entry[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]{flex-grow:1;color:#000}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover{opacity:.8}.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{font-size:15px;font-weight:bold;width:150px}@supports (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-inline-end:20px}}@supports not (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-right:20px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state[_ngcontent-%COMP%]{width:200px}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-create[_ngcontent-%COMP%]{color:#39cc0b}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-delete[_ngcontent-%COMP%]{color:red}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-right:17px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:active, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{cursor:default}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.no-caption[_ngcontent-%COMP%]{text-align:center;font-size:15px}.submit-container[_ngcontent-%COMP%]{text-align:end}.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{display:inline-block;color:var(--greyForegroundColor);font-size:15px}@supports (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-inline-end:25px}}@supports not (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-right:25px}}p-calendar[_ngcontent-%COMP%]{display:block}p-calendar[_ngcontent-%COMP%]     .p-calendar{width:100%}p-calendar[_ngcontent-%COMP%]     .p-inputtext{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;color:#000}p-calendar[_ngcontent-%COMP%]     .p-inputtext::placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     .p-inputtext[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){p-calendar[_ngcontent-%COMP%]     .p-inputtext{width:100%}}.form-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:66% 1fr;grid-gap:30px}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}',".first-step-block[_ngcontent-%COMP%]   .torrent-or-magnet[_ngcontent-%COMP%]{width:95%;border-top:.05rem solid var(--inputPlaceholderColor);height:.05rem;text-align:center;display:block;position:relative}.first-step-block[_ngcontent-%COMP%]   .torrent-or-magnet[data-content][_ngcontent-%COMP%]{margin:.8rem 0}.first-step-block[_ngcontent-%COMP%]   .torrent-or-magnet[data-content][_ngcontent-%COMP%]:after{background:var(--submenuBackgroundColor);color:var(--inputPlaceholderColor);content:attr(data-content);display:inline-block;font-size:.7rem;padding:0 .4rem;transform:translateY(-.65rem)}.first-step-block[_ngcontent-%COMP%]   .torrent-or-magnet[data-content][_ngcontent-%COMP%]{margin:1.5rem 0}.first-step-block[_ngcontent-%COMP%]   .form-group-magnet-uri[_ngcontent-%COMP%]{margin-bottom:40px}",'.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.first-step-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{width:90px;margin-bottom:25px}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .misc{color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:190px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:190px}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:190px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.first-step-block[_ngcontent-%COMP%]   input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(190px + 40px)){.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:190px;margin-top:30px}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   input[type=button].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;min-height:30px;padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:-webkit-max-content;width:max-content}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .button-file.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}']}),n})();var ye=p(19212),Ie=p(22557),xe=p(95619);function Te(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t._UZ(2,"my-global-icon",9),t.TgZ(3,"div",10),t.TgZ(4,"label",11),t.SDv(5,12),t.qZA(),t.TgZ(6,"my-select-channel",13),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepChannelId=r}),t.qZA(),t.qZA(),t.TgZ(7,"div",10),t.TgZ(8,"label",14),t.SDv(9,15),t.qZA(),t.TgZ(10,"my-select-options",16),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().firstStepPrivacyId=r}),t.qZA(),t.qZA(),t.TgZ(11,"input",17),t.NdJ("click",function(){return t.CHM(e),t.oxw().goLive()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("items",e.userVideoChannels)("ngModel",e.firstStepChannelId),t.xp6(4),t.Q6J("items",e.videoPrivacies)("ngModel",e.firstStepPrivacyId)}}function Ve(n,i){if(1&n&&(t.TgZ(0,"div",18),t.TgZ(1,"div"),t.SDv(2,19),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.error,"\n")}}function Ne(n,i){if(1&n&&(t.TgZ(0,"div",20),t.SDv(1,21),t.ALo(2,"myDurationFormatter"),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.pQV(t.lcZ(2,1,e.getMaxLiveDuration())),t.QtT(1)}}let Ae=(()=>{class n extends G{constructor(e,o,r,_,c,a,d,s,g,C){super(),this.formValidatorService=e,this.loadingBar=o,this.notifier=r,this.authService=_,this.serverService=c,this.videoService=a,this.videoCaptionService=d,this.liveVideoService=s,this.router=g,this.hooks=C,this.firstStepDone=new t.vpe,this.firstStepError=new t.vpe,this.isInUpdateForm=!1}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.hooks.runAction("action:go-live.init","video-edit")}canDeactivate(){return{canDeactivate:!0}}goLive(){const e="Live",o={name:e,privacy:this.highestPrivacy,nsfw:this.serverConfig.instance.isNSFW,waitTranscoding:!0,commentsEnabled:!0,downloadEnabled:!0,channelId:this.firstStepChannelId},r=Object.assign({},o,{privacy:this.firstStepPrivacyId});this.form.patchValue(r),this.liveVideoService.goLive(o).subscribe({next:_=>{this.videoId=_.video.id,this.videoUUID=_.video.uuid,this.videoShortUUID=_.video.shortUUID,this.isInUpdateForm=!0,this.firstStepDone.emit(e),this.fetchVideoLive()},error:_=>{this.firstStepError.emit();let c=_.message;const a=_.body;"max_instance_lives_limit_reached"===(null==a?void 0:a.code)?c="\u56E0\u4E3A\u6B64\u7F51\u7AD9\u5EFA\u7ACB\u4E86\u592A\u591A\u76F4\u64AD\uFF0C\u6240\u4EE5\u65E0\u6CD5\u518D\u5EFA\u7ACB\u76F4\u64AD":"max_user_lives_limit_reached"===(null==a?void 0:a.code)&&(c="\u4E0D\u80FD\u521B\u5EFA\u76F4\u64AD\uFF0C\u56E0\u4E3A\u4F60\u521B\u5EFA\u4E86\u592A\u591A\u7684\u76F4\u64AD"),this.notifier.error(c)}})}updateSecondStep(){if(!1===this.checkForm())return;const e=new M.fc;e.patch(this.form.value),e.id=this.videoId,e.uuid=this.videoUUID,e.shortUUID=this.videoShortUUID;const o={saveReplay:this.form.value.saveReplay,permanentLive:this.form.value.permanentLive};(0,ye.D)([this.updateVideoAndCaptions(e),this.liveVideoService.updateLive(this.videoId,o)]).subscribe({next:()=>{this.notifier.success("\u76F4\u64AD\u5DF2\u53D1\u5E03\u3002"),this.router.navigateByUrl(M.nk.buildWatchUrl(e))},error:r=>{this.error=r.message,(0,A.k3)(),console.error(r)}})}getMaxLiveDuration(){return this.serverConfig.live.maxDuration/1e3}isWaitTranscodingEnabled(){return!0===this.form.value.saveReplay}fetchVideoLive(){this.liveVideoService.getVideoLive(this.videoId).subscribe({next:e=>{this.liveVideo=e},error:e=>{this.firstStepError.emit(),this.notifier.error(e.message)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.Q4),t.Y36(q.dL),t.Y36(u.d4),t.Y36(u.e8),t.Y36(u.NG),t.Y36(M.kI),t.Y36(M.iW),t.Y36(Ie.CS),t.Y36(V.F0),t.Y36(u.nT))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-video-go-live"]],outputs:{firstStepDone:"firstStepDone",firstStepError:"firstStepError"},features:[t.qOj],decls:7,vars:14,consts:function(){let i,e,o,r,_,c;return i="\u66F4\u65B0",e="\u9891\u9053",o="\u9690\u79C1",r="\u76F4\u64AD",_="\u62B1\u6B49\uFF0C\u51FA\u9519\u4E86",c="\u6700\u957F\u76F4\u64AD\u65F6\u95F4\u4E3A " + "\ufffd0\ufffd" + ". \u5982\u679C\u60A8\u7684\u76F4\u64AD\u8FBE\u5230\u8FD9\u4E2A\u9650\u5236\uFF0C\u5B83\u5C06\u81EA\u52A8\u7EC8\u6B62\u3002 ",[["class","upload-video-container",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["novalidate","",3,"hidden","formGroup"],["type","go-live",3,"form","formErrors","videoCaptions","schedulePublicationPossible","waitTranscodingEnabled","validationMessages","userVideoChannels","liveVideo"],[1,"submit-container"],["className","orange-button","label",i,"icon","circle-tick",3,"disabled","click"],[1,"upload-video-container"],[1,"first-step-block"],["iconName","upload","aria-hidden","true",1,"upload-icon"],[1,"form-group"],["for","first-step-channel"],e,["labelForId","first-step-channel",3,"items","ngModel","ngModelChange"],["for","first-step-privacy"],o,["labelForId","first-step-privacy",3,"items","ngModel","ngModelChange"],["type","button","value",r,3,"click"],[1,"alert","alert-danger"],_,[1,"alert","alert-info"],c]},template:function(e,o){1&e&&(t.YNc(0,Te,12,4,"div",0),t.YNc(1,Ve,4,1,"div",1),t.YNc(2,Ne,3,3,"div",2),t.TgZ(3,"form",3),t._UZ(4,"my-video-edit",4),t.TgZ(5,"div",5),t.TgZ(6,"my-button",6),t.NdJ("click",function(){return o.updateSecondStep()}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",!o.isInUpdateForm),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",o.isInUpdateForm&&o.getMaxLiveDuration()>=0),t.xp6(1),t.Q6J("hidden",!o.isInUpdateForm)("formGroup",o.form),t.xp6(1),t.Q6J("form",o.form)("formErrors",o.formErrors)("videoCaptions",o.videoCaptions)("schedulePublicationPossible",!1)("waitTranscodingEnabled",o.isWaitTranscodingEnabled())("validationMessages",o.validationMessages)("userVideoChannels",o.userVideoChannels)("liveVideo",o.liveVideo),t.xp6(2),t.Q6J("disabled",!o.form.valid))},directives:[R.O5,O._Y,O.JL,O.sg,Q.T,J.r,X.$,K.A,O.JJ,O.On,H.I],pipes:[xe.w],styles:['label[_ngcontent-%COMP%], my-dynamic-form-field[_ngcontent-%COMP%]     label{font-weight:400;font-size:100%}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: auto){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.title-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;opacity:.8}my-peertube-checkbox[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}.nav-tabs[_ngcontent-%COMP%]{margin-bottom:15px}.video-edit[_ngcontent-%COMP%]{height:100%;min-height:300px}.video-edit[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.video-edit[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){.video-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.video-edit[_ngcontent-%COMP%]   .label-tags[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px}.video-edit[_ngcontent-%COMP%]   .advanced-settings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.captions-header[_ngcontent-%COMP%]{text-align:end;margin-bottom:1rem}.create-caption[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.create-caption[_ngcontent-%COMP%]:hover, .create-caption[_ngcontent-%COMP%]:focus, .create-caption[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.create-caption[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.create-caption[_ngcontent-%COMP%]{padding-right:17px}}.create-caption[_ngcontent-%COMP%]:focus, .create-caption.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.create-caption[_ngcontent-%COMP%], .create-caption[_ngcontent-%COMP%]:active, .create-caption[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.create-caption[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.create-caption[disabled][_ngcontent-%COMP%], .create-caption.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.create-caption[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}.caption-entry[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]{flex-grow:1;color:#000}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.caption-entry[_ngcontent-%COMP%]   a.caption-entry-label[_ngcontent-%COMP%]:hover{opacity:.8}.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{font-size:15px;font-weight:bold;width:150px}@supports (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-inline-end:20px}}@supports not (margin-inline-end: 20px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-label[_ngcontent-%COMP%]{margin-right:20px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state[_ngcontent-%COMP%]{width:200px}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-create[_ngcontent-%COMP%]{color:#39cc0b}.caption-entry[_ngcontent-%COMP%]   .caption-entry-state.caption-entry-state-delete[_ngcontent-%COMP%]{color:red}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]{padding-right:17px}}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:hover, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:active, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]:focus, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[disabled][_ngcontent-%COMP%], .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete.disabled[_ngcontent-%COMP%]{cursor:default}.caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .caption-entry[_ngcontent-%COMP%]   .caption-entry-delete[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.no-caption[_ngcontent-%COMP%]{text-align:center;font-size:15px}.submit-container[_ngcontent-%COMP%]{text-align:end}.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{display:inline-block;color:var(--greyForegroundColor);font-size:15px}@supports (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-inline-end:25px}}@supports not (margin-inline-end: 25px){.submit-container[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{margin-right:25px}}p-calendar[_ngcontent-%COMP%]{display:block}p-calendar[_ngcontent-%COMP%]     .p-calendar{width:100%}p-calendar[_ngcontent-%COMP%]     .p-inputtext{padding:0 15px;display:inline-block;height:30px;width:100%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;color:#000}p-calendar[_ngcontent-%COMP%]     .p-inputtext::placeholder{color:var(--inputPlaceholderColor)}p-calendar[_ngcontent-%COMP%]     .p-inputtext[readonly]{opacity:.7}@media screen and (max-width: calc(100% + 40px)){p-calendar[_ngcontent-%COMP%]     .p-inputtext{width:100%}}.form-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:66% 1fr;grid-gap:30px}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media screen and (max-width: 800px){.main-col.expanded[_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%], .main-col.expanded   [_nghost-%COMP%]   .form-columns[_ngcontent-%COMP%]{grid-template-columns:1fr}}','.alert.alert-danger[_ngcontent-%COMP%]{text-align:center}.alert.alert-danger[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600}.first-step-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{width:90px;margin-bottom:25px}.first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]     .misc{color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:190px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:190px}@media screen and (max-width: 190px){.first-step-block[_ngcontent-%COMP%]   my-select-options[_ngcontent-%COMP%]     ng-select, .first-step-block[_ngcontent-%COMP%]   my-select-channel[_ngcontent-%COMP%]     ng-select{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:190px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.first-step-block[_ngcontent-%COMP%]   input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(190px + 40px)){.first-step-block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:190px;margin-top:30px}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   input[type=button].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   input[type=button][disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   input[type=button].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;min-height:30px;padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;width:-webkit-max-content;width:max-content}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;font-size:100px;text-align:end;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}@supports (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]{padding-right:17px}}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus, .first-step-block[_ngcontent-%COMP%]   .button-file.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:active, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.first-step-block[_ngcontent-%COMP%]   .button-file[disabled][_ngcontent-%COMP%], .first-step-block[_ngcontent-%COMP%]   .button-file.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-step-block[_ngcontent-%COMP%]   .button-file[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}']}),n})();const Re=["videoUpload"],ke=["videoImportUrl"],we=["videoImportTorrent"],Le=["videoGoLive"];function Ue(n,i){1&n&&(t.TgZ(0,"a",5),t.SDv(1,6),t.qZA())}function Fe(n,i){1&n&&(t.TgZ(0,"a",7),t.SDv(1,8),t.qZA())}function $e(n,i){if(1&n&&(t.YNc(0,Ue,2,0,"a",3),t.YNc(1,Fe,2,0,"a",4)),2&n){const e=t.oxw();t.Q6J("ngIf",!e.isContactFormEnabled),t.xp6(1),t.Q6J("ngIf",e.isContactFormEnabled)}}function Ze(n,i){}function Ye(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",9),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.YNc(4,Ze,0,0,"ng-template",10),t.qZA(),t.TgZ(5,"div",11),t._UZ(6,"img",12),t.qZA(),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(1);t.xp6(3),t.Oqu(e.uploadMessages.noQuota),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function ze(n,i){}function Be(n,i){if(1&n&&t.YNc(0,ze,0,0,"ng-template",10),2&n){t.oxw(3);const e=t.MAs(1);t.Q6J("ngTemplateOutlet",e)}}function Ge(n,i){if(1&n&&(t.TgZ(0,"div",17),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.YNc(3,Be,1,1,void 0,1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.uploadMessages.autoBlock),t.xp6(1),t.Q6J("ngIf",!e.hasNoQuotaLeft&&!e.hasNoQuotaLeftDaily)}}function qe(n,i){}function Qe(n,i){if(1&n&&t.YNc(0,qe,0,0,"ng-template",10),2&n){t.oxw(3);const e=t.MAs(1);t.Q6J("ngTemplateOutlet",e)}}function Je(n,i){if(1&n&&(t.TgZ(0,"div",18),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.YNc(3,Qe,1,1,void 0,1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.uploadMessages.quotaLeftDaily),t.xp6(1),t.Q6J("ngIf",!e.hasNoQuotaLeft)}}function Xe(n,i){}function Ke(n,i){if(1&n&&(t.TgZ(0,"div",19),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.YNc(3,Xe,0,0,"ng-template",10),t.qZA()),2&n){const e=t.oxw(2),o=t.MAs(1);t.xp6(2),t.Oqu(e.uploadMessages.quotaLeft),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function He(n,i){1&n&&(t.TgZ(0,"div",20),t.tHW(1,21),t._UZ(2,"strong"),t._UZ(3,"br"),t._UZ(4,"a",22),t.N_p(),t.qZA())}function je(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ge,4,2,"div",13),t.YNc(2,Je,4,2,"div",14),t.YNc(3,Ke,4,2,"div",15),t.YNc(4,He,5,0,"div",16),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.user.isAutoBlocked(e.serverConfig)),t.xp6(1),t.Q6J("ngIf",e.hasNoQuotaLeftDaily),t.xp6(1),t.Q6J("ngIf",e.hasNoQuotaLeft),t.xp6(1),t.Q6J("ngIf",e.isRootUser())}}function We(n,i){if(1&n&&t._UZ(0,"my-user-quota",36),2&n){const e=t.oxw(2);t.Q6J("user",e.user)("userInformationLoaded",e.userInformationLoaded)}}function tn(n,i){if(1&n&&(t.ynx(0),t.SDv(1,38),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.pQV(e.videoName),t.QtT(1)}}function en(n,i){if(1&n&&(t.ynx(0),t.SDv(1,39),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.pQV(e.videoName),t.QtT(1)}}function nn(n,i){if(1&n&&(t.TgZ(0,"div",37),t.YNc(1,tn,2,1,"ng-container",1),t.YNc(2,en,2,1,"ng-container",1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","import-url"===e.secondStepType||"import-torrent"===e.secondStepType),t.xp6(1),t.Q6J("ngIf","upload"===e.secondStepType)}}function on(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"my-video-upload",40,41),t.NdJ("firstStepDone",function(r){return t.CHM(e),t.oxw(2).onFirstStepDone("upload",r)})("firstStepError",function(){return t.CHM(e),t.oxw(2).onError()}),t.qZA()}}function rn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"my-video-import-url",40,44),t.NdJ("firstStepDone",function(r){return t.CHM(e),t.oxw(3).onFirstStepDone("import-url",r)})("firstStepError",function(){return t.CHM(e),t.oxw(3).onError()}),t.qZA()}}function _n(n,i){1&n&&(t.ynx(0,42),t.TgZ(1,"a",29),t.TgZ(2,"span"),t.SDv(3,43),t.qZA(),t.qZA(),t.YNc(4,rn,2,0,"ng-template",31),t.BQk())}function cn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"my-video-import-torrent",40,47),t.NdJ("firstStepDone",function(r){return t.CHM(e),t.oxw(3).onFirstStepDone("import-torrent",r)})("firstStepError",function(){return t.CHM(e),t.oxw(3).onError()}),t.qZA()}}function an(n,i){1&n&&(t.ynx(0,45),t.TgZ(1,"a",29),t.TgZ(2,"span"),t.SDv(3,46),t.qZA(),t.qZA(),t.YNc(4,cn,2,0,"ng-template",31),t.BQk())}function sn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"my-video-go-live",40,50),t.NdJ("firstStepDone",function(r){return t.CHM(e),t.oxw(3).onFirstStepDone("go-live",r)})("firstStepError",function(){return t.CHM(e),t.oxw(3).onError()}),t.qZA()}}function ln(n,i){1&n&&(t.ynx(0,48),t.TgZ(1,"a",29),t.TgZ(2,"span"),t.SDv(3,49),t.qZA(),t.qZA(),t.YNc(4,sn,2,0,"ng-template",31),t.BQk())}const pn=function(n){return{"hide-nav":n}};function dn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",23),t.YNc(1,We,1,2,"my-user-quota",24),t.YNc(2,nn,3,2,"div",25),t._UZ(3,"my-channels-setup-message"),t.TgZ(4,"div",26,27),t.NdJ("activeIdChange",function(r){return t.CHM(e),t.oxw().onNavChange(r)}),t.ynx(6,28),t.TgZ(7,"a",29),t.TgZ(8,"span"),t.SDv(9,30),t.qZA(),t.qZA(),t.YNc(10,on,2,0,"ng-template",31),t.BQk(),t.YNc(11,_n,5,0,"ng-container",32),t.YNc(12,an,5,0,"ng-container",33),t.YNc(13,ln,5,0,"ng-container",34),t.qZA(),t._UZ(14,"div",35),t.qZA()}if(2&n){const e=t.MAs(5),o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.isInSecondStep()||"go-live"===o.secondStepType),t.xp6(1),t.Q6J("ngIf",o.isInSecondStep()),t.xp6(2),t.Q6J("activeId",o.activeNav)("ngClass",t.VKq(8,pn,!!o.secondStepType)),t.xp6(7),t.Q6J("ngIf",o.isVideoImportHttpEnabled()),t.xp6(1),t.Q6J("ngIf",o.isVideoImportTorrentEnabled()),t.xp6(1),t.Q6J("ngIf",o.isVideoLiveEnabled()),t.xp6(1),t.Q6J("ngbNavOutlet",e)}}const gn=[{path:"",component:(()=>{class n{constructor(e,o,r,_,c,a){this.auth=e,this.userService=o,this.hooks=r,this.serverService=_,this.route=c,this.router=a,this.user=null,this.hasNoQuotaLeft=!1,this.hasNoQuotaLeftDaily=!1}get isContactFormEnabled(){return this.serverConfig.email.enabled&&this.serverConfig.contactForm.enabled}get userInformationLoaded(){return this.auth.userInformationLoaded}ngOnInit(){this.user=this.auth.getUser(),this.serverConfig=this.serverService.getHTMLConfig(),this.route.snapshot.fragment&&this.onNavChange(this.route.snapshot.fragment),this.buildUploadMessages(),this.userService.getMyVideoQuotaUsed().subscribe(e=>{e.videoQuotaUsed>.9*this.user.videoQuota&&(this.hasNoQuotaLeft=!0),-1===this.user.videoQuota&&(this.hasNoQuotaLeft=!1),e.videoQuotaUsedDaily>.9*this.user.videoQuotaDaily&&(this.hasNoQuotaLeftDaily=!0),-1===this.user.videoQuotaDaily&&(this.hasNoQuotaLeftDaily=!1)})}buildUploadMessages(){return(0,Ct.mG)(this,void 0,void 0,function*(){const c={noQuota:"\u5BF9\u4E0D\u8D77\uFF0C\u60A8\u7684\u5E10\u6237\u7684\u4E0A\u4F20\u529F\u80FD\u5DF2\u88AB\u7981\u7528\u3002\u5982\u679C\u4F60\u60F3\u6DFB\u52A0\u89C6\u9891\uFF0C\u7BA1\u7406\u5458\u5FC5\u987B\u89E3\u9501\u60A8\u7684\u6743\u9650\u3002",autoBlock:"Uploaded videos are reviewed before publishing for your account. If you want to add videos without moderation review, an admin must turn off your videos auto-block.",quotaLeftDaily:"Your daily video quota is insufficient. If you want to add more videos, you must wait for 24 hours or an admin must increase your daily quota.",quotaLeft:"Your video quota is insufficient. If you want to add more videos, an admin must increase your quota."};this.uploadMessages=yield this.hooks.wrapObject(c,"common","filter:upload.messages.create.result")})}onNavChange(e){this.activeNav=e,this.router.navigate([],{fragment:this.activeNav})}onFirstStepDone(e,o){this.secondStepType=e,this.videoName=o}onError(){this.videoName=void 0,this.secondStepType=void 0}onUnload(e){const{text:o,canDeactivate:r}=this.canDeactivate();if(!r)return e.returnValue=o,o}canDeactivate(){return"upload"===this.secondStepType?this.videoUpload.canDeactivate():"import-url"===this.secondStepType?this.videoImportUrl.canDeactivate():"import-torrent"===this.secondStepType?this.videoImportTorrent.canDeactivate():"go-live"===this.secondStepType?this.videoGoLive.canDeactivate():{canDeactivate:!0}}isVideoImportHttpEnabled(){return this.serverConfig.import.videos.http.enabled}isVideoImportTorrentEnabled(){return this.serverConfig.import.videos.torrent.enabled}isVideoLiveEnabled(){return this.serverConfig.live.enabled}isInSecondStep(){return!!this.secondStepType}isRootUser(){return"root"===this.user.username}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.e8),t.Y36(u.KD),t.Y36(u.nT),t.Y36(u.NG),t.Y36(V.gz),t.Y36(V.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-videos-add"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Re,5),t.Gf(ke,5),t.Gf(we,5),t.Gf(Le,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.videoUpload=r.first),t.iGM(r=t.CRH())&&(o.videoImportUrl=r.first),t.iGM(r=t.CRH())&&(o.videoImportTorrent=r.first),t.iGM(r=t.CRH())&&(o.videoGoLive=r.first)}},hostBindings:function(e,o){1&e&&t.NdJ("beforeunload",function(_){return o.onUnload(_)},!1,t.Jf7)},decls:5,vars:3,consts:function(){let i,e,o,r,_,c,a,d,s;return i="\u9605\u8BFB\u7F51\u7AD9\u89C4\u5219\u4EE5\u83B7\u5F97\u5E2E\u52A9",e="Contact us",o="\u6211\u4EEC\u5EFA\u8BAE\u60A8\u4E0D\u8981\u4F7F\u7528 " + "\ufffd#2\ufffd" + "root" + "\ufffd/#2\ufffd" + " \u7528\u6237\u53D1\u5E03\u60A8\u7684\u89C6\u9891\uFF0C\u56E0\u4E3A\u5B83\u662F\u60A8\u7684\u7F51\u7AD9\u7684\u8D85\u7EA7\u7BA1\u7406\u5E10\u6237\u3002 " + "\ufffd#3\ufffd\ufffd/#3\ufffd" + " \u4EE3\u66FF, " + "\ufffd#4\ufffd" + "\u521B\u5EFA\u4E00\u4E2A\u4E13\u7528\u8D26\u6237" + "\ufffd/#4\ufffd" + " \u4E0A\u4F20\u4F60\u7684\u89C6\u9891\u3002 ",r="\u4E0A\u4F20\u6587\u4EF6",_="\u6C47\u5165 " + "\ufffd0\ufffd" + "",c="\u4E0A\u4F20 " + "\ufffd0\ufffd" + "",a="\u901A\u8FC7 URL \u5BFC\u5165",d="\u901A\u8FC7\u79CD\u5B50\u6587\u4EF6\u5BFC\u5165",s="\u76F4\u64AD",[["AlertButtons",""],[4,"ngIf"],["class","margin-content",4,"ngIf"],["routerLink","/about/instance","class","about-link",4,"ngIf"],["routerLink","/about/contact","class","contact-link",4,"ngIf"],["routerLink","/about/instance",1,"about-link"],i,["routerLink","/about/contact",1,"contact-link"],e,[1,"upload-message","upload-disabled","alert","alert-warning"],[3,"ngTemplateOutlet"],[1,"upload-image"],["src","/client/assets/images/mascot/defeated.svg","alt","defeated mascot"],["class","upload-message auto-blocked alert alert-warning",4,"ngIf"],["class","upload-message quota-daily-left alert alert-warning",4,"ngIf"],["class","upload-message quota-left alert alert-warning",4,"ngIf"],["class","upload-message root-user alert alert-warning",4,"ngIf"],[1,"upload-message","auto-blocked","alert","alert-warning"],[1,"upload-message","quota-daily-left","alert","alert-warning"],[1,"upload-message","quota-left","alert","alert-warning"],[1,"upload-message","root-user","alert","alert-warning"],o,["routerLink","/admin/users"],[1,"margin-content"],[3,"user","userInformationLoaded",4,"ngIf"],["class","title-page title-page-single",4,"ngIf"],["ngbNav","",1,"nav-tabs","video-add-nav",3,"activeId","ngClass","activeIdChange"],["nav","ngbNav"],["ngbNavItem","upload"],["ngbNavLink",""],r,["ngbNavContent",""],["ngbNavItem","import-url",4,"ngIf"],["ngbNavItem","import-torrent",4,"ngIf"],["ngbNavItem","go-live",4,"ngIf"],[3,"ngbNavOutlet"],[3,"user","userInformationLoaded"],[1,"title-page","title-page-single"],_,c,[3,"firstStepDone","firstStepError"],["videoUpload",""],["ngbNavItem","import-url"],a,["videoImportUrl",""],["ngbNavItem","import-torrent"],d,["videoImportTorrent",""],["ngbNavItem","go-live"],s,["videoGoLive",""]]},template:function(e,o){1&e&&(t.YNc(0,$e,2,2,"ng-template",null,0,t.W1O),t.YNc(2,Ye,7,2,"ng-container",1),t.YNc(3,je,5,4,"ng-container",1),t.YNc(4,dn,15,10,"div",2)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.user.isUploadDisabled()),t.xp6(1),t.Q6J("ngIf",!o.user.isUploadDisabled()),t.xp6(1),t.Q6J("ngIf",!o.user.isUploadDisabled()))},directives:[R.O5,V.yS,R.tP,Jt.M,k.Pz,R.mk,k.nv,k.Vx,k.uN,k.tO,Xt.h,Oe,be,De,Ae],styles:[".upload-message[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:15px;margin-bottom:0;border-radius:0}.upload-message[_ngcontent-%COMP%]:last-child{margin-bottom:1rem}.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-top:10px}.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]:hover, .upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]:focus, .upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]:active, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]:hover, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]:focus, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]{padding-right:17px}}.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]:focus, .upload-message[_ngcontent-%COMP%]   .about-link.focus-visible[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]:focus, .upload-message[_ngcontent-%COMP%]   .contact-link.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]:active, .upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]:focus, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]:active, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]:hover, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.upload-message[_ngcontent-%COMP%]   .about-link[disabled][_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .about-link.disabled[_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link[disabled][_ngcontent-%COMP%], .upload-message[_ngcontent-%COMP%]   .contact-link.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .upload-message[_ngcontent-%COMP%]   .about-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .upload-message[_ngcontent-%COMP%]   .contact-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.upload-image[_ngcontent-%COMP%]{width:100%;text-align:center}.upload-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:75px;width:220px;height:auto}@media screen and (max-height: 600px){.upload-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:5px;width:160px}}.margin-content[_ngcontent-%COMP%]{padding-top:20px}  .video-add-nav{border-bottom:3px solid #EAEAEA;margin:20px 0 0!important}  .video-add-nav.hide-nav{display:none!important}  .video-add-nav a.nav-link{margin-bottom:-3px;height:40px!important;padding:0 30px!important;font-size:15px;border:3px solid transparent}  .video-add-nav a.nav-link:hover,   .video-add-nav a.nav-link:focus,   .video-add-nav a.nav-link:active{text-decoration:none!important;outline:none!important}  .video-add-nav a.nav-link span{border-bottom:2px solid transparent}  .video-add-nav a.nav-link.active{border-color:#eaeaea;border-bottom-color:transparent;background-color:var(--submenuBackgroundColor)!important}  .video-add-nav a.nav-link.active span{border-bottom-color:var(--mainColor)}  .video-add-nav a.nav-link:hover:not(.active){border-color:transparent}  .upload-video-container{border:3px solid #EAEAEA;border-top:transparent;background-color:var(--submenuBackgroundColor);border-bottom-left-radius:3px;border-bottom-right-radius:3px;width:100%;min-height:440px;padding-bottom:20px;display:flex;justify-content:center;padding-top:20px}  .upload-video-container.dragover{border:3px dashed var(--mainColor)}@media screen and (max-width: 800px){  .video-add-nav{height:46px;overflow-x:auto;white-space:nowrap;flex-wrap:unset}  .video-add-nav a.nav-link.active{border-color:transparent;background-color:var(--mainBackgroundColor)!important}}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]     .video-add-nav, .main-col:not(.expanded)   [_nghost-%COMP%]     .video-add-nav{height:46px;overflow-x:auto;white-space:nowrap;flex-wrap:unset}.main-col:not(.expanded)[_nghost-%COMP%]     .video-add-nav a.nav-link.active, .main-col:not(.expanded)   [_nghost-%COMP%]     .video-add-nav a.nav-link.active{border-color:transparent;background-color:var(--mainBackgroundColor)!important}}"]}),n})(),canActivate:[u.ie],canDeactivate:[u.Ic]}];let un=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[V.Bz.forChild(gn)],V.Bz]}),n})(),On=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[u.Ic],imports:[[un,Qt.w,L]]}),n})()},3782:(vt,$,p)=>{p.d($,{gI:()=>at,LF:()=>t,_G:()=>U,t3:()=>_t,qx:()=>I,FE:()=>ct,tq:()=>w,aI:()=>h,gn:()=>rt,G6:()=>Z});var u=p(89909);function t(P){return P.charAt(0).toUpperCase()+P.slice(1)}function U(){return!(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)}function rt(){return!!/iPad|iPhone|iPod/.test(navigator.platform)||!!(navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&navigator.platform.includes("MacIntel"))}function Z(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const Y=[{max:1024,type:"B"},{max:1048576,type:"KB"},{max:1073741824,type:"MB"},{max:10995116e5,type:"GB"}];function h(P){const b=Y.find(N=>P<N.max)||Y[Y.length-1];return[Math.floor(P/(b.max/1024)).toString(),b.type]}function w(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function _t(P,b){return'<iframe width="560" height="315" sandbox="allow-same-origin allow-scripts allow-popups" title="'+(0,u.r)(b)+'" src="'+P+'" frameborder="0" allowfullscreen></iframe>'}function I(P){let b=P[0];for(let D=1;D<P.length;D++){const N=P[D];b.resolution.id<N.resolution.id&&(b=N)}return b}function ct(P){let b=P[0];for(let D=1;D<P.length;D++){const N=P[D];b.resolution.id>N.resolution.id&&(b=N)}return b}function at(){return{iceServers:[{urls:"stun:stun.stunprotocol.org"},{urls:"stun:stun.framasoft.org"}]}}}}]);
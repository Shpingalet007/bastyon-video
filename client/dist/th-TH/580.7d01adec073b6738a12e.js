"use strict";(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[580],{21580:(W_,A_,g)=>{g.r(A_),g.d(A_,{AdminModule:()=>ql});var l=g(58041),Y=g(35697),f=g(9563),m_=g(35526),R_=g(33191),D_=g(63192),p_=g(83844),v=g(84167),l_=g(97694),x=g(62026),V=g(48600),t_=g(91061),P=g(49393),_=g(42741),a=g(93324),C=g(16274),C_=g(6733),s_=g(73797);function U_(n,o){if(1&n&&(_.TgZ(0,"div",39),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.cache.previews.size)}}function $_(n,o){if(1&n&&(_.TgZ(0,"div",39),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.cache.captions.size)}}function G_(n,o){if(1&n&&(_.TgZ(0,"div",39),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.cache.torrents.size)}}function Z_(n,o){1&n&&(_.ynx(0),_.tHW(1,40),_._UZ(2,"br"),_._UZ(3,"pre"),_.N_p(),_.BQk())}function w_(n,o){if(1&n&&(_.TgZ(0,"div",39),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.customizations.javascript)}}function m(n,o){1&n&&(_.ynx(0),_.tHW(1,41),_._UZ(2,"br"),_._UZ(3,"br"),_._UZ(4,"pre"),_._UZ(5,"em"),_._UZ(6,"br"),_._UZ(7,"br"),_._UZ(8,"pre"),_.N_p(),_.BQk()),2&n&&(_.xp6(8),_.pQV("{")("}")("{")("}"),_.QtT(1))}function y(n,o){if(1&n&&(_.TgZ(0,"div",39),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.customizations.css)}}const D=function(n){return{"input-error":n}};let $=(()=>{class n{getCacheSize(e){return this.form.value.cache[e].size}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-edit-advanced-configuration"]],inputs:{form:"form",formErrors:"formErrors"},decls:57,vars:24,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R;return o="CACHE",e=" Some files are not federated, and fetched when necessary. Define their caching policies. ",t="Number of previews to keep in cache",i="{VAR_PLURAL, plural, =1 {cached image} other {cached images}}",i=_.Zx4(i,{VAR_PLURAL:"\ufffd0\ufffd"}),r="Number of video captions to keep in cache",s="{VAR_PLURAL, plural, =1 {cached caption} other {cached captions}}",s=_.Zx4(s,{VAR_PLURAL:"\ufffd0\ufffd"}),c="Number of video torrents to keep in cache",u="{VAR_PLURAL, plural, =1 {cached torrent} other {cached torrents}}",u=_.Zx4(u,{VAR_PLURAL:"\ufffd0\ufffd"}),p="CUSTOMIZATIONS",d=" Slight modifications to your PeerTube instance for when creating a plugin or theme is overkill. ",N="JavaScript",A=" Write JavaScript code directly." + "\ufffd#2\ufffd\ufffd/#2\ufffd" + "Example: " + "\ufffd#3\ufffd" + "console.log('my instance is amazing');" + "\ufffd/#3\ufffd" + "",R=" Write CSS code directly. Example:" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "" + "[\ufffd#4\ufffd|\ufffd#8\ufffd]" + "#custom-css " + "[\ufffd0\ufffd|\ufffd2\ufffd]" + "\ncolor: red;\n" + "[\ufffd1\ufffd|\ufffd3\ufffd]" + "\n" + "[\ufffd/#4\ufffd|\ufffd/#8\ufffd]" + " Prepend with " + "\ufffd#5\ufffd" + "#custom-css" + "\ufffd/#5\ufffd" + " to override styles. Example:" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]" + "" + "[\ufffd#4\ufffd|\ufffd#8\ufffd]" + "#custom-css .logged-in-email " + "[\ufffd0\ufffd|\ufffd2\ufffd]" + "\ncolor: red;\n" + "[\ufffd1\ufffd|\ufffd3\ufffd]" + "\n" + "[\ufffd/#4\ufffd|\ufffd/#8\ufffd]" + "",R=_.Zx4(R),[[3,"formGroup"],[1,"form-row","mt-5"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"inner-form-title"],o,[1,"inner-form-description"],e,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],["formGroupName","cache"],["formGroupName","previews",1,"form-group"],["for","cachePreviewsSize"],t,[1,"number-with-unit"],["type","number","min","0","id","cachePreviewsSize","formControlName","size",1,"form-control",3,"ngClass"],i,["class","form-error",4,"ngIf"],["formGroupName","captions",1,"form-group"],["for","cacheCaptionsSize"],r,["type","number","min","0","id","cacheCaptionsSize","formControlName","size",1,"form-control",3,"ngClass"],s,["formGroupName","torrents",1,"form-group"],["for","cacheTorrentsSize"],c,["type","number","min","0","id","cacheTorrentsSize","formControlName","size",1,"form-control",3,"ngClass"],u,[1,"form-row","mt-4"],["id","customizations",1,"anchor"],p,d,["formGroupName","instance"],["formGroupName","customizations"],[1,"form-group"],["for","customizationJavascript"],N,["ptTemplate","customHtml"],["id","customizationJavascript","formControlName","javascript",1,"form-control",3,"ngClass"],["for","customizationCSS"],["id","customizationCSS","formControlName","css",1,"form-control",3,"ngClass"],[1,"form-error"],A,R]},template:function(e,t){1&e&&(_.ynx(0,0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.SDv(4,4),_.qZA(),_.TgZ(5,"div",5),_.SDv(6,6),_.qZA(),_.qZA(),_.TgZ(7,"div",7),_.ynx(8,8),_.TgZ(9,"div",9),_.TgZ(10,"label",10),_.SDv(11,11),_.qZA(),_.TgZ(12,"div",12),_._UZ(13,"input",13),_.TgZ(14,"span"),_.SDv(15,14),_.qZA(),_.qZA(),_.YNc(16,U_,2,1,"div",15),_.qZA(),_.TgZ(17,"div",16),_.TgZ(18,"label",17),_.SDv(19,18),_.qZA(),_.TgZ(20,"div",12),_._UZ(21,"input",19),_.TgZ(22,"span"),_.SDv(23,20),_.qZA(),_.qZA(),_.YNc(24,$_,2,1,"div",15),_.qZA(),_.TgZ(25,"div",21),_.TgZ(26,"label",22),_.SDv(27,23),_.qZA(),_.TgZ(28,"div",12),_._UZ(29,"input",24),_.TgZ(30,"span"),_.SDv(31,25),_.qZA(),_.qZA(),_.YNc(32,G_,2,1,"div",15),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(33,"div",26),_.TgZ(34,"div",2),_._UZ(35,"div",27),_.TgZ(36,"div",3),_.SDv(37,28),_.qZA(),_.TgZ(38,"div",5),_.SDv(39,29),_.qZA(),_.qZA(),_.TgZ(40,"div",7),_.ynx(41,30),_.ynx(42,31),_.TgZ(43,"div",32),_.TgZ(44,"label",33),_.SDv(45,34),_.qZA(),_.TgZ(46,"my-help"),_.YNc(47,Z_,4,0,"ng-template",35),_.qZA(),_._UZ(48,"textarea",36),_.YNc(49,w_,2,1,"div",15),_.qZA(),_.TgZ(50,"div",32),_.TgZ(51,"label",37),_._uU(52,"CSS"),_.qZA(),_.TgZ(53,"my-help"),_.YNc(54,m,9,4,"ng-template",35),_.qZA(),_._UZ(55,"textarea",38),_.YNc(56,y,2,1,"div",15),_.qZA(),_.BQk(),_.BQk(),_.qZA(),_.qZA(),_.BQk()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(13),_.Q6J("ngClass",_.VKq(14,D,t.formErrors["cache.previews.size"])),_.xp6(2),_.pQV(t.getCacheSize("previews")),_.QtT(15),_.xp6(1),_.Q6J("ngIf",t.formErrors.cache.previews.size),_.xp6(5),_.Q6J("ngClass",_.VKq(16,D,t.formErrors["cache.captions.size"])),_.xp6(2),_.pQV(t.getCacheSize("captions")),_.QtT(23),_.xp6(1),_.Q6J("ngIf",t.formErrors.cache.captions.size),_.xp6(5),_.Q6J("ngClass",_.VKq(18,D,t.formErrors["cache.torrents.size"])),_.xp6(2),_.pQV(t.getCacheSize("torrents")),_.QtT(31),_.xp6(1),_.Q6J("ngIf",t.formErrors.cache.torrents.size),_.xp6(16),_.Q6J("ngClass",_.VKq(20,D,t.formErrors["instance.customizations.javascript"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.customizations.javascript),_.xp6(6),_.Q6J("ngClass",_.VKq(22,D,t.formErrors["instance.customizations.css"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.customizations.css))},directives:[a.JL,a.sg,a.x0,a.qQ,a.wV,a.Fj,a.JJ,a.u,C.mk,C.O5,C_.I,s_.Y],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=number][_ngcontent-%COMP%]{width:100%}}.number-with-unit[_ngcontent-%COMP%]{position:relative;width:-webkit-min-content;width:min-content}.number-with-unit[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;top:5px;right:2.5rem}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #C6C6C6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;cursor:pointer;display:inline}@supports (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:flex}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline}@supports (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-left:5px}}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.alert-signup[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:10px}.callout-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:0;width:100%;justify-content:right}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;position:relative;right:3.3em;top:.3em;font-size:90%;color:var(--mainColor);background-color:var(--mainBackgroundColor);padding:0 .3em}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:hover, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:focus, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-right:17px}}']}),n})();var He=g(16858),__=g(97142),S_=g(24766),d_=g(31887),E=g(54755);class q{constructor(o,e){this.authHttp=o,this.restExtractor=e,this.videoQuotaOptions=[],this.videoQuotaDailyOptions=[],this.transcodingThreadOptions=[],this.videoQuotaOptions=[{id:-1,label:"\u0E44\u0E21\u0E48\u0E08\u0E33\u0E01\u0E31\u0E14"},{id:0,label:"None - no upload possible"},{id:104857600,label:"100MB"},{id:524288e3,label:"500MB"},{id:1073741824,label:"1GB"},{id:5368709120,label:"5GB"},{id:21474836480,label:"20GB"},{id:53687091200,label:"50GB"},{id:107374182400,label:"100GB"},{id:214748364800,label:"200GB"},{id:536870912e3,label:"500GB"}],this.videoQuotaDailyOptions=[{id:-1,label:"\u0E44\u0E21\u0E48\u0E08\u0E33\u0E01\u0E31\u0E14"},{id:0,label:"None - no upload possible"},{id:10485760,label:"10MB"},{id:52428800,label:"50MB"},{id:104857600,label:"100MB"},{id:524288e3,label:"500MB"},{id:2147483648,label:"2GB"},{id:5368709120,label:"5GB"},{id:10737418240,label:"10GB"},{id:21474836480,label:"20GB"},{id:53687091200,label:"50GB"}],this.transcodingThreadOptions=[{id:0,label:"\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34 (\u0E1C\u0E48\u0E32\u0E19 ffmpeg)"},{id:1,label:"1"},{id:2,label:"2"},{id:4,label:"4"},{id:8,label:"8"},{id:12,label:"12"},{id:16,label:"16"},{id:32,label:"32"}]}getCustomConfig(){return this.authHttp.get(q.BASE_APPLICATION_URL+"/custom").pipe((0,__.K)(o=>this.restExtractor.handleError(o)))}updateCustomConfig(o){return this.authHttp.put(q.BASE_APPLICATION_URL+"/custom",o).pipe((0,__.K)(e=>this.restExtractor.handleError(e)))}}q.BASE_APPLICATION_URL=S_.N.apiUrl+"/api/v1/config",q.\u0275fac=function(o){return new(o||q)(_.LFG(d_.eN),_.LFG(E.DI))},q.\u0275prov=_.Yz7({token:q,factory:q.\u0275fac});var B_=g(75155);function je(n,o){if(1&n&&(_.TgZ(0,"span",5),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.Oqu(e.inputSuffix)}}function _n(n,o){if(1&n){const e=_.EpF();_.ynx(0),_.TgZ(1,"input",3),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().customValue=i})("ngModelChange",function(){return _.CHM(e),_.oxw().onModelChange()}),_.qZA(),_.YNc(2,je,2,1,"span",4),_.BQk()}if(2&n){const e=_.oxw();_.xp6(1),_.Q6J("ngModel",e.customValue)("type",e.inputType),_.xp6(1),_.Q6J("ngIf",e.inputSuffix)}}let f_=(()=>{class n{constructor(){this.items=[],this.clearable=!1,this.searchable=!1,this.inputType="text",this.customValue="",this.itemsWithCustom=[],this.propagateChange=e=>{}}ngOnChanges(){this.itemsWithCustom=this.getItems()}writeValue(e){this.selectedId=e,!0!==this.isSelectedIdInItems()&&(this.selectedId="other",this.customValue=e)}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}onModelChange(){return this.propagateChange("other"===this.selectedId?this.customValue:this.selectedId)}isSelectedIdInItems(){return!!this.items.find(e=>e.id===this.selectedId)}getItems(){const e={id:"other",label:"Custom value..."};return this.items.concat([e])}isCustomValue(){return"other"===this.selectedId}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-select-custom-value"]],inputs:{items:"items",clearable:"clearable",searchable:"searchable",groupBy:"groupBy",labelForId:"labelForId",inputSuffix:"inputSuffix",inputType:"inputType"},features:[_._Bn([{provide:a.JU,useExisting:(0,_.Gpc)(()=>n),multi:!0}]),_.TTD],decls:3,vars:7,consts:[[1,"root"],[3,"items","clearable","searchable","groupBy","labelForId","ngModel","ngModelChange"],[4,"ngIf"],[1,"form-control",3,"ngModel","type","ngModelChange"],["class","input-suffix",4,"ngIf"],[1,"input-suffix"]],template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"my-select-options",1),_.NdJ("ngModelChange",function(r){return t.selectedId=r})("ngModelChange",function(){return t.onModelChange()}),_.qZA(),_.YNc(2,_n,3,3,"ng-container",2),_.qZA()),2&e&&(_.xp6(1),_.Q6J("items",t.itemsWithCustom)("clearable",t.clearable)("searchable",t.searchable)("groupBy",t.groupBy)("labelForId",t.labelForId)("ngModel",t.selectedId),_.xp6(1),_.Q6J("ngIf",t.isCustomValue()))},directives:[B_.I,a.JJ,a.On,C.O5,a.Fj],styles:["ng-select[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: auto){ng-select[_ngcontent-%COMP%]{width:100%}}ng-select[_ngcontent-%COMP%]     .ng-value-container{max-height:100px;overflow-y:auto;overflow-x:hidden}ng-select[_ngcontent-%COMP%]     .ng-value-label img{position:relative;top:-1px}ng-select[_ngcontent-%COMP%]     img{border-radius:50%;height:20px;width:20px}.root[_ngcontent-%COMP%]{display:flex;align-items:center}.root[_ngcontent-%COMP%] > my-select-options[_ngcontent-%COMP%]{flex-grow:1}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:auto;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}my-select-options[_ngcontent-%COMP%] + input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(auto + 40px)){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{width:100%}}@supports (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-left:5px}}@supports (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-left:5px}}"]}),n})();var u_=g(24333),k_=g(97603);function en(n,o){if(1&n&&(_.TgZ(0,"option",156),_._uU(1),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e),_.xp6(1),_.Oqu(e)}}function nn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.defaultClientRoute)}}function tn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.trending.videos.algorithms.default)}}function on(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.broadcastMessage.level)}}function rn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.broadcastMessage.message)}}function an(n,o){if(1&n&&(_.TgZ(0,"div",158),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.signupAlertMessage)}}function ln(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.signup.limit)}}function sn(n,o){1&n&&(_.TgZ(0,"small",159),_.SDv(1,160),_.qZA())}function cn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.signup.minimumAge)}}function gn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.user.videoQuota)}}function dn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.user.videoQuotaDaily)}}function En(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.import.concurrency)}}function un(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.search.searchIndex.url)}}function pn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.followings.instance.autoFollowIndex.indexUrl)}}function Cn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.admin.email)}}function Sn(n,o){if(1&n&&(_.TgZ(0,"div",157),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.services.twitter.username)}}function On(n,o){1&n&&(_.ynx(0),_.SDv(1,161),_.BQk())}function Tn(n,o){1&n&&(_.ynx(0),_.tHW(1,162),_._UZ(2,"br"),_._UZ(3,"br"),_._UZ(4,"br"),_._UZ(5,"a",163),_.N_p(),_.BQk())}const O_=function(n){return{"input-error":n}},Nn=function(n){return{"disabled-checkbox-extra":n}};let In=(()=>{class n{constructor(e,t){this.configService=e,this.menuService=t,this.defaultLandingPageOptions=[]}ngOnInit(){this.buildLandingPageOptions(),this.checkSignupField()}ngOnChanges(e){e.serverConfig&&this.buildLandingPageOptions()}getVideoQuotaOptions(){return this.configService.videoQuotaOptions}getVideoQuotaDailyOptions(){return this.configService.videoQuotaDailyOptions}getAvailableThemes(){return this.serverConfig.theme.registered.map(e=>e.name)}doesTrendingVideosAlgorithmsEnabledInclude(e){const t=this.form.value.trending.videos.algorithms.enabled;return!!Array.isArray(t)&&!!t.find(i=>i===e)}isSignupEnabled(){return!0===this.form.value.signup.enabled}getDisabledSignupClass(){return{"disabled-checkbox-extra":!this.isSignupEnabled()}}hasUnlimitedSignup(){return-1===this.form.value.signup.limit}isSearchIndexEnabled(){return!0===this.form.value.search.searchIndex.enabled}getDisabledSearchIndexClass(){return{"disabled-checkbox-extra":!this.isSearchIndexEnabled()}}isAutoFollowIndexEnabled(){return!0===this.form.value.followings.instance.autoFollowIndex.enabled}buildLandingPageOptions(){this.defaultLandingPageOptions=this.menuService.buildCommonLinks(this.serverConfig).links.map(e=>({id:e.path,label:e.label,description:e.path}))}checkSignupField(){this.form.get("signup.enabled").valueChanges.pipe((0,He.G)()).subscribe(([t,i])=>{!0!==t&&!0===i&&(this.signupAlertMessage="You enabled signup: we automatically enabled the \"Block new videos automatically\" checkbox of the \"Videos\" section just below.",this.form.patchValue({autoBlacklist:{videos:{ofUsers:{enabled:!0}}}}))})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(q),_.Y36(E.hl))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-edit-basic-configuration"]],inputs:{form:"form",formErrors:"formErrors",serverConfig:"serverConfig"},features:[_.TTD],decls:252,vars:55,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b,M,Z,w,B,k,F,X,W,G,H,j,h,i_,r_,a_,O,N_,I_,L,Ne,Ie,Ae,Me,me,Re,De,fe,Pe,be,he,Le,Fe,xe,ve,Ve,ye,Ue,$e,Ge,Ze,we,Be,ke,Ye,qe,Ke,ze,Xe,Qe,Je,We,y_;return o="APPEARANCE",e=" Use " + "\ufffd#7\ufffd" + "plugins & themes" + "[\ufffd/#7\ufffd|\ufffd/#8\ufffd]" + " for more involved changes, or " + "\ufffd#8\ufffd" + "add slight customizations" + "[\ufffd/#7\ufffd|\ufffd/#8\ufffd]" + ". ",e=_.Zx4(e),t="\u0E18\u0E35\u0E21",i="default",r="Landing page",s="Default trending page",c="\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E14\u0E35\u0E17\u0E35\u0E48\u0E2A\u0E38\u0E14",u="\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E40\u0E1B\u0E47\u0E19\u0E01\u0E23\u0E30\u0E41\u0E2A",p="\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E23\u0E31\u0E1A\u0E0A\u0E21\u0E21\u0E32\u0E01\u0E17\u0E35\u0E48\u0E2A\u0E38\u0E14",d="\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E21\u0E35\u0E08\u0E33\u0E19\u0E27\u0E19\u0E01\u0E32\u0E23\u0E0A\u0E2D\u0E1A\u0E21\u0E32\u0E01\u0E17\u0E35\u0E48\u0E2A\u0E38\u0E14",N="BROADCAST MESSAGE",A=" Display a message on your instance ",R="Enable broadcast message",I="Allow users to dismiss the broadcast message ",S="Broadcast message level",b="Message",M="NEW USERS",Z=" Manage " + "\ufffd#76\ufffd" + "users" + "\ufffd/#76\ufffd" + " to set their quota individually. ",w="Enable Signup",B="\u26A0\uFE0F This functionality requires a lot of attention and extra moderation.",k="Signup requires email verification",F="Signup limit",X="{VAR_PLURAL, plural, =1 {user} other {users}}",X=_.Zx4(X,{VAR_PLURAL:"\ufffd0\ufffd"}),W="Minimum required age to create an account",G="{VAR_PLURAL, plural, =1 {year old} other {years old}}",G=_.Zx4(G,{VAR_PLURAL:"\ufffd0\ufffd"}),H="Default video quota per user",j="bytes",h="Default daily upload limit per user",i_="bytes",r_="\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D",a_="Import jobs concurrency",O="allows to import multiple videos in parallel. \u26A0\uFE0F Requires a PeerTube restart.",N_="jobs in parallel",I_="Allow import with HTTP URL (e.g. YouTube)",L="Allow import with a torrent file or a magnet URI",Ne="Block new videos automatically",Ie="Unless a user is marked as trusted, their videos will stay private until a moderator reviews them.",Ae="\u0E04\u0E49\u0E19\u0E2B\u0E32",Me="Allow users to do remote URI/handle search",me="Allow " + "\ufffd#156\ufffd" + "your users" + "\ufffd/#156\ufffd" + " to look up remote videos/actors that may not be federated with your instance",Re="Allow anonymous to do remote URI/handle search",De="Allow " + "\ufffd#162\ufffd" + "anonymous users" + "\ufffd/#162\ufffd" + " to look up remote videos/actors that may not be federated with your instance",fe="Enable global search",Pe="\u26A0\uFE0F This functionality depends heavily on the moderation of instances followed by the search index you select.",be=" You should only use moderated search indexes in production, or " + "\ufffd#171\ufffd" + "host your own" + "\ufffd/#171\ufffd" + ". ",he="Search index URL",Le="Disable local search in search bar",Fe="Search bar uses the global search index by default",xe="Otherwise the local search stays used by default",ve="\u0E40\u0E04\u0E23\u0E37\u0E2D\u0E02\u0E48\u0E32\u0E22",Ve=" Manage " + "\ufffd#191\ufffd" + "relations" + "\ufffd/#191\ufffd" + " with other instances. ",ye="Other instances can follow yours",Ue="Manually approve new instance followers",$e="Automatically follow back instances",Ge="\u26A0\uFE0F This functionality requires a lot of attention and extra moderation.",Ze="Automatically follow instances of a public index",we="\u26A0\uFE0F This functionality requires a lot of attention and extra moderation.",Be=" See " + "\ufffd#215\ufffd" + "the documentation" + "\ufffd/#215\ufffd" + " for more information about the expected URL ",ke="Index URL",Ye="ADMINISTRATORS",qe="Admin email",Ke="Enable contact form",ze="TWITTER",Xe=" Provide the Twitter account representing your instance to improve link previews. If you don't have a Twitter account, just leave the default value. ",Qe="Your Twitter username",Je="Signup won't be limited to a fixed number of users.",We="Instance allowed by Twitter",y_=" If your instance is explicitly allowed by Twitter, a video player will be embedded in the Twitter feed on PeerTube video share." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + " If the instance is not, we use an image link card that will redirect to your PeerTube instance." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd|\ufffd#4\ufffd\ufffd/#4\ufffd]" + " Check this checkbox, save the configuration and test with a video URL of your instance (https://example.com/w/blabla) on " + "\ufffd#5\ufffd" + "https://cards-dev.twitter.com/validator" + "\ufffd/#5\ufffd" + " to see if you instance is allowed. ",y_=_.Zx4(y_),[[3,"formGroup"],[1,"form-row","mt-5"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"inner-form-title"],o,[1,"inner-form-description"],e,["routerLink","/admin/plugins"],["routerLink","/admin/config/edit-custom","fragment","advanced-configuration"],[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],["formGroupName","theme"],[1,"form-group"],["for","themeDefault"],t,[1,"peertube-select-container"],["formControlName","default","id","themeDefault",1,"form-control"],["value","default"],i,[3,"value",4,"ngFor","ngForOf"],["formGroupName","instance",1,"form-group"],["for","instanceDefaultClientRoute"],r,["id","instanceDefaultClientRoute","formControlName","defaultClientRoute","inputType","text",3,"items","clearable"],["class","form-error",4,"ngIf"],["formGroupName","trending",1,"form-group"],["formGroupName","videos"],["formGroupName","algorithms"],["for","trendingVideosAlgorithmsDefault"],s,["id","trendingVideosAlgorithmsDefault","formControlName","default",1,"form-control"],["value","best"],c,["value","hot"],u,["value","most-viewed"],p,["value","most-liked"],d,[1,"form-row","mt-4"],N,[1,"inner-for-description"],A,["formGroupName","broadcastMessage"],["inputName","broadcastMessageEnabled","formControlName","enabled","labelText",R],["inputName","broadcastMessageDismissable","formControlName","dismissable","labelText",I],["for","broadcastMessageLevel"],S,["id","broadcastMessageLevel","formControlName","level",1,"form-control"],["value","info"],["value","warning"],["value","error"],["for","broadcastMessageMessage"],b,["helpType","markdownText"],["name","broadcastMessageMessage","formControlName","message","textareaMaxWidth","500px",3,"classes"],M,Z,["routerLink","/admin/users"],["formGroupName","signup"],["inputName","signupEnabled","formControlName","enabled","labelText",w],["ngProjectAs","description",5,["description"]],B,["class","alert alert-info alert-signup",4,"ngIf"],["ngProjectAs","extra",5,["extra"]],["inputName","signupRequiresEmailVerification","formControlName","requiresEmailVerification","labelText",k,3,"ngClass"],[1,"mt-3",3,"ngClass"],["for","signupLimit"],F,[1,"number-with-unit"],["type","number","min","-1","id","signupLimit","formControlName","limit",1,"form-control",3,"ngClass"],X,["class","text-muted",4,"ngIf"],["for","signupMinimumAge"],W,["type","number","min","1","id","signupMinimumAge","formControlName","minimumAge",1,"form-control",3,"ngClass"],G,["formGroupName","user"],["for","userVideoQuota"],H,["id","userVideoQuota","formControlName","videoQuota","inputSuffix",j,"inputType","number",3,"items","clearable"],["for","userVideoQuotaDaily"],h,["id","userVideoQuotaDaily","formControlName","videoQuotaDaily","inputSuffix",i_,"inputType","number",3,"items","clearable"],r_,["formGroupName","import"],[1,"form-group","mt-4"],["for","importConcurrency"],a_,[1,"text-muted","ml-1"],O,["type","number","name","importConcurrency","formControlName","concurrency"],N_,["formGroupName","http",1,"form-group"],["inputName","importVideosHttpEnabled","formControlName","enabled","labelText",I_],["formGroupName","torrent",1,"form-group"],["inputName","importVideosTorrentEnabled","formControlName","enabled","labelText",L],["formGroupName","autoBlacklist"],["formGroupName","ofUsers"],["inputName","autoBlacklistVideosOfUsersEnabled","formControlName","enabled","labelText",Ne],Ie,Ae,["formGroupName","search"],["formGroupName","remoteUri"],["inputName","searchRemoteUriUsers","formControlName","users","labelText",Me],me,["inputName","searchRemoteUriAnonymous","formControlName","anonymous","labelText",Re],De,["formGroupName","searchIndex"],["inputName","searchIndexEnabled","formControlName","enabled","labelText",fe],Pe,be,["href","https://framagit.org/framasoft/peertube/search-index"],[3,"ngClass"],["for","searchIndexUrl"],he,["type","text","id","searchIndexUrl","formControlName","url",1,"form-control",3,"ngClass"],[1,"mt-3"],["inputName","searchIndexDisableLocalSearch","formControlName","disableLocalSearch","labelText",Le,3,"ngClass"],["inputName","searchIndexIsDefaultSearch","formControlName","isDefaultSearch","labelText",Fe,3,"ngClass"],xe,ve,Ve,["routerLink","/admin/follows"],["formGroupName","followers"],["formGroupName","instance"],["inputName","followersInstanceEnabled","formControlName","enabled","labelText",ye],["inputName","followersInstanceManualApproval","formControlName","manualApproval","labelText",Ue],["formGroupName","followings"],["formGroupName","autoFollowBack"],["inputName","followingsInstanceAutoFollowBackEnabled","formControlName","enabled","labelText",$e],Ge,["formGroupName","autoFollowIndex"],["inputName","followingsInstanceAutoFollowIndexEnabled","formControlName","enabled","labelText",Ze],we,Be,["href","https://docs.joinpeertube.org/admin-following-instances?id=automatically-follow-other-instances","rel","noopener noreferer","target","_blank"],["for","followingsInstanceAutoFollowIndexUrl"],ke,["type","text","id","followingsInstanceAutoFollowIndexUrl","formControlName","indexUrl",1,"form-control",3,"ngClass"],Ye,["formGroupName","admin",1,"form-group"],["for","adminEmail"],qe,["type","text","id","adminEmail","formControlName","email",1,"form-control",3,"ngClass"],["formGroupName","contactForm",1,"form-group"],["inputName","enableContactForm","formControlName","enabled","labelText",Ke],ze,Xe,["formGroupName","services"],["formGroupName","twitter"],["for","servicesTwitterUsername"],Qe,["type","text","id","servicesTwitterUsername","formControlName","username",1,"form-control",3,"ngClass"],["inputName","servicesTwitterWhitelisted","formControlName","whitelisted"],["ptTemplate","label"],["ptTemplate","help"],[3,"value"],[1,"form-error"],[1,"alert","alert-info","alert-signup"],[1,"text-muted"],Je,We,y_,["target","_blank","rel","noopener noreferrer","href","https://cards-dev.twitter.com/validator"]]},template:function(e,t){1&e&&(_.ynx(0,0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.SDv(4,4),_.qZA(),_.TgZ(5,"div",5),_.tHW(6,6),_._UZ(7,"a",7),_._UZ(8,"a",8),_.N_p(),_.qZA(),_.qZA(),_.TgZ(9,"div",9),_.ynx(10,10),_.TgZ(11,"div",11),_.TgZ(12,"label",12),_.SDv(13,13),_.qZA(),_.TgZ(14,"div",14),_.TgZ(15,"select",15),_.TgZ(16,"option",16),_.SDv(17,17),_.qZA(),_.YNc(18,en,2,2,"option",18),_.qZA(),_.qZA(),_.qZA(),_.BQk(),_.TgZ(19,"div",19),_.TgZ(20,"label",20),_.SDv(21,21),_.qZA(),_._UZ(22,"my-select-custom-value",22),_.YNc(23,nn,2,1,"div",23),_.qZA(),_.TgZ(24,"div",24),_.ynx(25,25),_.ynx(26,26),_.TgZ(27,"label",27),_.SDv(28,28),_.qZA(),_.TgZ(29,"div",14),_.TgZ(30,"select",29),_.TgZ(31,"option",30),_.SDv(32,31),_.qZA(),_.TgZ(33,"option",32),_.SDv(34,33),_.qZA(),_.TgZ(35,"option",34),_.SDv(36,35),_.qZA(),_.TgZ(37,"option",36),_.SDv(38,37),_.qZA(),_.qZA(),_.qZA(),_.YNc(39,tn,2,1,"div",23),_.BQk(),_.BQk(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(40,"div",38),_.TgZ(41,"div",2),_.TgZ(42,"div",3),_.SDv(43,39),_.qZA(),_.TgZ(44,"div",40),_.SDv(45,41),_.qZA(),_.qZA(),_.TgZ(46,"div",9),_.ynx(47,42),_.TgZ(48,"div",11),_._UZ(49,"my-peertube-checkbox",43),_.qZA(),_.TgZ(50,"div",11),_._UZ(51,"my-peertube-checkbox",44),_.qZA(),_.TgZ(52,"div",11),_.TgZ(53,"label",45),_.SDv(54,46),_.qZA(),_.TgZ(55,"div",14),_.TgZ(56,"select",47),_.TgZ(57,"option",48),_._uU(58,"info"),_.qZA(),_.TgZ(59,"option",49),_._uU(60,"warning"),_.qZA(),_.TgZ(61,"option",50),_._uU(62,"error"),_.qZA(),_.qZA(),_.qZA(),_.YNc(63,on,2,1,"div",23),_.qZA(),_.TgZ(64,"div",11),_.TgZ(65,"label",51),_.SDv(66,52),_.qZA(),_._UZ(67,"my-help",53),_._UZ(68,"my-markdown-textarea",54),_.YNc(69,rn,2,1,"div",23),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(70,"div",38),_.TgZ(71,"div",2),_.TgZ(72,"div",3),_.SDv(73,55),_.qZA(),_.TgZ(74,"div",40),_.tHW(75,56),_._UZ(76,"a",57),_.N_p(),_.qZA(),_.qZA(),_.TgZ(77,"div",9),_.ynx(78,58),_.TgZ(79,"div",11),_.TgZ(80,"my-peertube-checkbox",59),_.ynx(81,60),_.TgZ(82,"span"),_.SDv(83,61),_.qZA(),_.YNc(84,an,2,1,"div",62),_.BQk(),_.ynx(85,63),_._UZ(86,"my-peertube-checkbox",64),_.TgZ(87,"div",65),_.TgZ(88,"label",66),_.SDv(89,67),_.qZA(),_.TgZ(90,"div",68),_._UZ(91,"input",69),_.TgZ(92,"span"),_.SDv(93,70),_.qZA(),_.qZA(),_.YNc(94,ln,2,1,"div",23),_.YNc(95,sn,2,0,"small",71),_.qZA(),_.TgZ(96,"div",65),_.TgZ(97,"label",72),_.SDv(98,73),_.qZA(),_.TgZ(99,"div",68),_._UZ(100,"input",74),_.TgZ(101,"span"),_.SDv(102,75),_.qZA(),_.qZA(),_.YNc(103,cn,2,1,"div",23),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.ynx(104,76),_.TgZ(105,"div",11),_.TgZ(106,"label",77),_.SDv(107,78),_.qZA(),_._UZ(108,"my-select-custom-value",79),_.YNc(109,gn,2,1,"div",23),_.qZA(),_.TgZ(110,"div",11),_.TgZ(111,"label",80),_.SDv(112,81),_.qZA(),_._UZ(113,"my-select-custom-value",82),_.YNc(114,dn,2,1,"div",23),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(115,"div",38),_.TgZ(116,"div",2),_.TgZ(117,"div",3),_.SDv(118,83),_.qZA(),_.qZA(),_.TgZ(119,"div",9),_.ynx(120,84),_.ynx(121,25),_.TgZ(122,"div",85),_.TgZ(123,"label",86),_.SDv(124,87),_.qZA(),_.TgZ(125,"span",88),_.SDv(126,89),_.qZA(),_.TgZ(127,"div",68),_._UZ(128,"input",90),_.TgZ(129,"span"),_.SDv(130,91),_.qZA(),_.qZA(),_.YNc(131,En,2,1,"div",23),_.qZA(),_.TgZ(132,"div",92),_._UZ(133,"my-peertube-checkbox",93),_.qZA(),_.TgZ(134,"div",94),_._UZ(135,"my-peertube-checkbox",95),_.qZA(),_.BQk(),_.BQk(),_.ynx(136,96),_.ynx(137,25),_.ynx(138,97),_.TgZ(139,"div",11),_.TgZ(140,"my-peertube-checkbox",98),_.ynx(141,60),_.TgZ(142,"span"),_.SDv(143,99),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.BQk(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(144,"div",38),_.TgZ(145,"div",2),_.TgZ(146,"div",3),_.SDv(147,100),_.qZA(),_.qZA(),_.TgZ(148,"div",9),_.ynx(149,101),_.ynx(150,102),_.TgZ(151,"div",11),_.TgZ(152,"my-peertube-checkbox",103),_.ynx(153,60),_.TgZ(154,"span"),_.tHW(155,104),_._UZ(156,"strong"),_.N_p(),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(157,"div",11),_.TgZ(158,"my-peertube-checkbox",105),_.ynx(159,60),_.TgZ(160,"span"),_.tHW(161,106),_._UZ(162,"strong"),_.N_p(),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.ynx(163,107),_.TgZ(164,"div",11),_.TgZ(165,"my-peertube-checkbox",108),_.ynx(166,60),_.TgZ(167,"p"),_.SDv(168,109),_.qZA(),_.TgZ(169,"span"),_.tHW(170,110),_._UZ(171,"a",111),_.N_p(),_.qZA(),_.BQk(),_.ynx(172,63),_.TgZ(173,"div",112),_.TgZ(174,"label",113),_.SDv(175,114),_.qZA(),_._UZ(176,"input",115),_.YNc(177,un,2,1,"div",23),_.qZA(),_.TgZ(178,"div",116),_._UZ(179,"my-peertube-checkbox",117),_.qZA(),_.TgZ(180,"div",116),_.TgZ(181,"my-peertube-checkbox",118),_.ynx(182,60),_.TgZ(183,"span"),_.SDv(184,119),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(185,"div",38),_.TgZ(186,"div",2),_.TgZ(187,"div",3),_.SDv(188,120),_.qZA(),_.TgZ(189,"div",5),_.tHW(190,121),_._UZ(191,"a",122),_.N_p(),_.qZA(),_.qZA(),_.TgZ(192,"div",9),_.ynx(193,123),_.ynx(194,124),_.TgZ(195,"div",11),_._UZ(196,"my-peertube-checkbox",125),_.qZA(),_.TgZ(197,"div",11),_._UZ(198,"my-peertube-checkbox",126),_.qZA(),_.BQk(),_.BQk(),_.ynx(199,127),_.ynx(200,124),_.ynx(201,128),_.TgZ(202,"div",11),_.TgZ(203,"my-peertube-checkbox",129),_.ynx(204,60),_.TgZ(205,"span"),_.SDv(206,130),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.ynx(207,131),_.TgZ(208,"div",11),_.TgZ(209,"my-peertube-checkbox",132),_.ynx(210,60),_.TgZ(211,"p"),_.SDv(212,133),_.qZA(),_.TgZ(213,"span"),_.tHW(214,134),_._UZ(215,"a",135),_.N_p(),_.qZA(),_.BQk(),_.ynx(216,63),_.TgZ(217,"div",112),_.TgZ(218,"label",136),_.SDv(219,137),_.qZA(),_._UZ(220,"input",138),_.YNc(221,pn,2,1,"div",23),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.BQk(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(222,"div",38),_.TgZ(223,"div",2),_.TgZ(224,"div",3),_.SDv(225,139),_.qZA(),_.qZA(),_.TgZ(226,"div",9),_.TgZ(227,"div",140),_.TgZ(228,"label",141),_.SDv(229,142),_.qZA(),_._UZ(230,"input",143),_.YNc(231,Cn,2,1,"div",23),_.qZA(),_.TgZ(232,"div",144),_._UZ(233,"my-peertube-checkbox",145),_.qZA(),_.qZA(),_.qZA(),_.TgZ(234,"div",38),_.TgZ(235,"div",2),_.TgZ(236,"div",3),_.SDv(237,146),_.qZA(),_.TgZ(238,"div",5),_.SDv(239,147),_.qZA(),_.qZA(),_.TgZ(240,"div",9),_.ynx(241,148),_.ynx(242,149),_.TgZ(243,"div",11),_.TgZ(244,"label",150),_.SDv(245,151),_.qZA(),_._UZ(246,"input",152),_.YNc(247,Sn,2,1,"div",23),_.qZA(),_.TgZ(248,"div",11),_.TgZ(249,"my-peertube-checkbox",153),_.YNc(250,On,2,0,"ng-template",154),_.YNc(251,Tn,6,0,"ng-template",155),_.qZA(),_.qZA(),_.BQk(),_.BQk(),_.qZA(),_.qZA(),_.BQk()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(18),_.Q6J("ngForOf",t.getAvailableThemes()),_.xp6(4),_.Q6J("items",t.defaultLandingPageOptions)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.defaultClientRoute),_.xp6(16),_.Q6J("ngIf",t.formErrors.trending.videos.algorithms.default),_.xp6(24),_.Q6J("ngIf",t.formErrors.broadcastMessage.level),_.xp6(5),_.Q6J("classes",_.VKq(39,O_,t.formErrors["broadcastMessage.message"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.broadcastMessage.message),_.xp6(15),_.Q6J("ngIf",t.signupAlertMessage),_.xp6(2),_.Q6J("ngClass",t.getDisabledSignupClass()),_.xp6(1),_.Q6J("ngClass",t.getDisabledSignupClass()),_.xp6(4),_.Q6J("ngClass",_.VKq(41,O_,t.formErrors["signup.limit"])),_.xp6(2),_.pQV(t.form.value.signup.limit),_.QtT(93),_.xp6(1),_.Q6J("ngIf",t.formErrors.signup.limit),_.xp6(1),_.Q6J("ngIf",t.hasUnlimitedSignup()),_.xp6(1),_.Q6J("ngClass",t.getDisabledSignupClass()),_.xp6(4),_.Q6J("ngClass",_.VKq(43,O_,t.formErrors["signup.minimumAge"])),_.xp6(2),_.pQV(t.form.value.signup.minimumAge),_.QtT(102),_.xp6(1),_.Q6J("ngIf",t.formErrors.signup.minimumAge),_.xp6(5),_.Q6J("items",t.getVideoQuotaOptions())("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.user.videoQuota),_.xp6(4),_.Q6J("items",t.getVideoQuotaDailyOptions())("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.user.videoQuotaDaily),_.xp6(17),_.Q6J("ngIf",t.formErrors.import.concurrency),_.xp6(42),_.Q6J("ngClass",t.getDisabledSearchIndexClass()),_.xp6(3),_.Q6J("ngClass",_.VKq(45,O_,t.formErrors["search.searchIndex.url"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.search.searchIndex.url),_.xp6(2),_.Q6J("ngClass",t.getDisabledSearchIndexClass()),_.xp6(2),_.Q6J("ngClass",t.getDisabledSearchIndexClass()),_.xp6(36),_.Q6J("ngClass",_.VKq(47,Nn,!t.isAutoFollowIndexEnabled())),_.xp6(3),_.Q6J("ngClass",_.VKq(49,O_,t.formErrors["followings.instance.autoFollowIndex.indexUrl"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.followings.instance.autoFollowIndex.indexUrl),_.xp6(9),_.Q6J("ngClass",_.VKq(51,O_,t.formErrors["admin.email"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.admin.email),_.xp6(15),_.Q6J("ngClass",_.VKq(53,O_,t.formErrors["services.twitter.username"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.services.twitter.username))},directives:[a.JL,a.sg,P.yS,a.x0,a.EJ,a.JJ,a.u,a.YN,a.Kr,C.sg,f_,C.O5,u_.P,C_.I,k_.c,C.mk,a.qQ,a.wV,a.Fj,s_.Y],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=number][_ngcontent-%COMP%]{width:100%}}.number-with-unit[_ngcontent-%COMP%]{position:relative;width:-webkit-min-content;width:min-content}.number-with-unit[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;top:5px;right:2.5rem}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #C6C6C6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;cursor:pointer;display:inline}@supports (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:flex}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline}@supports (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-left:5px}}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.alert-signup[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:10px}.callout-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:0;width:100%;justify-content:right}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;position:relative;right:3.3em;top:.3em;font-size:90%;color:var(--mainColor);background-color:var(--mainBackgroundColor);padding:0 .3em}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:hover, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:focus, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-right:17px}}']}),n})(),h_=(()=>{class n{getVODResolutions(){return[{id:"0p",label:"\u0E40\u0E09\u0E1E\u0E32\u0E30\u0E40\u0E2A\u0E35\u0E22\u0E07",description:"\u0E44\u0E1F\u0E25\u0E4C <code>.mp4</code> \u0E17\u0E35\u0E48\u0E21\u0E35\u0E40\u0E2A\u0E35\u0E22\u0E07\u0E15\u0E49\u0E19\u0E09\u0E1A\u0E31\u0E1A \u0E44\u0E21\u0E48\u0E21\u0E35\u0E20\u0E32\u0E1E"},{id:"240p",label:"240p"},{id:"360p",label:"360p"},{id:"480p",label:"480p"},{id:"720p",label:"720p"},{id:"1080p",label:"1080p"},{id:"1440p",label:"1440p"},{id:"2160p",label:"2160p"}]}getLiveResolutions(){return this.getVODResolutions().filter(e=>"0p"!==e.id)}isTranscodingEnabled(e){return!0===e.value.transcoding.enabled}isLiveEnabled(e){return!0===e.value.live.enabled}isLiveTranscodingEnabled(e){return!0===e.value.live.transcoding.enabled}getTotalTranscodingThreads(e){const t=e.value.transcoding.enabled,i=e.value.transcoding.threads,r=e.value.live.transcoding.enabled,s=e.value.live.transcoding.threads;let c=!t||+i>0;c&&(c=!r||+s>0);let u=0;return t&&(u+=+i||1),r&&(u+=+s||1),{value:u,atMost:c,unit:u>1?"threads":"thread"}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();var H_=g(41611),Y_=g(19212);const An={VALIDATORS:[a.kI.required],MESSAGES:{required:"\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E2A\u0E48\u0E0A\u0E37\u0E48\u0E2D\u0E02\u0E2D\u0E07\u0E40\u0E0B\u0E34\u0E23\u0E4C\u0E1F\u0E40\u0E27\u0E2D\u0E23\u0E4C"}},Mn={VALIDATORS:[a.kI.max(250)],MESSAGES:{max:"Short description should not be longer than 250 characters."}},mn={VALIDATORS:[a.kI.required],MESSAGES:{required:"Twitter username is required."}},Rn={VALIDATORS:[a.kI.required,a.kI.min(1),a.kI.pattern("[0-9]+")],MESSAGES:{required:"Previews cache size is required.",min:"Previews cache size must be greater than 1.",pattern:"Previews cache size must be a number."}},j_={VALIDATORS:[a.kI.required,a.kI.min(1),a.kI.pattern("[0-9]+")],MESSAGES:{required:"Captions cache size is required.",min:"Captions cache size must be greater than 1.",pattern:"Captions cache size must be a number."}},Dn={VALIDATORS:[a.kI.required,a.kI.min(-1),a.kI.pattern("-?[0-9]+")],MESSAGES:{required:"Signup limit is required.",min:"Signup limit must be greater than 1. Use -1 to disable it.",pattern:"Signup limit must be a number."}},fn={VALIDATORS:[a.kI.required,a.kI.min(1),a.kI.pattern("[0-9]+")],MESSAGES:{required:"Signup minimum age is required.",min:"Signup minimum age must be greater than 1.",pattern:"Signup minimum age must be a number."}},Pn={VALIDATORS:[a.kI.required,a.kI.email],MESSAGES:{required:"Admin email is required.",email:"Admin email must be valid."}},_e={VALIDATORS:[a.kI.required,a.kI.min(0)],MESSAGES:{required:"Transcoding threads is required.",min:"Transcoding threads must be greater or equal to 0."}},bn={VALIDATORS:[a.kI.required,a.kI.min(-1)],MESSAGES:{required:"Max live duration is required.",min:"Max live duration should be greater or equal to -1."}},hn={VALIDATORS:[a.kI.required,a.kI.min(-1)],MESSAGES:{required:"Max instance lives is required.",min:"Max instance lives should be greater or equal to -1."}},Ln={VALIDATORS:[a.kI.required,a.kI.min(-1)],MESSAGES:{required:"Max user lives is required.",min:"Max user lives should be greater or equal to -1."}},ee={VALIDATORS:[a.kI.required,a.kI.min(1)],MESSAGES:{required:"Concurrency is required.",min:"Concurrency should be greater or equal to 1."}},Fn={VALIDATORS:[a.kI.pattern(/^https:\/\//)],MESSAGES:{pattern:"Index URL should be a URL"}},xn={VALIDATORS:[a.kI.pattern(/^https?:\/\//)],MESSAGES:{pattern:"Search index URL should be a URL"}};var Q=g(44560),vn=g(87153),Vn=g(12886),J=g(76476);let ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-custom-markup-help"]],decls:4,vars:0,consts:function(){let o;return o="" + "\ufffd#2\ufffd" + "Markdown compatible" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " that also supports " + "\ufffd#3\ufffd" + "custom PeerTube HTML tags" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + "",o=_.Zx4(o),[o,["href","https://en.wikipedia.org/wiki/Markdown#Example","target","_blank","rel","noreferer noopener"],["href","https://docs.joinpeertube.org/api-custom-client-markup","target","_blank","rel","noreferer noopener"]]},template:function(e,t){1&e&&(_.ynx(0),_.tHW(1,0),_._UZ(2,"a",1),_._UZ(3,"a",2),_.N_p(),_.BQk())},encapsulation:2}),n})();function yn(n,o){if(1&n&&(_.TgZ(0,"div",13),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instanceCustomHomepage.content)}}const Un=function(n){return{"input-error":n}};let $n=(()=>{class n{constructor(e){this.customMarkup=e}getCustomMarkdownRenderer(){return this.customMarkup.getCustomMarkdownRenderer()}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(p_.R9))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-edit-homepage"]],inputs:{form:"form",formErrors:"formErrors"},decls:14,vars:6,consts:function(){let o,e;return o="\u0E2B\u0E19\u0E49\u0E32\u0E2B\u0E25\u0E31\u0E01\u0E40\u0E0B\u0E34\u0E23\u0E4C\u0E1F\u0E40\u0E27\u0E2D\u0E23\u0E4C",e="Homepage",[[3,"formGroup"],["formGroupName","instanceCustomHomepage"],[1,"form-row","mt-5"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"inner-form-title"],o,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],[1,"form-group"],["for","instanceCustomHomepageContent"],e,[1,"label-small-info"],["name","instanceCustomHomepageContent","formControlName","content","textareaMaxWidth","90%","textareaHeight","300px",3,"customMarkdownRenderer","classes"],["class","form-error",4,"ngIf"],[1,"form-error"]]},template:function(e,t){1&e&&(_.ynx(0,0),_.ynx(1,1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.SDv(5,5),_.qZA(),_.qZA(),_.TgZ(6,"div",6),_.TgZ(7,"div",7),_.TgZ(8,"label",8),_.SDv(9,9),_.qZA(),_.TgZ(10,"div",10),_._UZ(11,"my-custom-markup-help"),_.qZA(),_._UZ(12,"my-markdown-textarea",11),_.YNc(13,yn,2,1,"div",12),_.qZA(),_.qZA(),_.qZA(),_.BQk(),_.BQk()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(12),_.Q6J("customMarkdownRenderer",t.getCustomMarkdownRenderer())("classes",_.VKq(4,Un,t.formErrors["instanceCustomHomepage.content"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instanceCustomHomepage.content))},directives:[a.JL,a.sg,a.x0,ne,k_.c,a.JJ,a.u,C.O5],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=number][_ngcontent-%COMP%]{width:100%}}.number-with-unit[_ngcontent-%COMP%]{position:relative;width:-webkit-min-content;width:min-content}.number-with-unit[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;top:5px;right:2.5rem}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #C6C6C6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;cursor:pointer;display:inline}@supports (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:flex}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline}@supports (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-left:5px}}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.alert-signup[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:10px}.callout-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:0;width:100%;justify-content:right}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;position:relative;right:3.3em;top:.3em;font-size:90%;color:var(--mainColor);background-color:var(--mainBackgroundColor);padding:0 .3em}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:hover, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:focus, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-right:17px}}']}),n})();var te=g(33428);function Gn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.name)}}function Zn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.shortDescription)}}function wn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.description)}}function Bn(n,o){1&n&&(_.ynx(0),_.SDv(1,80),_.BQk())}function kn(n,o){1&n&&(_.ynx(0),_.tHW(1,81),_._UZ(2,"br"),_._UZ(3,"br"),_.N_p(),_.BQk())}function Yn(n,o){1&n&&(_.ynx(0),_.tHW(1,82),_._UZ(2,"strong"),_._UZ(3,"strong"),_.N_p(),_.BQk())}function qn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.defaultNSFWPolicy)}}function Kn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.terms)}}function zn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.codeOfConduct)}}function Xn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.moderationInformation)}}function Qn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.administrator)}}function Jn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.creationReason)}}function Wn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.maintenanceLifetime)}}function Hn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.businessModel)}}function jn(n,o){if(1&n&&(_.TgZ(0,"div",79),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.instance.hardwareInformation)}}const o_=function(n){return{"input-error":n}};let _t=(()=>{class n{constructor(e){this.customMarkup=e,this.languageItems=[],this.categoryItems=[]}getCustomMarkdownRenderer(){return this.customMarkup.getCustomMarkdownRenderer()}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(p_.R9))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-edit-instance-information"]],inputs:{form:"form",formErrors:"formErrors",languageItems:"languageItems",categoryItems:"categoryItems"},decls:131,vars:51,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b,M,Z,w,B,k,F,X,W,G,H,j,h,i_,r_,a_,O,N_,I_;return o="\u0E40\u0E0B\u0E34\u0E23\u0E4C\u0E1F\u0E40\u0E27\u0E2D\u0E23\u0E4C",e="\u0E0A\u0E37\u0E48\u0E2D",t="\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22\u0E2A\u0E31\u0E49\u0E19",i="\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22",r="Main instance categories",s="Add a new category",c="Main languages you/your moderators speak",u="\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E20\u0E32\u0E29\u0E32",p="MODERATION & NSFW",d=" Manage " + "\ufffd#40\ufffd" + "users" + "\ufffd/#40\ufffd" + " to build a moderation team. ",N="\u0E19\u0E42\u0E22\u0E1A\u0E32\u0E22\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E21\u0E35\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32\u0E17\u0E35\u0E48\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E2D\u0E48\u0E2D\u0E19",A="\u0E19\u0E42\u0E22\u0E1A\u0E32\u0E22\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E21\u0E35\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32\u0E17\u0E35\u0E48\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E2D\u0E48\u0E2D\u0E19",R="\u0E0B\u0E48\u0E2D\u0E19",I="\u0E40\u0E1A\u0E25\u0E2D\u0E20\u0E32\u0E1E\u0E02\u0E19\u0E32\u0E14\u0E22\u0E48\u0E2D",S="\u0E41\u0E2A\u0E14\u0E07",b="\u0E40\u0E07\u0E37\u0E48\u0E2D\u0E19\u0E44\u0E02",M="\u0E2B\u0E25\u0E31\u0E01\u0E1B\u0E0F\u0E34\u0E1A\u0E31\u0E15\u0E34",Z="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E14\u0E39\u0E41\u0E25",w="Who moderates the instance? What is the policy regarding NSFW videos? Political videos? etc",B="YOU AND YOUR INSTANCE",k="Who is behind the instance?",F="A single person? A non-profit? A company?",X="Why did you create this instance?",W="To share your personal videos? To open registrations and allow people to upload what they want?",G="How long do you plan to maintain this instance?",H="It's important to know for users who want to register on your instance",j="How will you finance the PeerTube server?",h="With your own funds? With user donations? Advertising?",i_="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E2D\u0E37\u0E48\u0E19 \u0E46",r_="What server/hardware does the instance run on?",a_="i.e. 2vCore 2GB RAM, a direct the link to the server you rent, etc.",O="\u0E40\u0E0B\u0E34\u0E23\u0E4C\u0E1F\u0E40\u0E27\u0E2D\u0E23\u0E4C\u0E19\u0E35\u0E49\u0E40\u0E1C\u0E22\u0E41\u0E1E\u0E23\u0E48\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32\u0E17\u0E35\u0E48\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E2D\u0E48\u0E2D\u0E19\u0E42\u0E14\u0E22\u0E40\u0E09\u0E1E\u0E32\u0E30",N_=" Enabling it will allow other administrators to know that you are mainly federating sensitive content." + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + "" + "[\ufffd#2\ufffd\ufffd/#2\ufffd|\ufffd#3\ufffd\ufffd/#3\ufffd]" + " Moreover, the NSFW checkbox on video upload will be automatically checked by default. ",N_=_.Zx4(N_),I_=" With " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "Hide" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " or " + "[\ufffd#2\ufffd|\ufffd#3\ufffd]" + "Blur thumbnails" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + ", a confirmation will be requested to watch the video. ",I_=_.Zx4(I_),[[3,"formGroup"],["formGroupName","instance"],[1,"form-row","mt-5"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"inner-form-title"],o,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],[1,"form-group"],["for","instanceName"],e,["type","text","id","instanceName","formControlName","name",1,"form-control",3,"ngClass"],["class","form-error",4,"ngIf"],["for","instanceShortDescription"],t,["id","instanceShortDescription","formControlName","shortDescription",1,"form-control","small",3,"ngClass"],["for","instanceDescription"],i,[1,"label-small-info"],["name","instanceDescription","formControlName","description","textareaMaxWidth","500px",3,"customMarkdownRenderer","classes"],["for","instanceCategories"],r,["id","instanceCategories","formControlName","categories","placeholder",s,3,"availableItems","selectableGroup"],["for","instanceLanguages"],c,["id","instanceLanguages","formControlName","languages","placeholder",u,3,"availableItems","selectableGroup"],[1,"form-row","mt-4"],p,[1,"inner-for-description"],d,["routerLink","/admin/users"],["inputName","instanceIsNSFW","formControlName","isNSFW"],["ptTemplate","label"],["ptTemplate","help"],["for","instanceDefaultNSFWPolicy"],N,["ptTemplate","customHtml"],[1,"peertube-select-container"],["id","instanceDefaultNSFWPolicy","formControlName","defaultNSFWPolicy",1,"form-control"],["value","undefined","disabled",""],A,["value","do_not_list"],R,["value","blur"],I,["value","display"],S,["for","instanceTerms"],b,["helpType","markdownText"],["name","instanceTerms","formControlName","terms","textareaMaxWidth","500px",3,"ngClass"],["for","instanceCodeOfConduct"],M,["name","instanceCodeOfConduct","formControlName","codeOfConduct","textareaMaxWidth","500px",3,"ngClass"],["for","instanceModerationInformation"],Z,w,["name","instanceModerationInformation","formControlName","moderationInformation","textareaMaxWidth","500px",3,"ngClass"],B,["for","instanceAdministrator"],k,F,["name","instanceAdministrator","formControlName","administrator","textareaMaxWidth","500px",3,"classes"],["for","instanceCreationReason"],X,W,["name","instanceCreationReason","formControlName","creationReason","textareaMaxWidth","500px",3,"ngClass"],["for","instanceMaintenanceLifetime"],G,H,["name","instanceMaintenanceLifetime","formControlName","maintenanceLifetime","textareaMaxWidth","500px",3,"ngClass"],["for","instanceBusinessModel"],j,h,["name","instanceBusinessModel","formControlName","businessModel","textareaMaxWidth","500px",3,"ngClass"],i_,["for","instanceHardwareInformation"],r_,a_,["name","instanceHardwareInformation","formControlName","hardwareInformation","textareaMaxWidth","500px",3,"classes"],[1,"form-error"],O,N_,I_]},template:function(e,t){1&e&&(_.ynx(0,0),_.ynx(1,1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.SDv(5,5),_.qZA(),_.qZA(),_.TgZ(6,"div",6),_.TgZ(7,"div",7),_.TgZ(8,"label",8),_.SDv(9,9),_.qZA(),_._UZ(10,"input",10),_.YNc(11,Gn,2,1,"div",11),_.qZA(),_.TgZ(12,"div",7),_.TgZ(13,"label",12),_.SDv(14,13),_.qZA(),_._UZ(15,"textarea",14),_.YNc(16,Zn,2,1,"div",11),_.qZA(),_.TgZ(17,"div",7),_.TgZ(18,"label",15),_.SDv(19,16),_.qZA(),_.TgZ(20,"div",17),_._UZ(21,"my-custom-markup-help"),_.qZA(),_._UZ(22,"my-markdown-textarea",18),_.YNc(23,wn,2,1,"div",11),_.qZA(),_.TgZ(24,"div",7),_.TgZ(25,"label",19),_.SDv(26,20),_.qZA(),_.TgZ(27,"div"),_._UZ(28,"my-select-checkbox",21),_.qZA(),_.qZA(),_.TgZ(29,"div",7),_.TgZ(30,"label",22),_.SDv(31,23),_.qZA(),_.TgZ(32,"div"),_._UZ(33,"my-select-checkbox",24),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(34,"div",25),_.TgZ(35,"div",3),_.TgZ(36,"div",4),_.SDv(37,26),_.qZA(),_.TgZ(38,"div",27),_.tHW(39,28),_._UZ(40,"a",29),_.N_p(),_.qZA(),_.qZA(),_.TgZ(41,"div",6),_.TgZ(42,"div",7),_.TgZ(43,"my-peertube-checkbox",30),_.YNc(44,Bn,2,0,"ng-template",31),_.YNc(45,kn,4,0,"ng-template",32),_.qZA(),_.qZA(),_.TgZ(46,"div",7),_.TgZ(47,"label",33),_.SDv(48,34),_.qZA(),_.TgZ(49,"my-help"),_.YNc(50,Yn,4,0,"ng-template",35),_.qZA(),_.TgZ(51,"div",36),_.TgZ(52,"select",37),_.TgZ(53,"option",38),_.SDv(54,39),_.qZA(),_.TgZ(55,"option",40),_.SDv(56,41),_.qZA(),_.TgZ(57,"option",42),_.SDv(58,43),_.qZA(),_.TgZ(59,"option",44),_.SDv(60,45),_.qZA(),_.qZA(),_.qZA(),_.YNc(61,qn,2,1,"div",11),_.qZA(),_.TgZ(62,"div",7),_.TgZ(63,"label",46),_.SDv(64,47),_.qZA(),_._UZ(65,"my-help",48),_._UZ(66,"my-markdown-textarea",49),_.YNc(67,Kn,2,1,"div",11),_.qZA(),_.TgZ(68,"div",7),_.TgZ(69,"label",50),_.SDv(70,51),_.qZA(),_._UZ(71,"my-help",48),_._UZ(72,"my-markdown-textarea",52),_.YNc(73,zn,2,1,"div",11),_.qZA(),_.TgZ(74,"div",7),_.TgZ(75,"label",53),_.SDv(76,54),_.qZA(),_._UZ(77,"my-help",48),_.TgZ(78,"div",17),_.SDv(79,55),_.qZA(),_._UZ(80,"my-markdown-textarea",56),_.YNc(81,Xn,2,1,"div",11),_.qZA(),_.qZA(),_.qZA(),_.TgZ(82,"div",25),_.TgZ(83,"div",3),_.TgZ(84,"div",4),_.SDv(85,57),_.qZA(),_.qZA(),_.TgZ(86,"div",6),_.TgZ(87,"div",7),_.TgZ(88,"label",58),_.SDv(89,59),_.qZA(),_._UZ(90,"my-help",48),_.TgZ(91,"div",17),_.SDv(92,60),_.qZA(),_._UZ(93,"my-markdown-textarea",61),_.YNc(94,Qn,2,1,"div",11),_.qZA(),_.TgZ(95,"div",7),_.TgZ(96,"label",62),_.SDv(97,63),_.qZA(),_._UZ(98,"my-help",48),_.TgZ(99,"div",17),_.SDv(100,64),_.qZA(),_._UZ(101,"my-markdown-textarea",65),_.YNc(102,Jn,2,1,"div",11),_.qZA(),_.TgZ(103,"div",7),_.TgZ(104,"label",66),_.SDv(105,67),_.qZA(),_._UZ(106,"my-help",48),_.TgZ(107,"div",17),_.SDv(108,68),_.qZA(),_._UZ(109,"my-markdown-textarea",69),_.YNc(110,Wn,2,1,"div",11),_.qZA(),_.TgZ(111,"div",7),_.TgZ(112,"label",70),_.SDv(113,71),_.qZA(),_._UZ(114,"my-help",48),_.TgZ(115,"div",17),_.SDv(116,72),_.qZA(),_._UZ(117,"my-markdown-textarea",73),_.YNc(118,Hn,2,1,"div",11),_.qZA(),_.qZA(),_.qZA(),_.TgZ(119,"div",25),_.TgZ(120,"div",3),_.TgZ(121,"div",4),_.SDv(122,74),_.qZA(),_.qZA(),_.TgZ(123,"div",6),_.TgZ(124,"div",7),_.TgZ(125,"label",75),_.SDv(126,76),_.qZA(),_.TgZ(127,"div",17),_.SDv(128,77),_.qZA(),_._UZ(129,"my-markdown-textarea",78),_.YNc(130,jn,2,1,"div",11),_.qZA(),_.qZA(),_.qZA(),_.BQk(),_.BQk()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(10),_.Q6J("ngClass",_.VKq(29,o_,t.formErrors.instance.name)),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.name),_.xp6(4),_.Q6J("ngClass",_.VKq(31,o_,t.formErrors["instance.shortDescription"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.shortDescription),_.xp6(6),_.Q6J("customMarkdownRenderer",t.getCustomMarkdownRenderer())("classes",_.VKq(33,o_,t.formErrors["instance.description"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.description),_.xp6(5),_.Q6J("availableItems",t.categoryItems)("selectableGroup",!1),_.xp6(5),_.Q6J("availableItems",t.languageItems)("selectableGroup",!1),_.xp6(28),_.Q6J("ngIf",t.formErrors.instance.defaultNSFWPolicy),_.xp6(5),_.Q6J("ngClass",_.VKq(35,o_,t.formErrors["instance.terms"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.terms),_.xp6(5),_.Q6J("ngClass",_.VKq(37,o_,t.formErrors["instance.codeOfConduct"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.codeOfConduct),_.xp6(7),_.Q6J("ngClass",_.VKq(39,o_,t.formErrors["instance.moderationInformation"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.moderationInformation),_.xp6(12),_.Q6J("classes",_.VKq(41,o_,t.formErrors["instance.administrator"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.administrator),_.xp6(7),_.Q6J("ngClass",_.VKq(43,o_,t.formErrors["instance.creationReason"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.creationReason),_.xp6(7),_.Q6J("ngClass",_.VKq(45,o_,t.formErrors["instance.maintenanceLifetime"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.maintenanceLifetime),_.xp6(7),_.Q6J("ngClass",_.VKq(47,o_,t.formErrors["instance.businessModel"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.businessModel),_.xp6(11),_.Q6J("classes",_.VKq(49,o_,t.formErrors["instance.hardwareInformation"])),_.xp6(1),_.Q6J("ngIf",t.formErrors.instance.hardwareInformation))},directives:[a.JL,a.sg,a.x0,a.Fj,a.JJ,a.u,C.mk,C.O5,ne,k_.c,te.L,P.yS,u_.P,s_.Y,C_.I,a.EJ,a.YN,a.Kr],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=number][_ngcontent-%COMP%]{width:100%}}.number-with-unit[_ngcontent-%COMP%]{position:relative;width:-webkit-min-content;width:min-content}.number-with-unit[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;top:5px;right:2.5rem}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #C6C6C6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;cursor:pointer;display:inline}@supports (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:flex}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline}@supports (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-left:5px}}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.alert-signup[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:10px}.callout-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:0;width:100%;justify-content:right}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;position:relative;right:3.3em;top:.3em;font-size:90%;color:var(--mainColor);background-color:var(--mainBackgroundColor);padding:0 .3em}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:hover, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:focus, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-right:17px}}']}),n})();function et(n,o){1&n&&(_.ynx(0),_.SDv(1,60),_.BQk())}function nt(n,o){1&n&&(_.ynx(0),_.TgZ(1,"p"),_.SDv(2,61),_.qZA(),_.BQk())}function tt(n,o){1&n&&(_.ynx(0),_.tHW(1,62),_._UZ(2,"strong"),_._UZ(3,"p"),_.TgZ(4,"ul"),_._UZ(5,"li"),_._UZ(6,"li"),_._UZ(7,"li"),_.qZA(),_._UZ(8,"p"),_.N_p(),_.BQk())}function ot(n,o){if(1&n&&_._UZ(0,"div",65),2&n){const e=_.oxw(2).$implicit;_.Q6J("innerHTML",e.description,_.oJD)}}function it(n,o){1&n&&_.YNc(0,ot,1,1,"ng-template",34)}function rt(n,o){if(1&n&&(_.TgZ(0,"div",63),_.TgZ(1,"my-peertube-checkbox",64),_.YNc(2,it,1,0,void 0,47),_.qZA(),_.qZA()),2&n){const e=o.$implicit,t=_.oxw();_.xp6(1),_.s9C("labelText",e.label),_.Q6J("inputName",t.getResolutionKey(e.id))("formControlName",e.id),_.xp6(1),_.Q6J("ngIf",e.description)}}function at(n,o){if(1&n&&(_.ynx(0),_.SDv(1,66),_.BQk()),2&n){const e=_.oxw();_.xp6(1),_.pQV(e.getTotalTranscodingThreads().value)(e.getTotalTranscodingThreads().unit),_.QtT(1)}}function lt(n,o){if(1&n&&(_.ynx(0),_.SDv(1,67),_.BQk()),2&n){const e=_.oxw();_.xp6(1),_.pQV(e.getTotalTranscodingThreads().value)(e.getTotalTranscodingThreads().unit),_.QtT(1)}}function st(n,o){if(1&n&&(_.TgZ(0,"div",68),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.transcoding.threads)}}function ct(n,o){if(1&n&&(_.TgZ(0,"div",68),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.transcoding.concurrency)}}function gt(n,o){if(1&n&&(_.TgZ(0,"div",68),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.transcoding.profile)}}let dt=(()=>{class n{constructor(e,t){this.configService=e,this.editConfigurationService=t,this.transcodingThreadOptions=[],this.transcodingProfiles=[],this.resolutions=[],this.additionalVideoExtensions=""}ngOnInit(){this.transcodingThreadOptions=this.configService.transcodingThreadOptions,this.resolutions=this.editConfigurationService.getVODResolutions(),this.checkTranscodingFields()}ngOnChanges(e){e.serverConfig&&(this.transcodingProfiles=this.buildAvailableTranscodingProfile(),this.additionalVideoExtensions=this.serverConfig.video.file.extensions.join(" "))}buildAvailableTranscodingProfile(){return this.serverConfig.transcoding.availableProfiles.map(t=>({id:t,label:t,description:"default"===t?"x264, targeting maximum device compatibility":""}))}getResolutionKey(e){return"transcoding.resolutions."+e}isTranscodingEnabled(){return this.editConfigurationService.isTranscodingEnabled(this.form)}getTranscodingDisabledClass(){return{"disabled-checkbox-extra":!this.isTranscodingEnabled()}}getTotalTranscodingThreads(){return this.editConfigurationService.getTotalTranscodingThreads(this.form)}checkTranscodingFields(){const e=this.form.get("transcoding.hls.enabled"),t=this.form.get("transcoding.webtorrent.enabled");t.valueChanges.subscribe(i=>{!1===i&&!e.disabled&&e.disable(),!0===i&&!e.enabled&&e.enable()}),e.valueChanges.subscribe(i=>{!1===i&&!t.disabled&&t.disable(),!0===i&&!t.enabled&&t.enable()})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(q),_.Y36(h_))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-edit-vod-transcoding"]],inputs:{form:"form",formErrors:"formErrors",serverConfig:"serverConfig"},features:[_.TTD],decls:83,vars:22,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b,M,Z,w,B,k,F,X,W,G,H,j;return o=" Estimating a server's capacity to transcode and stream videos isn't easy and we can't tune PeerTube automatically. ",e=" However, you may want to read our guidelines before tweaking the following values. ",t=" Read guidelines ",i="TRANSCODING",r=" Process uploaded videos so that they are in a streamable form that any device can play. Though costly in resources, this is a critical part of PeerTube, so tread carefully. ",s="Input formats",c="Allow additional extensions",u="Allows users to upload " + "\ufffd0\ufffd" + " videos.",p="Allow audio files upload",d="Allows users to upload .mp3, .ogg, .wma, .flac, .aac, or .ac3 audio files.",N="The file will be merged in a still image video with the preview file on upload.",A="Output formats",R="WebTorrent enabled",I="HLS with P2P support enabled",S="Resolutions to generate per enabled format",b=" The original file resolution will be the default target if no option is selected. ",M="Transcoding threads",Z="Transcoding jobs concurrency",w="allows to transcode multiple files in parallel. \u26A0\uFE0F Requires a PeerTube restart",B="jobs in parallel",k="Transcoding profile",F="new transcoding profiles can be added by PeerTube plugins",X="Transcoding enabled",W="If you also enabled HLS support, it will multiply videos storage by 2",G="" + "\ufffd#2\ufffd" + "Requires ffmpeg >= 4.1" + "\ufffd/#2\ufffd" + "" + "[\ufffd#3\ufffd|\ufffd#8\ufffd]" + "Generate HLS playlists and fragmented MP4 files resulting in a better playback than with plain WebTorrent:" + "[\ufffd/#3\ufffd|\ufffd/#8\ufffd]" + "" + "\ufffd#4\ufffd" + "" + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "Resolution change is smoother" + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "" + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "Faster playback especially with long videos" + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "" + "[\ufffd#5\ufffd|\ufffd#6\ufffd|\ufffd#7\ufffd]" + "More stable playback (less bugs/infinite loading)" + "[\ufffd/#5\ufffd|\ufffd/#6\ufffd|\ufffd/#7\ufffd]" + "" + "\ufffd/#4\ufffd" + "" + "[\ufffd#3\ufffd|\ufffd#8\ufffd]" + "If you also enabled WebTorrent support, it will multiply videos storage by 2" + "[\ufffd/#3\ufffd|\ufffd/#8\ufffd]" + "",G=_.Zx4(G),H=" will claim at most " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " with live transcoding ",j=" will claim at least " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " with live transcoding ",[[3,"formGroup"],[1,"form-row","mt-4"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"form-group","form-group-right","col-12","col-lg-8"],[1,"callout","callout-info"],o,e,[1,"callout-container"],["target","_blank","rel","noopener noreferrer","href","https://docs.joinpeertube.org/admin-configuration?id=transcoding",1,"callout-link"],t,[1,"form-row","mt-2"],[1,"inner-form-title"],i,[1,"inner-form-description"],r,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],["formGroupName","transcoding"],[1,"form-group","mb-0","col-12","col-xl-11"],["inputName","transcodingEnabled","formControlName","enabled",3,"recommended"],["ptTemplate","label"],["ngProjectAs","extra",5,["extra"]],[1,"callout","callout-light","pt-2","pb-0"],s,[1,"form-group",3,"ngClass"],["inputName","transcodingAllowAdditionalExtensions","formControlName","allowAdditionalExtensions","labelText",c],["ngProjectAs","description",5,["description"]],u,["inputName","transcodingAllowAudioFiles","formControlName","allowAudioFiles","labelText",p],d,N,[1,"callout","callout-light","pt-2","mt-2","pb-0"],A,["formGroupName","webtorrent"],["inputName","transcodingWebTorrentEnabled","formControlName","enabled","labelText",R],["ptTemplate","help"],["formGroupName","hls"],["inputName","transcodingHlsEnabled","formControlName","enabled","labelText",I,3,"recommended"],S,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","resolutions"],["class","form-group",4,"ngFor","ngForOf"],[1,"mb-2","text-muted"],b,[1,"form-group","mt-4",3,"ngClass"],["for","transcodingThreads"],M,[1,"text-muted","ml-1"],[4,"ngIf"],["id","transcodingThreads","formControlName","threads",3,"items","clearable"],["class","form-error",4,"ngIf"],["for","transcodingConcurrency"],Z,w,[1,"number-with-unit"],["type","number","name","transcodingConcurrency","formControlName","concurrency"],B,["for","transcodingProfile"],k,F,["id","transcodingProfile","formControlName","profile",3,"items","clearable"],X,W,G,[1,"form-group"],[3,"inputName","formControlName","labelText"],[3,"innerHTML"],H,j,[1,"form-error"]]},template:function(e,t){1&e&&(_.ynx(0,0),_.TgZ(1,"div",1),_._UZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"span"),_.SDv(6,5),_.qZA(),_.TgZ(7,"span"),_.SDv(8,6),_.qZA(),_.TgZ(9,"div",7),_.TgZ(10,"a",8),_.SDv(11,9),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(12,"div",10),_.TgZ(13,"div",2),_.TgZ(14,"div",11),_.SDv(15,12),_.qZA(),_.TgZ(16,"div",13),_.SDv(17,14),_.qZA(),_.qZA(),_.TgZ(18,"div",15),_.ynx(19,16),_.TgZ(20,"div",17),_.TgZ(21,"my-peertube-checkbox",18),_.YNc(22,et,2,0,"ng-template",19),_.ynx(23,20),_.TgZ(24,"div",21),_.TgZ(25,"label"),_.SDv(26,22),_.qZA(),_.TgZ(27,"div",23),_.TgZ(28,"my-peertube-checkbox",24),_.ynx(29,25),_.TgZ(30,"span"),_.SDv(31,26),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(32,"div",23),_.TgZ(33,"my-peertube-checkbox",27),_.ynx(34,25),_.TgZ(35,"div"),_.SDv(36,28),_.qZA(),_.TgZ(37,"div"),_.SDv(38,29),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",30),_.TgZ(40,"label"),_.SDv(41,31),_.qZA(),_.ynx(42,32),_.TgZ(43,"div",23),_.TgZ(44,"my-peertube-checkbox",33),_.YNc(45,nt,3,0,"ng-template",34),_.qZA(),_.qZA(),_.BQk(),_.ynx(46,35),_.TgZ(47,"div",23),_.TgZ(48,"my-peertube-checkbox",36),_.YNc(49,tt,9,0,"ng-template",34),_.qZA(),_.qZA(),_.BQk(),_.TgZ(50,"div",23),_.TgZ(51,"label"),_.SDv(52,37),_.qZA(),_.TgZ(53,"div",38),_.ynx(54,39),_.YNc(55,rt,3,4,"div",40),_.TgZ(56,"span",41),_.SDv(57,42),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(58,"div",43),_.TgZ(59,"label",44),_.SDv(60,45),_.qZA(),_.TgZ(61,"span",46),_.YNc(62,at,2,2,"ng-container",47),_.YNc(63,lt,2,2,"ng-container",47),_.qZA(),_._UZ(64,"my-select-custom-value",48),_.YNc(65,st,2,1,"div",49),_.qZA(),_.TgZ(66,"div",43),_.TgZ(67,"label",50),_.SDv(68,51),_.qZA(),_.TgZ(69,"span",46),_.SDv(70,52),_.qZA(),_.TgZ(71,"div",53),_._UZ(72,"input",54),_.TgZ(73,"span"),_.SDv(74,55),_.qZA(),_.qZA(),_.YNc(75,ct,2,1,"div",49),_.qZA(),_.TgZ(76,"div",43),_.TgZ(77,"label",56),_.SDv(78,57),_.qZA(),_.TgZ(79,"span",46),_.SDv(80,58),_.qZA(),_._UZ(81,"my-select-options",59),_.YNc(82,gt,2,1,"div",49),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(21),_.Q6J("recommended",!0),_.xp6(6),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(4),_.pQV(t.additionalVideoExtensions),_.QtT(31),_.xp6(1),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(11),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(4),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(1),_.Q6J("recommended",!0),_.xp6(2),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(5),_.Q6J("ngForOf",t.resolutions),_.xp6(3),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(4),_.Q6J("ngIf",t.getTotalTranscodingThreads().atMost),_.xp6(1),_.Q6J("ngIf",!t.getTotalTranscodingThreads().atMost),_.xp6(1),_.Q6J("items",t.transcodingThreadOptions)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.transcoding.threads),_.xp6(1),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(9),_.Q6J("ngIf",t.formErrors.transcoding.concurrency),_.xp6(1),_.Q6J("ngClass",t.getTranscodingDisabledClass()),_.xp6(5),_.Q6J("items",t.transcodingProfiles)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.transcoding.profile))},directives:[a.JL,a.sg,a.x0,u_.P,a.JJ,a.u,s_.Y,C.mk,C.sg,C.O5,f_,a.wV,a.Fj,B_.I],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=number][_ngcontent-%COMP%]{width:100%}}.number-with-unit[_ngcontent-%COMP%]{position:relative;width:-webkit-min-content;width:min-content}.number-with-unit[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;top:5px;right:2.5rem}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #C6C6C6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;cursor:pointer;display:inline}@supports (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:flex}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline}@supports (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-left:5px}}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.alert-signup[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:10px}.callout-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:0;width:100%;justify-content:right}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;position:relative;right:3.3em;top:.3em;font-size:90%;color:var(--mainColor);background-color:var(--mainBackgroundColor);padding:0 .3em}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:hover, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:focus, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-right:17px}}']}),n})();function Et(n,o){1&n&&(_.ynx(0),_.SDv(1,52),_.BQk())}function ut(n,o){if(1&n&&(_.TgZ(0,"div",53),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.live.maxInstanceLives)}}function pt(n,o){if(1&n&&(_.TgZ(0,"div",53),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.live.maxUserLives)}}function Ct(n,o){if(1&n&&(_.TgZ(0,"div",53),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.live.maxDuration)}}function St(n,o){1&n&&(_.ynx(0),_.SDv(1,54),_.BQk())}function Ot(n,o){if(1&n&&_._UZ(0,"div",57),2&n){const e=_.oxw(2).$implicit;_.Q6J("innerHTML",e.description,_.oJD)}}function Tt(n,o){1&n&&_.YNc(0,Ot,1,1,"ng-template",56)}function Nt(n,o){if(1&n&&(_.TgZ(0,"div",9),_.TgZ(1,"my-peertube-checkbox",55),_.YNc(2,Tt,1,0,void 0,45),_.qZA(),_.qZA()),2&n){const e=o.$implicit,t=_.oxw();_.xp6(1),_.s9C("labelText",e.label),_.Q6J("inputName",t.getResolutionKey(e.id))("formControlName",e.id),_.xp6(1),_.Q6J("ngIf",e.description)}}function It(n,o){if(1&n&&(_.ynx(0),_.SDv(1,58),_.BQk()),2&n){const e=_.oxw();_.xp6(1),_.pQV(e.getTotalTranscodingThreads().value)(e.getTotalTranscodingThreads().unit),_.QtT(1)}}function At(n,o){if(1&n&&(_.ynx(0),_.SDv(1,59),_.BQk()),2&n){const e=_.oxw();_.xp6(1),_.pQV(e.getTotalTranscodingThreads().value)(e.getTotalTranscodingThreads().unit),_.QtT(1)}}function Mt(n,o){if(1&n&&(_.TgZ(0,"div",53),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.live.transcoding.threads)}}function mt(n,o){if(1&n&&(_.TgZ(0,"div",53),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.formErrors.live.transcoding.profile)}}let Rt=(()=>{class n{constructor(e,t){this.configService=e,this.editConfigurationService=t,this.transcodingThreadOptions=[],this.transcodingProfiles=[],this.liveMaxDurationOptions=[],this.liveResolutions=[]}ngOnInit(){this.transcodingThreadOptions=this.configService.transcodingThreadOptions,this.liveMaxDurationOptions=[{id:-1,label:"No limit"},{id:36e5,label:"1 hour"},{id:108e5,label:"3 hours"},{id:18e6,label:"5 hours"},{id:36e6,label:"10 hours"}],this.liveResolutions=this.editConfigurationService.getLiveResolutions()}ngOnChanges(e){e.serverConfig&&(this.transcodingProfiles=this.buildAvailableTranscodingProfile())}buildAvailableTranscodingProfile(){return this.serverConfig.live.transcoding.availableProfiles.map(t=>({id:t,label:t,description:"default"===t?"x264, targeting maximum device compatibility":""}))}getResolutionKey(e){return"live.transcoding.resolutions."+e}getLiveRTMPPort(){return this.serverConfig.live.rtmp.port}isLiveEnabled(){return this.editConfigurationService.isLiveEnabled(this.form)}getDisabledLiveClass(){return{"disabled-checkbox-extra":!this.isLiveEnabled()}}getDisabledLiveTranscodingClass(){return{"disabled-checkbox-extra":!this.isLiveEnabled()||!this.isLiveTranscodingEnabled()}}isLiveTranscodingEnabled(){return this.editConfigurationService.isLiveTranscodingEnabled(this.form)}getTotalTranscodingThreads(){return this.editConfigurationService.getTotalTranscodingThreads(this.form)}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(q),_.Y36(h_))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-edit-live-configuration"]],inputs:{form:"form",formErrors:"formErrors",serverConfig:"serverConfig"},features:[_.TTD],decls:78,vars:27,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b,M,Z,w,B,k;return o="\u0E2A\u0E14",e=" Enable users of your instance to stream live. ",t="\u26A0\uFE0F Enabling live streaming requires trust in your users and extra moderation work",i="If enabled, your server needs to accept incoming TCP traffic on port " + "\ufffd0\ufffd" + "",r="Allow your users to automatically publish a replay of their live",s=" If the user quota is reached, PeerTube will automatically terminate the live streaming ",c=" Max simultaneous lives created on your instance " + "\ufffd#25\ufffd" + "(-1 for \"unlimited\")" + "\ufffd/#25\ufffd" + "",u="{VAR_PLURAL, plural, =1 {live} other {lives}}",u=_.Zx4(u,{VAR_PLURAL:"\ufffd0\ufffd"}),p=" Max simultaneous lives created per user " + "\ufffd#34\ufffd" + "(-1 for \"unlimited\")" + "\ufffd/#34\ufffd" + "",d="{VAR_PLURAL, plural, =1 {live} other {lives}}",d=_.Zx4(d,{VAR_PLURAL:"\ufffd0\ufffd"}),N="Max live duration",A="TRANSCODING",R=" Same as VOD transcoding, transcoding live streams so that they are in a streamable form that any device can play. Requires a beefy CPU, and then some. ",I="Live resolutions to generate",S="Live transcoding threads",b="Live transcoding profile",M="new live transcoding profiles can be added by PeerTube plugins",Z="Allow live streaming",w="Transcoding enabled for live streams",B=" will claim at most " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " with VOD transcoding ",k=" will claim at least " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " with VOD transcoding ",[[3,"formGroup"],[1,"form-row","mt-5"],[1,"form-group","col-12","col-lg-4","col-xl-3"],[1,"inner-form-title"],o,[1,"inner-form-description"],e,[1,"form-group","form-group-right","col-12","col-lg-8","col-xl-9"],["formGroupName","live"],[1,"form-group"],["inputName","liveEnabled","formControlName","enabled"],["ptTemplate","label"],["ngProjectAs","description",5,["description"]],t,i,["ngProjectAs","extra",5,["extra"]],[1,"form-group",3,"ngClass"],["inputName","liveAllowReplay","formControlName","allowReplay","labelText",r],s,["for","liveMaxInstanceLives"],c,[1,"text-muted"],[1,"number-with-unit"],["type","number","name","liveMaxInstanceLives","formControlName","maxInstanceLives"],u,["class","form-error",4,"ngIf"],["for","liveMaxUserLives"],p,["type","number","name","liveMaxUserLives","formControlName","maxUserLives"],d,["for","liveMaxDuration"],N,["labelForId","liveMaxDuration","formControlName","maxDuration","bindLabel","label","bindValue","value",3,"items","clearable","searchable"],[1,"form-row"],A,R,["formGroupName","transcoding"],["inputName","liveTranscodingEnabled","formControlName","enabled"],["for","liveTranscodingThreads"],I,[1,"ml-2","mt-2","d-flex","flex-column"],["formGroupName","resolutions"],["class","form-group",4,"ngFor","ngForOf"],S,[1,"text-muted","ml-1"],[4,"ngIf"],["id","liveTranscodingThreads","formControlName","threads",3,"items","clearable"],[1,"form-group","mt-4",3,"ngClass"],["for","liveTranscodingProfile"],b,M,["id","liveTranscodingProfile","formControlName","profile",3,"items","clearable"],Z,[1,"form-error"],w,[3,"inputName","formControlName","labelText"],["ptTemplate","help"],[3,"innerHTML"],B,k]},template:function(e,t){1&e&&(_.ynx(0,0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.SDv(4,4),_.qZA(),_.TgZ(5,"div",5),_.SDv(6,6),_.qZA(),_.qZA(),_.TgZ(7,"div",7),_.ynx(8,8),_.TgZ(9,"div",9),_.TgZ(10,"my-peertube-checkbox",10),_.YNc(11,Et,2,0,"ng-template",11),_.ynx(12,12),_.TgZ(13,"div"),_.SDv(14,13),_.qZA(),_.TgZ(15,"div"),_.SDv(16,14),_.qZA(),_.BQk(),_.ynx(17,15),_.TgZ(18,"div",16),_.TgZ(19,"my-peertube-checkbox",17),_.ynx(20,12),_.SDv(21,18),_.BQk(),_.qZA(),_.qZA(),_.TgZ(22,"div",16),_.TgZ(23,"label",19),_.tHW(24,20),_._UZ(25,"span",21),_.N_p(),_.qZA(),_.TgZ(26,"div",22),_._UZ(27,"input",23),_.TgZ(28,"span"),_.SDv(29,24),_.qZA(),_.qZA(),_.YNc(30,ut,2,1,"div",25),_.qZA(),_.TgZ(31,"div",16),_.TgZ(32,"label",26),_.tHW(33,27),_._UZ(34,"span",21),_.N_p(),_.qZA(),_.TgZ(35,"div",22),_._UZ(36,"input",28),_.TgZ(37,"span"),_.SDv(38,29),_.qZA(),_.qZA(),_.YNc(39,pt,2,1,"div",25),_.qZA(),_.TgZ(40,"div",16),_.TgZ(41,"label",30),_.SDv(42,31),_.qZA(),_._UZ(43,"my-select-options",32),_.YNc(44,Ct,2,1,"div",25),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.BQk(),_.qZA(),_.qZA(),_.TgZ(45,"div",33),_.TgZ(46,"div",2),_.TgZ(47,"div",3),_.SDv(48,34),_.qZA(),_.TgZ(49,"div",5),_.SDv(50,35),_.qZA(),_.qZA(),_.TgZ(51,"div",7),_.ynx(52,8),_.ynx(53,36),_.TgZ(54,"div",16),_.TgZ(55,"my-peertube-checkbox",37),_.YNc(56,St,2,0,"ng-template",11),_.qZA(),_.qZA(),_.TgZ(57,"div",16),_.TgZ(58,"label",38),_.SDv(59,39),_.qZA(),_.TgZ(60,"div",40),_.ynx(61,41),_.YNc(62,Nt,3,4,"div",42),_.BQk(),_.qZA(),_.qZA(),_.TgZ(63,"div",16),_.TgZ(64,"label",38),_.SDv(65,43),_.qZA(),_.TgZ(66,"span",44),_.YNc(67,It,2,2,"ng-container",45),_.YNc(68,At,2,2,"ng-container",45),_.qZA(),_._UZ(69,"my-select-custom-value",46),_.YNc(70,Mt,2,1,"div",25),_.qZA(),_.TgZ(71,"div",47),_.TgZ(72,"label",48),_.SDv(73,49),_.qZA(),_.TgZ(74,"span",44),_.SDv(75,50),_.qZA(),_._UZ(76,"my-select-options",51),_.YNc(77,mt,2,1,"div",25),_.qZA(),_.BQk(),_.BQk(),_.qZA(),_.qZA(),_.BQk()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(16),_.pQV(t.getLiveRTMPPort()),_.QtT(16),_.xp6(2),_.Q6J("ngClass",t.getDisabledLiveClass()),_.xp6(4),_.Q6J("ngClass",t.getDisabledLiveClass()),_.xp6(7),_.pQV(t.form.value.live.maxInstanceLives),_.QtT(29),_.xp6(1),_.Q6J("ngIf",t.formErrors.live.maxInstanceLives),_.xp6(1),_.Q6J("ngClass",t.getDisabledLiveClass()),_.xp6(7),_.pQV(t.form.value.live.maxUserLives),_.QtT(38),_.xp6(1),_.Q6J("ngIf",t.formErrors.live.maxUserLives),_.xp6(1),_.Q6J("ngClass",t.getDisabledLiveClass()),_.xp6(3),_.Q6J("items",t.liveMaxDurationOptions)("clearable",!1)("searchable",!0),_.xp6(1),_.Q6J("ngIf",t.formErrors.live.maxDuration),_.xp6(10),_.Q6J("ngClass",t.getDisabledLiveClass()),_.xp6(3),_.Q6J("ngClass",t.getDisabledLiveTranscodingClass()),_.xp6(5),_.Q6J("ngForOf",t.liveResolutions),_.xp6(1),_.Q6J("ngClass",t.getDisabledLiveTranscodingClass()),_.xp6(4),_.Q6J("ngIf",t.getTotalTranscodingThreads().atMost),_.xp6(1),_.Q6J("ngIf",!t.getTotalTranscodingThreads().atMost),_.xp6(1),_.Q6J("items",t.transcodingThreadOptions)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.live.transcoding.threads),_.xp6(1),_.Q6J("ngClass",t.getDisabledLiveTranscodingClass()),_.xp6(5),_.Q6J("items",t.transcodingProfiles)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.live.transcoding.profile))},directives:[a.JL,a.sg,a.x0,u_.P,a.JJ,a.u,s_.Y,C.mk,a.wV,a.Fj,C.O5,B_.I,C.sg,f_],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=number][_ngcontent-%COMP%]{width:100%}}.number-with-unit[_ngcontent-%COMP%]{position:relative;width:-webkit-min-content;width:min-content}.number-with-unit[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;top:5px;right:2.5rem}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #C6C6C6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;cursor:pointer;display:inline}@supports (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:flex}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline}@supports (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-left:5px}}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.alert-signup[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:10px}.callout-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:0;width:100%;justify-content:right}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;position:relative;right:3.3em;top:.3em;font-size:90%;color:var(--mainColor);background-color:var(--mainBackgroundColor);padding:0 .3em}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:hover, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:focus, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-right:17px}}']}),n})();function Dt(n,o){if(1&n&&_._UZ(0,"my-edit-homepage",25),2&n){const e=_.oxw();_.Q6J("form",e.form)("formErrors",e.formErrors)}}function ft(n,o){if(1&n&&_._UZ(0,"my-edit-instance-information",26),2&n){const e=_.oxw();_.Q6J("form",e.form)("formErrors",e.formErrors)("languageItems",e.languageItems)("categoryItems",e.categoryItems)}}function Pt(n,o){if(1&n&&_._UZ(0,"my-edit-basic-configuration",27),2&n){const e=_.oxw();_.Q6J("form",e.form)("formErrors",e.formErrors)("serverConfig",e.serverConfig)}}function bt(n,o){if(1&n&&_._UZ(0,"my-edit-vod-transcoding",27),2&n){const e=_.oxw();_.Q6J("form",e.form)("formErrors",e.formErrors)("serverConfig",e.serverConfig)}}function ht(n,o){if(1&n&&_._UZ(0,"my-edit-live-configuration",27),2&n){const e=_.oxw();_.Q6J("form",e.form)("formErrors",e.formErrors)("serverConfig",e.serverConfig)}}function Lt(n,o){if(1&n&&_._UZ(0,"my-edit-advanced-configuration",25),2&n){const e=_.oxw();_.Q6J("form",e.form)("formErrors",e.formErrors)}}function Ft(n,o){if(1&n&&(_.tHW(0,29,1),_._UZ(1,"li"),_.N_p()),2&n){const e=o.$implicit;_.xp6(1),_.pQV(e),_.QtT(0)}}function xt(n,o){if(1&n&&(_.TgZ(0,"div",28),_.tHW(1,29),_.TgZ(2,"ul"),_.YNc(3,Ft,2,1,"li",30),_.qZA(),_.N_p(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngForOf",e.grabAllErrors())}}function vt(n,o){1&n&&(_.TgZ(0,"span",28),_.SDv(1,31),_.qZA())}let Vt=(()=>{class n extends v.OI{constructor(e,t,i,r,s,c,u,p){super(),this.router=e,this.route=t,this.formValidatorService=i,this.notifier=r,this.configService=s,this.customPage=c,this.serverService=u,this.editConfigurationService=p,this.languageItems=[],this.categoryItems=[]}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig();const e={instance:{name:An,shortDescription:Mn,description:null,isNSFW:!1,defaultNSFWPolicy:null,terms:null,codeOfConduct:null,creationReason:null,moderationInformation:null,administrator:null,maintenanceLifetime:null,businessModel:null,hardwareInformation:null,categories:null,languages:null,defaultClientRoute:null,customizations:{javascript:null,css:null}},theme:{default:null},services:{twitter:{username:mn,whitelisted:null}},cache:{previews:{size:Rn},captions:{size:j_},torrents:{size:j_}},signup:{enabled:null,limit:Dn,requiresEmailVerification:null,minimumAge:fn},import:{videos:{concurrency:ee,http:{enabled:null},torrent:{enabled:null}}},trending:{videos:{algorithms:{enabled:null,default:null}}},admin:{email:Pn},contactForm:{enabled:null},user:{videoQuota:Q.Io,videoQuotaDaily:Q.Yy},transcoding:{enabled:null,threads:_e,allowAdditionalExtensions:null,allowAudioFiles:null,profile:null,concurrency:ee,resolutions:{},hls:{enabled:null},webtorrent:{enabled:null}},live:{enabled:null,maxDuration:bn,maxInstanceLives:hn,maxUserLives:Ln,allowReplay:null,transcoding:{enabled:null,threads:_e,profile:null,resolutions:{}}},autoBlacklist:{videos:{ofUsers:{enabled:null}}},followers:{instance:{enabled:null,manualApproval:null}},followings:{instance:{autoFollowBack:{enabled:null},autoFollowIndex:{enabled:null,indexUrl:Fn}}},broadcastMessage:{enabled:null,level:null,dismissable:null,message:null},search:{remoteUri:{users:null,anonymous:null},searchIndex:{enabled:null,url:xn,disableLocalSearch:null,isDefaultSearch:null}},instanceCustomHomepage:{content:null}},t={transcoding:{resolutions:{}},live:{transcoding:{resolutions:{}}}};for(const i of this.editConfigurationService.getVODResolutions())t.transcoding.resolutions[i.id]="false",e.transcoding.resolutions[i.id]=null;for(const i of this.editConfigurationService.getLiveResolutions())t.live.transcoding.resolutions[i.id]="false",e.live.transcoding.resolutions[i.id]=null;this.buildForm(e),this.route.snapshot.fragment&&this.onNavChange(this.route.snapshot.fragment),this.loadConfigAndUpdateForm(),this.loadCategoriesAndLanguages()}formValidated(){const e=this.form.getRawValue();(0,Y_.D)([this.configService.updateCustomConfig((0,H_.Z)(e,"instanceCustomHomepage")),this.customPage.updateInstanceHomepage(e.instanceCustomHomepage.content)]).subscribe({next:([t])=>{const i={content:e.instanceCustomHomepage.content};this.customConfig=Object.assign(Object.assign({},t),{instanceCustomHomepage:i}),this.serverService.resetConfig().subscribe(r=>{this.serverConfig=r}),this.updateForm(),this.notifier.success("\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E41\u0E25\u0E49\u0E27")},error:t=>this.notifier.error(t.message)})}hasConsistentOptions(){return!!this.hasLiveAllowReplayConsistentOptions()}hasLiveAllowReplayConsistentOptions(){return!(!1===this.editConfigurationService.isTranscodingEnabled(this.form)&&this.editConfigurationService.isLiveEnabled(this.form)&&!0===this.form.value.live.allowReplay)}onNavChange(e){this.activeNav=e,this.router.navigate([],{fragment:this.activeNav})}grabAllErrors(e){const t=e||this.formErrors;let i=[];for(const r of Object.keys(t)){const s=t[r];!s||("string"==typeof s?i.push(s):i=i.concat(this.grabAllErrors(s)))}return i}updateForm(){this.form.patchValue(this.customConfig)}loadConfigAndUpdateForm(){(0,Y_.D)([this.configService.getCustomConfig(),this.customPage.getInstanceHomepage()]).subscribe({next:([e,t])=>{this.customConfig=Object.assign(Object.assign({},e),{instanceCustomHomepage:t}),this.updateForm(),this.forceCheck()},error:e=>this.notifier.error(e.message)})}loadCategoriesAndLanguages(){(0,Y_.D)([this.serverService.getVideoLanguages(),this.serverService.getVideoCategories()]).subscribe({next:([e,t])=>{this.languageItems=e.map(i=>({label:i.label,id:i.id})),this.categoryItems=t.map(i=>({label:i.label,id:i.id+""}))},error:e=>this.notifier.error(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(P.F0),_.Y36(P.gz),_.Y36(v.Q4),_.Y36(E.d4),_.Y36(q),_.Y36(vn.$),_.Y36(Vn.N),_.Y36(h_))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-edit-custom-config"]],features:[_.qOj],decls:36,vars:6,consts:function(){let o,e,t,i,r,s,c,u,p,d;return o="Configuration",e="Homepage",t="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25",i="Basic",r="VOD Transcoding",s="\u0E01\u0E32\u0E23\u0E41\u0E1E\u0E23\u0E48\u0E20\u0E32\u0E1E\u0E2A\u0E14",c="\u0E02\u0E31\u0E49\u0E19\u0E2A\u0E39\u0E07",u="Update configuration",p=" There are errors in the form: " + "\ufffd#2\ufffd" + "" + "\ufffd*3:1\ufffd\ufffd#1:1\ufffd" + " " + "\ufffd0:1\ufffd" + " " + "\ufffd/#1:1\ufffd\ufffd/*3:1\ufffd" + "" + "\ufffd/#2\ufffd" + "",d=" You cannot allow live replay if you don't enable transcoding. ",[[1,"sr-only"],o,["role","form",3,"formGroup"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],["ngbNavItem","instance-homepage"],["ngbNavLink",""],e,["ngbNavContent",""],["ngbNavItem","instance-information"],t,["ngbNavItem","basic-configuration"],i,["ngbNavItem","transcoding"],r,["ngbNavItem","live"],s,["ngbNavItem","advanced-configuration"],c,[3,"ngbNavOutlet"],[1,"form-row","mt-4"],[1,"col-md-7","col-xl-5"],[1,"col-md-5","col-xl-5"],["class","form-error submit-error",4,"ngIf"],["type","submit","value",u,3,"disabled","click"],[3,"form","formErrors"],[3,"form","formErrors","languageItems","categoryItems"],[3,"form","formErrors","serverConfig"],[1,"form-error","submit-error"],p,[4,"ngFor","ngForOf"],d]},template:function(e,t){if(1&e&&(_.TgZ(0,"h1",0),_.SDv(1,1),_.qZA(),_.TgZ(2,"form",2),_.TgZ(3,"div",3,4),_.NdJ("activeIdChange",function(r){return t.onNavChange(r)}),_.ynx(5,5),_.TgZ(6,"a",6),_.SDv(7,7),_.qZA(),_.YNc(8,Dt,1,2,"ng-template",8),_.BQk(),_.ynx(9,9),_.TgZ(10,"a",6),_.SDv(11,10),_.qZA(),_.YNc(12,ft,1,4,"ng-template",8),_.BQk(),_.ynx(13,11),_.TgZ(14,"a",6),_.SDv(15,12),_.qZA(),_.YNc(16,Pt,1,3,"ng-template",8),_.BQk(),_.ynx(17,13),_.TgZ(18,"a",6),_.SDv(19,14),_.qZA(),_.YNc(20,bt,1,3,"ng-template",8),_.BQk(),_.ynx(21,15),_.TgZ(22,"a",6),_.SDv(23,16),_.qZA(),_.YNc(24,ht,1,3,"ng-template",8),_.BQk(),_.ynx(25,17),_.TgZ(26,"a",6),_.SDv(27,18),_.qZA(),_.YNc(28,Lt,1,2,"ng-template",8),_.BQk(),_.qZA(),_._UZ(29,"div",19),_.TgZ(30,"div",20),_._UZ(31,"div",21),_.TgZ(32,"div",22),_.YNc(33,xt,4,1,"div",23),_.YNc(34,vt,2,0,"span",23),_.TgZ(35,"input",24),_.NdJ("click",function(){return t.formValidated()}),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&e){const i=_.MAs(4);_.xp6(2),_.Q6J("formGroup",t.form),_.xp6(1),_.Q6J("activeId",t.activeNav),_.xp6(26),_.Q6J("ngbNavOutlet",i),_.xp6(4),_.Q6J("ngIf",!t.form.valid),_.xp6(1),_.Q6J("ngIf",!t.hasLiveAllowReplayConsistentOptions()),_.xp6(1),_.Q6J("disabled",!t.form.valid||!t.hasConsistentOptions())}},directives:[a._Y,a.JL,a.sg,J.Pz,J.nv,J.Vx,J.uN,J.tO,C.O5,$n,_t,In,dt,Rt,$,C.sg],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}form[_ngcontent-%COMP%]{padding-bottom:1.5rem}input[type=text][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=text][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}input[type=number][_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[type=number][_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}input[type=number][readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[type=number][_ngcontent-%COMP%]{width:100%}}.number-with-unit[_ngcontent-%COMP%]{position:relative;width:-webkit-min-content;width:min-content}.number-with-unit[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;top:5px;right:2.5rem}input[type=checkbox][_ngcontent-%COMP%]{opacity:0;position:absolute}input[type=checkbox][_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:relative;width:18px;min-width:18px;height:18px;border:1px solid #C6C6C6;border-radius:3px;vertical-align:middle;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(2px - 1px);left:5px;width:5px;height:12px;opacity:0;transform:rotate(45deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:transparent;background:var(--mainColor);animation:jelly .6s ease}input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1)}input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{font-size:15px;font-weight:400;cursor:pointer;display:inline}@supports (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=checkbox][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:5px}}input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%], input[type=checkbox][disabled][_ngcontent-%COMP%] + span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{opacity:.5;cursor:default}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-options[_ngcontent-%COMP%], my-select-custom-value[_ngcontent-%COMP%], my-select-checkbox[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:flex}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}@supports (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){input[type=submit][_ngcontent-%COMP%]{margin-left:auto}}input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{display:inline}@supports (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){input[type=submit][_ngcontent-%COMP%] + .form-error[_ngcontent-%COMP%]{margin-left:5px}}.inner-form-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:500px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:150px;padding:5px 15px;font-size:15px;max-width:100%;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(500px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}textarea.small[_ngcontent-%COMP%]{height:75px}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.disabled-checkbox-extra[_ngcontent-%COMP%], .disabled-checkbox-extra[_ngcontent-%COMP%]     label{opacity:.5;pointer-events:none}.form-group-right[_ngcontent-%COMP%]{padding-top:2px}ngb-tabset[_ngcontent-%COMP%]:not(.previews)     .nav-link{font-size:105%}.submit-error[_ngcontent-%COMP%]{margin-bottom:20px}.alert-signup[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:10px}.callout-container[_ngcontent-%COMP%]{position:absolute;display:flex;height:0;width:100%;justify-content:right}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;position:relative;right:3.3em;top:.3em;font-size:90%;color:var(--mainColor);background-color:var(--mainBackgroundColor);padding:0 .3em}.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:hover, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:focus, .callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.callout-container[_ngcontent-%COMP%]   .callout-link[_ngcontent-%COMP%]{padding-right:17px}}']}),n})();const yt=[{path:"config",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[P.lC],encapsulation:2}),n})(),canActivate:[E.p3],data:{userRight:8},children:[{path:"",redirectTo:"edit-custom",pathMatch:"full"},{path:"edit-custom",component:Vt,data:{meta:{title:"Edit custom configuration"}}}]}];var e_=g(19895),Ut=g(75827);let $t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-abuse-list"]],decls:5,vars:0,consts:function(){let o;return o="Reports",[["iconName","flag","aria-hidden","true"],o,["viewType","admin"]]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_.qZA(),_._UZ(4,"my-abuse-list-table",2))},directives:[e_.$,Ut.M],encapsulation:2}),n})();var E_=g(41388),T_=g(67053),q_=g(86552);function Gt(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",8),_.TgZ(1,"div",9),_.TgZ(2,"my-advanced-input-filter",10),_.NdJ("search",function(i){return _.CHM(e),_.oxw().onSearch(i)}),_.qZA(),_.qZA(),_.qZA()}}function Zt(n,o){1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"th",11),_.SDv(2,12),_.qZA(),_.TgZ(3,"th",13),_.SDv(4,14),_.qZA(),_.TgZ(5,"th",15),_.tHW(6,16),_._UZ(7,"p-sortIcon",17),_.N_p(),_.qZA(),_.qZA())}function wt(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td",18),_.TgZ(2,"button",19),_.NdJ("click",function(){const r=_.CHM(e).$implicit;return _.oxw().unblockAccount(r)}),_.SDv(3,20),_.qZA(),_.qZA(),_.TgZ(4,"td"),_.TgZ(5,"a",21),_.TgZ(6,"div",22),_._UZ(7,"my-actor-avatar",23),_.TgZ(8,"div"),_._uU(9),_.TgZ(10,"span",24),_._uU(11),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(12,"td"),_._uU(13),_.ALo(14,"date"),_.qZA(),_.qZA()}if(2&n){const e=o.$implicit;_.xp6(5),_.Q6J("href",e.blockedAccount.url,_.LSH),_.xp6(2),_.Q6J("account",e.blockedAccount),_.xp6(2),_.hij(" ",e.blockedAccount.displayName," "),_.xp6(2),_.Oqu(e.blockedAccount.nameWithHost),_.xp6(2),_.Oqu(_.xi3(14,5,e.createdAt,"short"))}}function Bt(n,o){1&n&&(_.ynx(0),_.SDv(1,28),_.BQk())}function kt(n,o){1&n&&(_.ynx(0),_.SDv(1,29),_.BQk())}function Yt(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",25),_.TgZ(2,"div",26),_.YNc(3,Bt,2,0,"ng-container",27),_.YNc(4,kt,2,0,"ng-container",27),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.search),_.xp6(1),_.Q6J("ngIf",!e.search)}}let qt=(()=>{class n extends V.hl{constructor(){super(...arguments),this.mode=V.OI.Instance}getIdentifier(){return"InstanceAccountBlocklistComponent"}}return n.\u0275fac=function(){let o;return function(t){return(o||(o=_.n5z(n)))(t||n)}}(),n.\u0275cmp=_.Xpm({type:n,selectors:[["my-instance-account-blocklist"]],features:[_.qOj],decls:10,vars:12,consts:function(){let o,e,t,i,r,s,c,u,p;return o="Muted accounts",e="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted accounts\n        ",t="Action",i="Account",r="Muted at \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",s="Unmute",c="Open account in a new tab",u="No account found matching current filters.",p="No account found.",[["iconName","user-x","aria-hidden","true"],o,[3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate",e],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto"],[3,"search"],[2,"width","150px"],t,[2,"width","calc(100% - 300px)"],i,["pSortableColumn","createdAt",2,"width","150px"],r,["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],s,["title",c,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"chip","two-lines"],[3,"account"],[1,"text-muted"],["colspan","6"],[1,"no-results"],[4,"ngIf"],u,p]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_.qZA(),_.TgZ(4,"p-table",2),_.DtL(5,3),_.NdJ("onLazyLoad",function(r){return t.loadLazy(r)})("onPage",function(r){return t.onPage(r)}),_.YNc(6,Gt,3,0,"ng-template",4),_.YNc(7,Zt,8,0,"ng-template",5),_.YNc(8,wt,15,8,"ng-template",6),_.YNc(9,Yt,5,2,"ng-template",7),_.qZA()),2&e&&(_.xp6(4),_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(5),_.Q6J("value",t.blockedAccounts)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("showCurrentPageReport",!0))},directives:[e_.$,f.iA,E_.jx,T_.F,f.lQ,f.fz,q_.b,C.O5],pipes:[C.uU],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:end}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56.25%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]     iframe{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.chip[_ngcontent-%COMP%]{--chip-radius: 5rem;--chip-padding: .2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius: .2rem;--chip-padding: .2rem .3rem}@supports (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:-.4rem}}@supports not (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-left:-.4rem}}@supports (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.2rem}}@supports not (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:.2rem}}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;min-width:2rem;min-height:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 .1rem;display:flex;flex-direction:column;height:2rem;justify-content:center}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-comment-link[_ngcontent-%COMP%], .table-account-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-comment-link[_ngcontent-%COMP%]     p:last-child, .table-account-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden;background-color:#ececec;transition:filter .2s ease;height:45px;width:80px;border-radius:2px;border:0;background:transparent;display:inline-flex;justify-content:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:#0000004d}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid rgba(255,255,255,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}@supports (margin-inline-end: .5rem){.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{margin-inline-end:.5rem}}@supports not (margin-inline-end: .5rem){.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{margin-right:.5rem}}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:#000000b3;color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:gray}@supports (margin-inline-start: .1rem){.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-inline-start:.1rem}}@supports not (margin-inline-start: .1rem){.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:.1rem}}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}",".chip[_ngcontent-%COMP%]{--chip-radius: 5rem;--chip-padding: .2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius: .2rem;--chip-padding: .2rem .3rem}@supports (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:-.4rem}}@supports not (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-left:-.4rem}}@supports (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.2rem}}@supports not (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:.2rem}}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;min-width:2rem;min-height:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 .1rem;display:flex;flex-direction:column;height:2rem;justify-content:center}.unblock-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.unblock-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.unblock-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.unblock-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.unblock-button[_ngcontent-%COMP%]{padding-right:17px}}.unblock-button[_ngcontent-%COMP%]:focus, .unblock-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[disabled][_ngcontent-%COMP%], .unblock-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button[disabled][_ngcontent-%COMP%], .unblock-button.disabled[_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}"]}),n})();var Kt=g(71142);function zt(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",10),_.TgZ(1,"div",11),_.TgZ(2,"a",12),_.NdJ("click",function(){return _.CHM(e),_.oxw().addServersToBlock()})("key.enter",function(){return _.CHM(e),_.oxw().addServersToBlock()}),_._UZ(3,"my-global-icon",13),_.ynx(4),_.SDv(5,14),_.BQk(),_.qZA(),_.qZA(),_.TgZ(6,"div",15),_.TgZ(7,"my-advanced-input-filter",16),_.NdJ("search",function(i){return _.CHM(e),_.oxw().onSearch(i)}),_.qZA(),_.qZA(),_.qZA()}}function Xt(n,o){1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"th",17),_.SDv(2,18),_.qZA(),_.TgZ(3,"th",19),_.SDv(4,20),_.qZA(),_.TgZ(5,"th",21),_.tHW(6,22),_._UZ(7,"p-sortIcon",23),_.N_p(),_.qZA(),_.qZA())}function Qt(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td",24),_.TgZ(2,"button",25),_.NdJ("click",function(){const r=_.CHM(e).$implicit;return _.oxw().unblockServer(r)}),_.SDv(3,26),_.qZA(),_.qZA(),_.TgZ(4,"td"),_.TgZ(5,"a",27),_._uU(6),_._UZ(7,"span",28),_.qZA(),_.qZA(),_.TgZ(8,"td"),_._uU(9),_.ALo(10,"date"),_.qZA(),_.qZA()}if(2&n){const e=o.$implicit;_.xp6(5),_.Q6J("href","https://"+e.blockedServer.host,_.LSH),_.xp6(1),_.hij(" ",e.blockedServer.host," "),_.xp6(3),_.Oqu(_.xi3(10,3,e.createdAt,"short"))}}function Jt(n,o){1&n&&(_.ynx(0),_.SDv(1,32),_.BQk())}function Wt(n,o){1&n&&(_.ynx(0),_.SDv(1,33),_.BQk())}function Ht(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",29),_.TgZ(2,"div",30),_.YNc(3,Jt,2,0,"ng-container",31),_.YNc(4,Wt,2,0,"ng-container",31),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.search),_.xp6(1),_.Q6J("ngIf",!e.search)}}let jt=(()=>{class n extends V.DJ{constructor(){super(...arguments),this.mode=V.OI.Instance}getIdentifier(){return"InstanceServerBlocklistComponent"}}return n.\u0275fac=function(){let o;return function(t){return(o||(o=_.n5z(n)))(t||n)}}(),n.\u0275cmp=_.Xpm({type:n,selectors:[["my-instance-server-blocklist"]],features:[_.qOj],decls:12,vars:13,consts:function(){let o,e,t,i,r,s,c,u,p,d,N;return o="Muted servers",e="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " muted instances\n        ",t="Mute domains",i="Mute domain",r="Action",s="\u0E40\u0E0B\u0E34\u0E23\u0E4C\u0E1F\u0E40\u0E27\u0E2D\u0E23\u0E4C",c="Muted at \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",u="Unmute",p="Open instance in a new tab",d="No server found matching current filters.",N="No server found.",[["iconName","peertube-x","aria-hidden","true"],o,[3,"value","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","lazy","lazyLoadOnInit","showCurrentPageReport","onPage","onLazyLoad",6,"currentPageReportTemplate"],["currentPageReportTemplate",e],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["action",t,3,"domains"],["batchDomainsModal",""],[1,"caption"],[1,"left-buttons"],[1,"block-button",3,"click","key.enter"],["iconName","add","aria-hidden","true"],i,[1,"ml-auto"],[3,"search"],[2,"width","150px"],r,[2,"width","calc(100% - 300px)"],s,["pSortableColumn","createdAt",2,"width","150px"],c,["field","createdAt"],[1,"action-cell"],[1,"unblock-button",3,"click"],u,["title",p,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"glyphicon","glyphicon-new-window"],["colspan","6"],[1,"no-results"],[4,"ngIf"],d,N]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_.qZA(),_.TgZ(4,"p-table",2),_.DtL(5,3),_.NdJ("onPage",function(r){return t.onPage(r)})("onLazyLoad",function(r){return t.loadLazy(r)}),_.YNc(6,zt,8,0,"ng-template",4),_.YNc(7,Xt,8,0,"ng-template",5),_.YNc(8,Qt,11,6,"ng-template",6),_.YNc(9,Ht,5,2,"ng-template",7),_.qZA(),_.TgZ(10,"my-batch-domains-modal",8,9),_.NdJ("domains",function(r){return t.onDomainsToBlock(r)}),_.qZA()),2&e&&(_.xp6(4),_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(5),_.Q6J("value",t.blockedServers)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("lazy",!0)("lazyLoadOnInit",!1)("showCurrentPageReport",!0))},directives:[e_.$,f.iA,E_.jx,Kt.F,T_.F,f.lQ,f.fz,C.O5],pipes:[C.uU],styles:["a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.unblock-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#e5e5e5;color:var(--greyForegroundColor)}@supports (padding-inline-start: 13px){.unblock-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.unblock-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.unblock-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.unblock-button[_ngcontent-%COMP%]{padding-right:17px}}.unblock-button[_ngcontent-%COMP%]:focus, .unblock-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.unblock-button[_ngcontent-%COMP%]:hover, .unblock-button[_ngcontent-%COMP%]:active, .unblock-button[_ngcontent-%COMP%]:focus, .unblock-button[disabled][_ngcontent-%COMP%], .unblock-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.unblock-button[disabled][_ngcontent-%COMP%], .unblock-button.disabled[_ngcontent-%COMP%]{cursor:default}.unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .unblock-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.block-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.block-button[_ngcontent-%COMP%]:hover, .block-button[_ngcontent-%COMP%]:focus, .block-button[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.block-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.block-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.block-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.block-button[_ngcontent-%COMP%]{padding-right:17px}}.block-button[_ngcontent-%COMP%]:focus, .block-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.block-button[_ngcontent-%COMP%], .block-button[_ngcontent-%COMP%]:active, .block-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.block-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.block-button[disabled][_ngcontent-%COMP%], .block-button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.block-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}.chip[_ngcontent-%COMP%]{--chip-radius: 5rem;--chip-padding: .2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius: .2rem;--chip-padding: .2rem .3rem}@supports (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:-.4rem}}@supports not (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-left:-.4rem}}@supports (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.2rem}}@supports not (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:.2rem}}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;min-width:2rem;min-height:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 .1rem;display:flex;flex-direction:column;height:2rem;justify-content:center}"]}),n})(),_o=(()=>{class n{constructor(e){this.serverService=e,this.autoBlockVideosEnabled=!1}ngOnInit(){const e=this.serverService.getHTMLConfig();this.autoBlockVideosEnabled=e.autoBlacklist.videos.ofUsers.enabled}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.NG))},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[P.lC],encapsulation:2}),n})();var K=g(61855),oe=g(72754),eo=g(3782),K_=g(54175),z=g(359),no=g(93220),z_=g(66865);function to(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",9),_.TgZ(1,"div",10),_.TgZ(2,"my-advanced-input-filter",11),_.NdJ("search",function(i){return _.CHM(e),_.oxw().onSearch(i)}),_.qZA(),_.qZA(),_.qZA()}if(2&n){const e=_.oxw();_.xp6(2),_.Q6J("filters",e.inputFilters)}}function oo(n,o){1&n&&(_.TgZ(0,"tr"),_._UZ(1,"th",12),_._UZ(2,"th",13),_.TgZ(3,"th",14),_.tHW(4,15),_._UZ(5,"p-sortIcon",16),_.N_p(),_.qZA(),_.TgZ(6,"th",17),_.SDv(7,18),_.qZA(),_.TgZ(8,"th",19),_.SDv(9,20),_.qZA(),_.TgZ(10,"th",21),_.tHW(11,22),_._UZ(12,"p-sortIcon",23),_.N_p(),_.qZA(),_.qZA())}function io(n,o){1&n&&_._UZ(0,"td")}function ro(n,o){if(1&n&&(_.TgZ(0,"td",37),_.TgZ(1,"span",38),_._UZ(2,"i",39),_.qZA(),_.qZA()),2&n){const e=_.oxw(),i=e.expanded;_.Q6J("pRowToggler",e.$implicit),_.xp6(2),_.Q6J("ngClass",i?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}function ao(n,o){1&n&&_._UZ(0,"my-global-icon",40)}function lo(n,o){1&n&&(_.TgZ(0,"span",41),_.SDv(1,42),_.qZA())}function so(n,o){1&n&&(_.TgZ(0,"span",43),_.SDv(1,44),_.qZA())}const co=function(n){return{show:n}};function go(n,o){if(1&n&&(_.TgZ(0,"tr"),_.YNc(1,io,1,0,"td",24),_.YNc(2,ro,3,2,"td",25),_.TgZ(3,"td",26),_._UZ(4,"my-action-dropdown",27),_.qZA(),_.TgZ(5,"td"),_.TgZ(6,"a",28),_.TgZ(7,"div",29),_.TgZ(8,"div",30),_._UZ(9,"img",31),_.qZA(),_.TgZ(10,"div",32),_.TgZ(11,"div"),_.YNc(12,ao,1,0,"my-global-icon",33),_._uU(13),_.qZA(),_.TgZ(14,"div",34),_._uU(15),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(16,"td"),_.YNc(17,lo,2,0,"span",35),_.qZA(),_.TgZ(18,"td"),_.YNc(19,so,2,0,"span",36),_.qZA(),_.TgZ(20,"td"),_._uU(21),_.ALo(22,"date"),_.qZA(),_.qZA()),2&n){const e=o.$implicit,t=o.expanded,i=_.oxw();_.xp6(1),_.Q6J("ngIf",!e.reason),_.xp6(1),_.Q6J("ngIf",e.reason),_.xp6(2),_.Q6J("ngClass",_.VKq(18,co,t))("actions",i.videoBlocklistActions)("entry",e),_.xp6(2),_.Q6J("href",i.getVideoUrl(e),_.LSH)("title",e.video.name),_.xp6(3),_.Q6J("src",e.video.thumbnailPath,_.LSH),_.xp6(3),_.Q6J("ngIf",2===e.type),_.xp6(1),_.hij(" ",e.video.name," "),_.xp6(2),_.AsE("by ",null==e.video.channel?null:e.video.channel.displayName," on ",null==e.video.channel?null:e.video.channel.host," "),_.xp6(2),_.Q6J("ngIf",e.video.nsfw),_.xp6(2),_.Q6J("ngIf",e.unfederated),_.xp6(2),_.hij(" ",_.xi3(22,15,e.createdAt,"short")," ")}}function Eo(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",45),_.TgZ(2,"div",46),_.TgZ(3,"div",47),_.TgZ(4,"span",48),_.SDv(5,49),_.qZA(),_._UZ(6,"span",50),_.qZA(),_.TgZ(7,"div",51),_.TgZ(8,"div",52),_._UZ(9,"div",53),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&n){const e=o.$implicit;_.xp6(6),_.Q6J("innerHTML",e.reasonHtml,_.oJD),_.xp6(3),_.Q6J("innerHTML",e.embedHtml,_.oJD)}}function uo(n,o){1&n&&(_.ynx(0),_.SDv(1,56),_.BQk())}function po(n,o){1&n&&(_.ynx(0),_.SDv(1,57),_.BQk())}function Co(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",54),_.TgZ(2,"div",55),_.YNc(3,uo,2,0,"ng-container",24),_.YNc(4,po,2,0,"ng-container",24),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.search),_.xp6(1),_.Q6J("ngIf",!e.search)}}let So=(()=>{class n extends E.Ad{constructor(e,t,i,r,s,c,u,p,d){super(),this.route=e,this.router=t,this.notifier=i,this.serverService=r,this.confirmService=s,this.videoBlocklistService=c,this.markdownRenderer=u,this.sanitizer=p,this.videoService=d,this.blocklist=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0},this.blocklistTypeFilter=void 0,this.videoBlocklistActions=[],this.inputFilters=[{queryParams:{search:"type:auto"},label:"Automatic blocks"},{queryParams:{search:"type:manual"},label:"Manual blocks"}],this.videoBlocklistActions=[[{label:"Internal actions",isHeader:!0,isDisplayed:N=>2===N.type},{label:"Switch video block to manual",handler:N=>{this.videoBlocklistService.unblockVideo(N.video.id).pipe((0,oe.w)(A=>this.videoBlocklistService.blockVideo(N.video.id,void 0,!0))).subscribe({next:()=>{this.notifier.success("Video \n          " + N.video.name + " switched to manual block.\n        "),this.reloadData()},error:A=>this.notifier.error(A.message)})},isDisplayed:N=>2===N.type}],[{label:"Actions for the video",isHeader:!0},{label:"Unblock",handler:N=>this.unblockVideo(N)},{label:"\u0E25\u0E1A",handler:N=>(0,K.mG)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirm("\u0E04\u0E38\u0E13\u0E41\u0E19\u0E48\u0E43\u0E08\u0E27\u0E48\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E19\u0E35\u0E49\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48","\u0E25\u0E1A"))&&this.videoService.removeVideo(N.video.id).subscribe({next:()=>this.notifier.success("\u0E25\u0E1A\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E41\u0E25\u0E49\u0E27"),error:R=>this.notifier.error(R.message)})})}]]}ngOnInit(){this.serverService.getHTMLConfig().autoBlacklist.videos.ofUsers.enabled&&(this.blocklistTypeFilter=1),this.initialize()}getIdentifier(){return"VideoBlockListComponent"}getVideoUrl(e){return x.nk.buildWatchUrl(e.video)}toHtml(e){return this.markdownRenderer.textMarkdownToHTML(e)}unblockVideo(e){return(0,K.mG)(this,void 0,void 0,function*(){const t="Do you really want to unblock this video? It will be available again in the videos list.";!1!==(yield this.confirmService.confirm(t,"Unblock"))&&this.videoBlocklistService.unblockVideo(e.video.id).subscribe({next:()=>{this.notifier.success("Video \n          " + e.video.name + " unblocked.\n        "),this.reloadData()},error:r=>this.notifier.error(r.message)})})}getVideoEmbed(e){return(0,eo.t3)((0,K_.fj)({url:(0,K_.Ce)(e.video,S_.N.originServerUrl),title:!1,warningTitle:!1}),e.video.name)}reloadData(){this.videoBlocklistService.listBlocks({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe({next:e=>(0,K.mG)(this,void 0,void 0,function*(){this.totalRecords=e.total,this.blocklist=e.data;for(const t of this.blocklist)Object.assign(t,{reasonHtml:yield this.toHtml(t.reason),embedHtml:this.sanitizer.bypassSecurityTrustHtml(this.getVideoEmbed(t))})}),error:e=>this.notifier.error(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(P.gz),_.Y36(P.F0),_.Y36(E.d4),_.Y36(E.NG),_.Y36(E.zM),_.Y36(V.h7),_.Y36(E.Zy),_.Y36(no.H7),_.Y36(x.kI))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-video-block-list"]],features:[_.qOj],decls:11,vars:14,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I;return o="Video blocks",e="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " blocked videos\n        ",t="Video \n          " + "\ufffd#5\ufffd" + "\n          " + "\ufffd/#5\ufffd" + "\n        ",i="\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E2D\u0E48\u0E2D\u0E19",r="Unfederated",s="Date \n          " + "\ufffd#12\ufffd" + "\n          " + "\ufffd/#12\ufffd" + "\n        ",c="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21",u="Actions",p="\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E16\u0E39\u0E01\u0E1A\u0E25\u0E47\u0E2D\u0E01\u0E40\u0E19\u0E37\u0E48\u0E2D\u0E07\u0E08\u0E32\u0E01\u0E01\u0E32\u0E23\u0E1A\u0E25\u0E47\u0E2D\u0E01\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E43\u0E2B\u0E21\u0E48\u0E42\u0E14\u0E22\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34",d="NSFW",N="Unfederated",A="Block reason:",R="No blocked video found matching current filters.",I="No blocked video found.",[["iconName","cross","aria-hidden","true"],o,["dataKey","id",3,"value","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","lazy","lazyLoadOnInit","showCurrentPageReport","expandedRowKeys","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate",e],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto"],[3,"filters","search"],[2,"width","40px"],[2,"width","150px"],["pSortableColumn","name"],t,["field","name"],[2,"width","100px"],i,[2,"width","120px"],r,["pSortableColumn","createdAt",2,"width","150px"],s,["field","createdAt"],[4,"ngIf"],["class","expand-cell c-hand","ngbTooltip",c,"placement","top-left","container","body",3,"pRowToggler",4,"ngIf"],[1,"action-cell"],["placement","bottom-right","container","body","label",u,3,"ngClass","actions","entry"],["target","_blank","rel","noopener noreferrer",1,"table-video-link",3,"href","title"],[1,"table-video"],[1,"table-video-image"],[3,"src"],[1,"table-video-text"],["title",p,"iconName","robot",4,"ngIf"],[1,"text-muted"],["class","badge badge-red",4,"ngIf"],["class","badge badge-blue",4,"ngIf"],["ngbTooltip",c,"placement","top-left","container","body",1,"expand-cell","c-hand",3,"pRowToggler"],[1,"expander"],[3,"ngClass"],["title",p,"iconName","robot"],[1,"badge","badge-red"],d,[1,"badge","badge-blue"],N,["colspan","6",1,"expand-cell"],[1,"d-flex","moderation-expanded"],[1,"col-8"],[1,"col-3","moderation-expanded-label"],A,[1,"col-9","moderation-expanded-text",3,"innerHTML"],[1,"col-4"],[1,"screenratio"],[3,"innerHTML"],["colspan","6"],[1,"no-results"],R,I]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_.qZA(),_.TgZ(4,"p-table",2),_.DtL(5,3),_.NdJ("onLazyLoad",function(r){return t.loadLazy(r)})("onPage",function(r){return t.onPage(r)}),_.YNc(6,to,3,1,"ng-template",4),_.YNc(7,oo,13,0,"ng-template",5),_.YNc(8,go,23,20,"ng-template",6),_.YNc(9,Eo,10,2,"ng-template",7),_.YNc(10,Co,5,2,"ng-template",8),_.qZA()),2&e&&(_.xp6(4),_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(5),_.Q6J("value",t.blocklist)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("lazy",!0)("lazyLoadOnInit",!1)("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows))},directives:[e_.$,f.iA,E_.jx,T_.F,f.lQ,f.fz,C.O5,z_.h,C.mk,J._L,f.jB],pipes:[C.uU],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:end}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56.25%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]     iframe{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.chip[_ngcontent-%COMP%]{--chip-radius: 5rem;--chip-padding: .2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius: .2rem;--chip-padding: .2rem .3rem}@supports (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:-.4rem}}@supports not (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-left:-.4rem}}@supports (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.2rem}}@supports not (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:.2rem}}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;min-width:2rem;min-height:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 .1rem;display:flex;flex-direction:column;height:2rem;justify-content:center}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-comment-link[_ngcontent-%COMP%], .table-account-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-comment-link[_ngcontent-%COMP%]     p:last-child, .table-account-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden;background-color:#ececec;transition:filter .2s ease;height:45px;width:80px;border-radius:2px;border:0;background:transparent;display:inline-flex;justify-content:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:#0000004d}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid rgba(255,255,255,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}@supports (margin-inline-end: .5rem){.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{margin-inline-end:.5rem}}@supports not (margin-inline-end: .5rem){.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{margin-right:.5rem}}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:#000000b3;color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:gray}@supports (margin-inline-start: .1rem){.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-inline-start:.1rem}}@supports not (margin-inline-start: .1rem){.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:.1rem}}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}","my-global-icon[_ngcontent-%COMP%]{width:24px;height:24px}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}"]}),n})();var Oo=g(34261);function To(n,o){if(1&n&&_._UZ(0,"my-action-dropdown",15),2&n){const e=_.oxw(2);_.Q6J("actions",e.bulkCommentActions)("entry",e.selectedComments)}}function No(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",11),_.TgZ(1,"div"),_.YNc(2,To,1,2,"my-action-dropdown",12),_.qZA(),_.TgZ(3,"div",13),_.TgZ(4,"my-advanced-input-filter",14),_.NdJ("search",function(i){return _.CHM(e),_.oxw().onSearch(i)}),_.qZA(),_.qZA(),_.qZA()}if(2&n){const e=_.oxw();_.xp6(2),_.Q6J("ngIf",e.isInSelectionMode()),_.xp6(2),_.Q6J("filters",e.inputFilters)}}function Io(n,o){1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"th",16),_._UZ(2,"p-tableHeaderCheckbox",17),_.qZA(),_._UZ(3,"th",16),_._UZ(4,"th",18),_.TgZ(5,"th",19),_.SDv(6,20),_.qZA(),_.TgZ(7,"th",19),_.SDv(8,21),_.qZA(),_.TgZ(9,"th"),_.SDv(10,22),_.qZA(),_.TgZ(11,"th",23),_.tHW(12,24),_._UZ(13,"p-sortIcon",25),_.N_p(),_.qZA(),_.qZA())}const Ao=function(n){return{show:n}};function Mo(n,o){if(1&n&&(_.TgZ(0,"tr",26),_.TgZ(1,"td",27),_._UZ(2,"p-tableCheckbox",28),_.qZA(),_.TgZ(3,"td",29),_.TgZ(4,"span",30),_._UZ(5,"i",31),_.qZA(),_.qZA(),_.TgZ(6,"td",32),_._UZ(7,"my-action-dropdown",33),_.qZA(),_.TgZ(8,"td"),_.TgZ(9,"a",34),_.TgZ(10,"div",35),_._UZ(11,"my-actor-avatar",36),_.TgZ(12,"div"),_._uU(13),_.TgZ(14,"span"),_._uU(15),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(16,"td",37),_.TgZ(17,"em"),_.SDv(18,38),_.qZA(),_.TgZ(19,"a",39),_._uU(20),_.qZA(),_.qZA(),_.TgZ(21,"td",40),_._UZ(22,"div",41),_.qZA(),_.TgZ(23,"td",42),_._uU(24),_.ALo(25,"date"),_.qZA(),_.qZA()),2&n){const e=o.$implicit,t=o.expanded,i=_.oxw();_.Q6J("pSelectableRow",e),_.xp6(2),_.Q6J("value",e),_.xp6(1),_.Q6J("pRowToggler",e),_.xp6(2),_.Q6J("ngClass",t?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right"),_.xp6(2),_.Q6J("ngClass",_.VKq(20,Ao,t))("actions",i.videoCommentActions)("entry",e),_.xp6(2),_.Q6J("href",e.account.localUrl,_.LSH),_.xp6(2),_.Q6J("account",e.account),_.xp6(2),_.hij(" ",e.account.displayName," "),_.xp6(2),_.Oqu(e.by),_.xp6(4),_.Q6J("href",e.localUrl,_.LSH),_.xp6(1),_.Oqu(e.video.name),_.xp6(1),_.Q6J("pRowToggler",e),_.xp6(1),_.Q6J("innerHTML",e.textHtml,_.oJD),_.xp6(1),_.Q6J("pRowToggler",e),_.xp6(1),_.Oqu(_.xi3(25,17,e.createdAt,"short"))}}function mo(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",43),_._UZ(2,"div",41),_.qZA(),_.qZA()),2&n){const e=o.$implicit;_.xp6(2),_.Q6J("innerHTML",e.textHtml,_.oJD)}}function Ro(n,o){1&n&&(_.ynx(0),_.SDv(1,47),_.BQk())}function Do(n,o){1&n&&(_.ynx(0),_.SDv(1,48),_.BQk())}function fo(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",44),_.TgZ(2,"div",45),_.YNc(3,Ro,2,0,"ng-container",46),_.YNc(4,Do,2,0,"ng-container",46),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.search),_.xp6(1),_.Q6J("ngIf",!e.search)}}const bo=[{path:"moderation",component:_o,children:[{path:"",redirectTo:"abuses/list",pathMatch:"full"},{path:"video-abuses",redirectTo:"abuses/list",pathMatch:"full"},{path:"video-abuses/list",redirectTo:"abuses/list",pathMatch:"full"},{path:"abuses/list",component:$t,canActivate:[E.p3],data:{userRight:6,meta:{title:"Reports"}}},{path:"video-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-auto-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-auto-blacklist/list",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-blacklist",redirectTo:"video-blocks/list",pathMatch:"full"},{path:"video-blocks/list",component:So,canActivate:[E.p3],data:{userRight:12,meta:{title:"Blocked videos"}}},{path:"video-comments",redirectTo:"video-comments/list",pathMatch:"full"},{path:"video-comments/list",component:(()=>{class n extends E.Ad{constructor(e,t,i,r,s,c,u,p){super(),this.router=e,this.route=t,this.auth=i,this.notifier=r,this.confirmService=s,this.videoCommentService=c,this.markdownRenderer=u,this.bulkService=p,this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0},this.videoCommentActions=[],this.syndicationItems=[{format:"xml",label:"media rss 2.0",url:t_.L5.BASE_FEEDS_URL+"xml".toLowerCase()},{format:"atom",label:"atom 1.0",url:t_.L5.BASE_FEEDS_URL+"atom".toLowerCase()},{format:"json",label:"json 1.0",url:t_.L5.BASE_FEEDS_URL+"json".toLowerCase()}],this.selectedComments=[],this.bulkCommentActions=[],this.inputFilters=[{queryParams:{search:"local:true"},label:"Local comments"},{queryParams:{search:"local:false"},label:"Remote comments"}],this.videoCommentActions=[[{label:"\u0E25\u0E1A\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E40\u0E2B\u0E47\u0E19\u0E19\u0E35\u0E49",handler:d=>this.deleteComment(d),isDisplayed:()=>this.authUser.hasRight(16)},{label:"Delete all comments of this account",description:"Comments are deleted after a few minutes",handler:d=>this.deleteUserComments(d),isDisplayed:()=>this.authUser.hasRight(16)}]]}get authUser(){return this.auth.getUser()}ngOnInit(){this.initialize(),this.bulkCommentActions=[{label:"\u0E25\u0E1A",handler:e=>this.removeComments(e),isDisplayed:()=>this.authUser.hasRight(16),iconName:"delete"}]}getIdentifier(){return"VideoCommentListComponent"}toHtml(e){return this.markdownRenderer.textMarkdownToHTML(e,!0,!0)}isInSelectionMode(){return 0!==this.selectedComments.length}reloadData(){this.videoCommentService.getAdminVideoComments({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe({next:e=>(0,K.mG)(this,void 0,void 0,function*(){this.totalRecords=e.total,this.comments=[];for(const t of e.data)this.comments.push(new t_.e4(t,yield this.toHtml(t.text)))}),error:e=>this.notifier.error(e.message)})}removeComments(e){const t=e.map(i=>({videoId:i.video.id,commentId:i.id}));this.videoCommentService.deleteVideoComments(t).subscribe({next:()=>{this.notifier.success("" + t.length + " comments deleted."),this.reloadData()},error:i=>this.notifier.error(i.message),complete:()=>this.selectedComments=[]})}deleteComment(e){this.videoCommentService.deleteVideoComment(e.video.id,e.id).subscribe({next:()=>this.reloadData(),error:t=>this.notifier.error(t.message)})}deleteUserComments(e){return(0,K.mG)(this,void 0,void 0,function*(){const t="Do you really want to delete all comments of " + e.by + "?";if(!1===(yield this.confirmService.confirm(t,"\u0E25\u0E1A")))return;const r={accountName:e.by,scope:"instance"};this.bulkService.removeCommentsOf(r).subscribe({next:()=>{this.notifier.success("Comments of " + r.accountName + " will be deleted in a few minutes")},error:s=>this.notifier.error(s.message)})})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(P.F0),_.Y36(P.gz),_.Y36(E.e8),_.Y36(E.d4),_.Y36(E.zM),_.Y36(t_.L5),_.Y36(E.Zy),_.Y36(V._B))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-video-comment-list"]],features:[_.qOj],decls:14,vars:16,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b;return o="\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E40\u0E2B\u0E47\u0E19\u0E43\u0E19\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D",e="This view also shows comments from muted accounts.",t="Showing " + "\ufffd0\ufffd" + " to " + "\ufffd1\ufffd" + " of " + "\ufffd2\ufffd" + " comments",i="Batch actions",r="Select all rows",s="Account",c="Video",u="\u0E41\u0E2A\u0E14\u0E07\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E40\u0E2B\u0E47\u0E19",p="Date \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",d="Select this row",N="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21",A="Actions",R="Open account in a new tab",I="Commented video",S="No comments found matching current filters.",b="\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E40\u0E2B\u0E47\u0E19",[["iconName","message-circle","aria-hidden","true"],o,[3,"syndicationItems"],e,["dataKey","id",3,"value","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","lazy","lazyLoadOnInit","showCurrentPageReport","expandedRowKeys","selection","onLazyLoad","onPage","selectionChange",6,"currentPageReportTemplate"],["currentPageReportTemplate",t],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"caption"],["label",i,"theme","orange",3,"actions","entry",4,"ngIf"],[1,"ml-auto"],[3,"filters","search"],["label",i,"theme","orange",3,"actions","entry"],[2,"width","40px"],["ariaLabel",r],[2,"width","150px"],[2,"width","300px"],s,c,u,["pSortableColumn","createdAt",2,"width","150px"],p,["field","createdAt"],[3,"pSelectableRow"],[1,"checkbox-cell"],["ariaLabel",d,3,"value"],["ngbTooltip",N,"placement","top-left","container","body",1,"expand-cell","c-hand",3,"pRowToggler"],[1,"expander"],[3,"ngClass"],[1,"action-cell"],["placement","bottom-right","container","body","label",A,3,"ngClass","actions","entry"],["title",R,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"chip","two-lines"],[3,"account"],[1,"video"],I,["target","_blank","rel","noopener noreferrer",3,"href"],[1,"comment-html","c-hand",3,"pRowToggler"],[3,"innerHTML"],[1,"c-hand",3,"pRowToggler"],["colspan","5",1,"expand-cell"],["colspan","7"],[1,"no-results"],[4,"ngIf"],S,b]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_._UZ(4,"my-feed",2),_.qZA(),_.TgZ(5,"em"),_.SDv(6,3),_.qZA(),_.TgZ(7,"p-table",4),_.DtL(8,5),_.NdJ("onLazyLoad",function(r){return t.loadLazy(r)})("onPage",function(r){return t.onPage(r)})("selectionChange",function(r){return t.selectedComments=r}),_.YNc(9,No,5,2,"ng-template",6),_.YNc(10,Io,14,0,"ng-template",7),_.YNc(11,Mo,26,22,"ng-template",8),_.YNc(12,mo,3,1,"ng-template",9),_.YNc(13,fo,5,2,"ng-template",10),_.qZA()),2&e&&(_.xp6(4),_.Q6J("syndicationItems",t.syndicationItems),_.xp6(3),_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(8),_.Q6J("value",t.comments)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("lazy",!0)("lazyLoadOnInit",!1)("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows)("selection",t.selectedComments))},directives:[e_.$,Oo.e,f.iA,E_.jx,C.O5,T_.F,z_.h,f.Mo,f.lQ,f.fz,f.Ei,f.UA,J._L,f.jB,C.mk,q_.b],pipes:[C.uU],styles:[".moderation-expanded[_ngcontent-%COMP%]{font-size:90%}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-label[_ngcontent-%COMP%]{font-weight:600;display:inline-block;vertical-align:top;text-align:end}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]{display:inline-flex;word-wrap:break-word}.moderation-expanded[_ngcontent-%COMP%]   .moderation-expanded-text[_ngcontent-%COMP%]     p:last-child{margin-bottom:0!important}.screenratio[_ngcontent-%COMP%]{position:relative;height:0;width:100%;padding-top:56.25%}.screenratio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .screenratio[_ngcontent-%COMP%]     iframe{position:absolute;width:100%;height:100%;top:0;width:100%!important;height:100%!important;left:0}.chip[_ngcontent-%COMP%]{--chip-radius: 5rem;--chip-padding: .2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius: .2rem;--chip-padding: .2rem .3rem}@supports (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:-.4rem}}@supports not (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-left:-.4rem}}@supports (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.2rem}}@supports not (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:.2rem}}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;min-width:2rem;min-height:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 .1rem;display:flex;flex-direction:column;height:2rem;justify-content:center}my-action-dropdown.show[_ngcontent-%COMP%]     .dropdown-root{display:block!important}.table-video-link[_ngcontent-%COMP%]{position:relative;top:3px}.table-video-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-comment-link[_ngcontent-%COMP%], .table-account-link[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-comment-link[_ngcontent-%COMP%]:focus:not(.focus-visible), .table-account-link[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-comment-link[_ngcontent-%COMP%]     p:last-child, .table-account-link[_ngcontent-%COMP%]     p:last-child{margin:0}.table-account-link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-video[_ngcontent-%COMP%]{display:inline-flex}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden;background-color:#ececec;transition:filter .2s ease;height:45px;width:80px;border-radius:2px;border:0;background:transparent;display:inline-flex;justify-content:center;position:relative}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:#0000004d}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid rgba(255,255,255,.95)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover{text-decoration:none!important}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.table-video[_ngcontent-%COMP%]   .table-video-image.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest);outline:none}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px);transform:scale(1.03)}@supports (margin-inline-end: .5rem){.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{margin-inline-end:.5rem}}@supports not (margin-inline-end: .5rem){.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]{margin-right:.5rem}}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--inputPlaceholderColor)}.table-video[_ngcontent-%COMP%]   .table-video-image[_ngcontent-%COMP%]   .table-video-image-label[_ngcontent-%COMP%]{display:inline-block;background-color:#000000b3;color:#fff;position:absolute;border-radius:3px;font-size:10px;padding:0 3px;line-height:1.3;bottom:2px;right:2px}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:center;font-size:90%;color:var(--mainForegroundColor);line-height:1rem}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:gray}@supports (margin-inline-start: .1rem){.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-inline-start:.1rem}}@supports not (margin-inline-start: .1rem){.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:.1rem}}.table-video[_ngcontent-%COMP%]   .table-video-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{color:var(--greyForegroundColor);font-size:11px}","my-feed[_ngcontent-%COMP%]{display:inline-block;width:15px}@supports (margin-inline-start: 5px){my-feed[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){my-feed[_ngcontent-%COMP%]{margin-left:5px}}my-global-icon[_ngcontent-%COMP%]{width:24px;height:24px}.video[_ngcontent-%COMP%]{display:flex;flex-direction:column}.video[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:11px}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:pvar(--mainForegroundColor)}.comment-html[_ngcontent-%COMP%]    >div{max-height:22px}.comment-html[_ngcontent-%COMP%]     div, .comment-html[_ngcontent-%COMP%]     p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.comment-html[_ngcontent-%COMP%]     p{margin:0}"]}),n})(),canActivate:[E.p3],data:{userRight:21,meta:{title:"\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E40\u0E2B\u0E47\u0E19\u0E43\u0E19\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D"}}},{path:"blocklist/accounts",component:qt,canActivate:[E.p3],data:{userRight:10,meta:{title:"Muted accounts"}}},{path:"blocklist/servers",component:jt,canActivate:[E.p3],data:{userRight:11,meta:{title:"Muted instances"}}}]}];var X_=g(64033),ie=g(38392);class U{constructor(o,e,t,i){this.authHttp=o,this.restExtractor=e,this.restService=t,this.pluginService=i}getPluginTypeOptions(){return[{label:"Plugins",value:z.zV.PLUGIN},{label:"Themes",value:z.zV.THEME}]}getPluginTypeLabel(o){return o===z.zV.PLUGIN?"plugin":"theme"}getPlugins(o,e,t){const i=this.restService.componentPaginationToRestPagination(e);let r=new d_.LE;return r=this.restService.addRestGetParams(r,i,t),r=r.append("pluginType",o.toString()),this.authHttp.get(U.BASE_PLUGIN_URL,{params:r}).pipe((0,__.K)(s=>this.restExtractor.handleError(s)))}searchAvailablePlugins(o,e,t,i){const r=this.restService.componentPaginationToRestPagination(e);let s=new d_.LE;return s=this.restService.addRestGetParams(s,r,t),s=s.append("pluginType",o.toString()),i&&(s=s.append("search",i)),this.authHttp.get(U.BASE_PLUGIN_URL+"/available",{params:s}).pipe((0,__.K)(c=>this.restExtractor.handleError(c)))}getPlugin(o){return this.authHttp.get(U.BASE_PLUGIN_URL+"/"+o).pipe((0,__.K)(t=>this.restExtractor.handleError(t)))}getPluginRegisteredSettings(o,e){const t=this.pluginService.nameToNpmName(o,e);return this.authHttp.get(U.BASE_PLUGIN_URL+"/"+t+"/registered-settings").pipe((0,__.K)(r=>this.restExtractor.handleError(r)))}updatePluginSettings(o,e,t){const i=this.pluginService.nameToNpmName(o,e);return this.authHttp.put(U.BASE_PLUGIN_URL+"/"+i+"/settings",{settings:t}).pipe((0,__.K)(s=>this.restExtractor.handleError(s)))}uninstall(o,e){const t={npmName:this.pluginService.nameToNpmName(o,e)};return this.authHttp.post(U.BASE_PLUGIN_URL+"/uninstall",t).pipe((0,__.K)(i=>this.restExtractor.handleError(i)))}update(o,e){const t={npmName:this.pluginService.nameToNpmName(o,e)};return this.authHttp.post(U.BASE_PLUGIN_URL+"/update",t).pipe((0,__.K)(i=>this.restExtractor.handleError(i)))}install(o){return this.authHttp.post(U.BASE_PLUGIN_URL+"/install",{npmName:o}).pipe((0,__.K)(t=>this.restExtractor.handleError(t)))}getPluginOrThemeHref(o,e){return`https://www.npmjs.com/package/peertube-${o===z.zV.PLUGIN?"plugin":"theme"}-${e}`}}U.BASE_PLUGIN_URL=S_.N.apiUrl+"/api/v1/plugins",U.\u0275fac=function(o){return new(o||U)(_.LFG(d_.eN),_.LFG(E.DI),_.LFG(E.vg),_.LFG(ie.H))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac});var re=g(66717),L_=g(38078),ae=g(49705),P_=g(64990);function ho(n,o){if(1&n&&(_.TgZ(0,"div",5),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.getNoResultMessage(),"\n")}}function Lo(n,o){if(1&n&&_._UZ(0,"my-edit-button",21),2&n){const e=_.oxw().$implicit,t=_.oxw();_.Q6J("routerLink",t.getShowRouterLink(e))("responsiveLabel",!0)}}function Fo(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"my-button",22),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().update(i)}),_.qZA()}if(2&n){const e=_.oxw().$implicit,t=_.oxw();_.Q6J("loading",t.isUpdating(e))("label",t.getUpdateLabel(e))("responsiveLabel",!0),_.uIk("disabled",t.isUpdating(e))}}function xo(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",6),_.TgZ(1,"div",7),_.TgZ(2,"div",8),_.TgZ(3,"span",9),_._uU(4),_.qZA(),_.TgZ(5,"span",10),_._uU(6),_.qZA(),_.TgZ(7,"a",11),_._UZ(8,"my-global-icon",12),_.qZA(),_.TgZ(9,"a",13),_._UZ(10,"my-global-icon",14),_.qZA(),_.TgZ(11,"div",15),_.YNc(12,Lo,1,2,"my-edit-button",16),_.YNc(13,Fo,1,4,"my-button",17),_.TgZ(14,"my-delete-button",18),_.NdJ("click",function(){const r=_.CHM(e).$implicit;return _.oxw().uninstall(r)}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(15,"div",19),_.TgZ(16,"div",20),_._uU(17),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&n){const e=o.$implicit,t=_.oxw();_.xp6(4),_.Oqu(e.name),_.xp6(2),_.Oqu(e.version),_.xp6(1),_.Q6J("href",e.homepage,_.LSH),_.xp6(2),_.Q6J("href",t.getPluginOrThemeHref(e.name),_.LSH),_.xp6(3),_.Q6J("ngIf",!t.isTheme(e)),_.xp6(1),_.Q6J("ngIf",t.isUpdateAvailable(e)),_.xp6(1),_.Q6J("responsiveLabel",!0),_.xp6(3),_.Oqu(e.description)}}let vo=(()=>{class n{constructor(e,t,i,r,s,c){this.pluginService=e,this.pluginApiService=t,this.notifier=i,this.confirmService=r,this.router=s,this.route=c,this.pluginTypeOptions=[],this.pluginType=z.zV.PLUGIN,this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.sort="name",this.plugins=[],this.updating={},this.onDataSubject=new X_.x,this.pluginTypeOptions=this.pluginApiService.getPluginTypeOptions()}ngOnInit(){const e=this.route.snapshot.queryParams;e.pluginType&&(this.pluginType=parseInt(e.pluginType,10)),this.reloadPlugins()}reloadPlugins(){this.pagination.currentPage=1,this.plugins=[],this.router.navigate([],{queryParams:{pluginType:this.pluginType}}),this.loadMorePlugins()}loadMorePlugins(){this.pluginApiService.getPlugins(this.pluginType,this.pagination,this.sort).subscribe({next:e=>{this.plugins=this.plugins.concat(e.data),this.pagination.totalItems=e.total,this.onDataSubject.next(e.data)},error:e=>this.notifier.error(e.message)})}onNearOfBottom(){!(0,E._T)(this.pagination)||(this.pagination.currentPage+=1,this.loadMorePlugins())}getNoResultMessage(){return this.pluginType===z.zV.PLUGIN?"\u0E04\u0E38\u0E13\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E1B\u0E25\u0E31\u0E4A\u0E01\u0E2D\u0E34\u0E19":"\u0E04\u0E38\u0E13\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E18\u0E35\u0E21"}isUpdateAvailable(e){return e.latestVersion&&(0,K_._)(e.latestVersion,e.version)>0}getUpdateLabel(e){return "\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15\u0E40\u0E1B\u0E47\u0E19 \n          " + e.latestVersion + "\n        "}isUpdating(e){return!!this.updating[this.getUpdatingKey(e)]}isTheme(e){return e.type===z.zV.THEME}uninstall(e){return(0,K.mG)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirm("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E16\u0E2D\u0E19\u0E01\u0E32\u0E23\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07 \n          " + e.name + " \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48\n        ","Uninstall"))&&this.pluginApiService.uninstall(e.name,e.type).subscribe({next:()=>{this.notifier.success("\u0E16\u0E2D\u0E19\u0E01\u0E32\u0E23\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07 \n          " + e.name + " \u0E41\u0E25\u0E49\u0E27\n        "),this.plugins=this.plugins.filter(i=>i.name!==e.name),this.pagination.totalItems--},error:i=>this.notifier.error(i.message)})})}update(e){return(0,K.mG)(this,void 0,void 0,function*(){const t=this.getUpdatingKey(e);this.updating[t]||this.isMajorUpgrade(e)&&!1===(yield this.confirmService.confirm("This is a major plugin upgrade. Please go on the plugin homepage to check potential release notes.","Upgrade","Proceed upgrade"))||(this.updating[t]=!0,this.pluginApiService.update(e.name,e.type).pipe().subscribe({next:i=>{this.updating[t]=!1,this.notifier.success("\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15 \n          " + e.name + " \u0E41\u0E25\u0E49\u0E27\n        "),Object.assign(e,i)},error:i=>this.notifier.error(i.message)}))})}getShowRouterLink(e){return["/admin","plugins","show",this.pluginService.nameToNpmName(e.name,e.type)]}getPluginOrThemeHref(e){return this.pluginApiService.getPluginOrThemeHref(this.pluginType,e)}getUpdatingKey(e){return e.name+e.type}isMajorUpgrade(e){return!!e.latestVersion&&e.latestVersion.split(".")[0]>e.version.split(".")[0]}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(ie.H),_.Y36(U),_.Y36(E.d4),_.Y36(E.zM),_.Y36(P.F0),_.Y36(P.gz))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-plugin-list-installed"]],decls:5,vars:5,consts:function(){let o,e,t,i;return o="Plugin homepage (new window)",e="Plugin homepage (new window)",t="\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32",i="Uninstall",[[1,"toggle-plugin-type"],[3,"options","ngModel","ngModelChange"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"plugins",3,"dataObservable","nearOfBottom"],["class","card plugin",4,"ngFor","ngForOf"],[1,"no-results"],[1,"card","plugin"],[1,"card-body"],[1,"first-row"],[1,"plugin-name"],[1,"plugin-version"],["target","_blank","rel","noopener noreferrer","title",o,1,"plugin-icon",3,"href"],["iconName","home"],["target","_blank","rel","noopener noreferrer","title",e,1,"plugin-icon",3,"href"],["iconName","npm"],[1,"buttons"],["label",t,3,"routerLink","responsiveLabel",4,"ngIf"],["class","update-button","icon","refresh",3,"loading","label","responsiveLabel","click",4,"ngIf"],["label",i,3,"responsiveLabel","click"],[1,"second-row"],[1,"description"],["label",t,3,"routerLink","responsiveLabel"],["icon","refresh",1,"update-button",3,"loading","label","responsiveLabel","click"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"p-selectButton",1),_.NdJ("ngModelChange",function(r){return t.pluginType=r})("ngModelChange",function(){return t.reloadPlugins()}),_.qZA(),_.qZA(),_.YNc(2,ho,2,1,"div",2),_.TgZ(3,"div",3),_.NdJ("nearOfBottom",function(){return t.onNearOfBottom()}),_.YNc(4,xo,18,8,"div",4),_.qZA()),2&e&&(_.xp6(1),_.Q6J("options",t.pluginTypeOptions)("ngModel",t.pluginType),_.xp6(1),_.Q6J("ngIf",0===t.pagination.totalItems),_.xp6(1),_.Q6J("dataObservable",t.onDataSubject.asObservable()),_.xp6(1),_.Q6J("ngForOf",t.plugins))},directives:[Y.UN,a.JJ,a.On,C.O5,re.A,C.sg,e_.$,L_.t,ae.M,P.rH,P_.r],styles:[".toggle-plugin-type[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}",".plugin[_ngcontent-%COMP%]{margin:15px 0;background-color:var(--submenuBackgroundColor)}.first-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600}@supports (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{margin-right:10px}}.first-row[_ngcontent-%COMP%]   .plugin-version[_ngcontent-%COMP%]{opacity:.6}@supports (margin-inline-start: 10px){.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-left:10px}}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[iconName=npm][_ngcontent-%COMP%]     svg path{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content}@supports (margin-inline-start: auto){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-left:auto}}@supports (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}}.second-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;justify-content:space-between}.second-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{opacity:.8}.action-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.action-button[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:focus, .action-button[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.action-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.action-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.action-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.action-button[_ngcontent-%COMP%]{padding-right:17px}}.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;top:-2px}@supports (margin-inline-end: 0){.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:0}}@supports not (margin-inline-end: 0){.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:0}}@media screen and (max-width: 800px){.first-row[_ngcontent-%COMP%]{flex-wrap:wrap}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{flex-basis:100%;margin-top:10px}}",".update-button[disabled=true][_ngcontent-%COMP%]     .action-button{cursor:default!important}"]}),n})();var Vo=g(91531),yo=g(34920),Uo=g(32724);function $o(n,o){1&n&&(_.TgZ(0,"div",9),_.SDv(1,10),_.qZA())}function Go(n,o){1&n&&(_.ynx(0),_._UZ(1,"my-global-icon",13),_.ynx(2),_.SDv(3,14),_.BQk(),_.BQk())}function Zo(n,o){if(1&n&&(_.ynx(0),_._UZ(1,"my-global-icon",15),_.ynx(2),_.SDv(3,16),_.BQk(),_.BQk()),2&n){const e=_.oxw(2);_.xp6(3),_.pQV(e.pagination.totalItems)(e.pagination.totalItems)(e.search),_.QtT(3)}}function wo(n,o){if(1&n&&(_.TgZ(0,"div",11),_.YNc(1,Go,4,0,"ng-container",12),_.YNc(2,Zo,4,3,"ng-container",12),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Q6J("ngIf",!e.search),_.xp6(1),_.Q6J("ngIf",!!e.search)}}function Bo(n,o){1&n&&(_.TgZ(0,"div",17),_.SDv(1,18),_.qZA())}function ko(n,o){1&n&&(_.TgZ(0,"span",34),_._uU(1,"Installed"),_.qZA())}function Yo(n,o){if(1&n&&_._UZ(0,"my-edit-button",35),2&n){const e=_.oxw().$implicit,t=_.oxw();_.Q6J("routerLink",t.getShowRouterLink(e))("responsiveLabel",!0)}}function qo(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"my-button",36),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().install(i)}),_.qZA()}if(2&n){const e=_.oxw().$implicit,t=_.oxw();_.Q6J("loading",t.isInstalling(e))("responsiveLabel",!0),_.uIk("disabled",t.isInstalling(e))}}function Ko(n,o){if(1&n&&(_.TgZ(0,"div",19),_.TgZ(1,"div",20),_.TgZ(2,"div",21),_.TgZ(3,"span",22),_._uU(4),_.qZA(),_.TgZ(5,"span",23),_._uU(6),_.qZA(),_.TgZ(7,"a",24),_._UZ(8,"my-global-icon",25),_.qZA(),_.TgZ(9,"a",26),_._UZ(10,"my-global-icon",27),_.qZA(),_.YNc(11,ko,2,0,"span",28),_.TgZ(12,"div",29),_.YNc(13,Yo,1,2,"my-edit-button",30),_.YNc(14,qo,1,3,"my-button",31),_.qZA(),_.qZA(),_.TgZ(15,"div",32),_.TgZ(16,"div",33),_._uU(17),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&n){const e=o.$implicit,t=_.oxw();_.xp6(4),_.Oqu(e.name),_.xp6(2),_.Oqu(e.latestVersion),_.xp6(1),_.Q6J("href",e.homepage,_.LSH),_.xp6(2),_.Q6J("href",t.getPluginOrThemeHref(e.name),_.LSH),_.xp6(2),_.Q6J("ngIf",e.installed),_.xp6(2),_.Q6J("ngIf",!0===e.installed&&!t.isThemeSearch()),_.xp6(1),_.Q6J("ngIf",!1===e.installed),_.xp6(3),_.Oqu(e.description)}}let zo=(()=>{class n{constructor(e,t,i,r,s,c){this.pluginService=e,this.pluginApiService=t,this.notifier=i,this.confirmService=r,this.router=s,this.route=c,this.pluginTypeOptions=[],this.pluginType=z.zV.PLUGIN,this.pagination={currentPage:1,itemsPerPage:10,totalItems:null},this.sort="-popularity",this.search="",this.isSearching=!1,this.plugins=[],this.installing={},this.pluginInstalled=!1,this.onDataSubject=new X_.x,this.searchSubject=new X_.x,this.pluginTypeOptions=this.pluginApiService.getPluginTypeOptions()}ngOnInit(){const e=this.route.snapshot.queryParams;e.pluginType&&(this.pluginType=parseInt(e.pluginType,10)),this.searchSubject.asObservable().pipe((0,Vo.b)(400),(0,yo.x)()).subscribe(t=>{this.search=t,this.reloadPlugins()}),this.reloadPlugins()}onSearchChange(e){this.searchSubject.next(e.target.value)}reloadPlugins(){this.pagination.currentPage=1,this.plugins=[],this.router.navigate([],{queryParams:{pluginType:this.pluginType}}),this.loadMorePlugins()}loadMorePlugins(){this.isSearching=!0,this.pluginApiService.searchAvailablePlugins(this.pluginType,this.pagination,this.sort,this.search).subscribe({next:e=>{this.isSearching=!1,this.plugins=this.plugins.concat(e.data),this.pagination.totalItems=e.total,this.onDataSubject.next(e.data)},error:e=>{console.error(e);const t="The plugin index is not available. Please retry later.";this.notifier.error(t)}})}onNearOfBottom(){!(0,E._T)(this.pagination)||(this.pagination.currentPage+=1,this.loadMorePlugins())}isInstalling(e){return!!this.installing[e.npmName]}getPluginOrThemeHref(e){return this.pluginApiService.getPluginOrThemeHref(this.pluginType,e)}getShowRouterLink(e){return["/admin","plugins","show",this.pluginService.nameToNpmName(e.name,this.pluginType)]}isThemeSearch(){return this.pluginType===z.zV.THEME}install(e){return(0,K.mG)(this,void 0,void 0,function*(){this.installing[e.npmName]||!1===(yield this.confirmService.confirm("Please only install plugins or themes you trust, since they can execute any code on your instance.","Install \n          " + e.name + "?\n        "))||(this.installing[e.npmName]=!0,this.pluginApiService.install(e.npmName).subscribe({next:()=>{this.installing[e.npmName]=!1,this.pluginInstalled=!0,this.notifier.success("\n          " + e.name + " installed.\n        "),e.installed=!0},error:i=>this.notifier.error(i.message)}))})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.H0),_.Y36(U),_.Y36(E.d4),_.Y36(E.zM),_.Y36(P.F0),_.Y36(P.gz))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-plugin-search"]],decls:9,vars:7,consts:function(){let o,e,t,i,r,s,c,u,p;return o="\u0E04\u0E49\u0E19\u0E2B\u0E32...",e="\n  To load your new installed plugins or themes, refresh the page.\n",t="\u0E40\u0E1B\u0E47\u0E19\u0E17\u0E35\u0E48\u0E19\u0E34\u0E22\u0E21",i="{VAR_PLURAL, plural, =1 {\u0E1C\u0E25\u0E25\u0E31\u0E1E\u0E18\u0E4C} other {\u0E1C\u0E25\u0E25\u0E31\u0E1E\u0E18\u0E4C}}",i=_.Zx4(i,{VAR_PLURAL:"\ufffd1\ufffd"}),r=" " + "\ufffd0\ufffd" + " " + i + " for \"" + "\ufffd2\ufffd" + "\" ",s="\u0E44\u0E21\u0E48\u0E21\u0E35\u0E1C\u0E25\u0E25\u0E31\u0E1E\u0E18\u0E4C",c="Plugin homepage (new window)",u="Plugin npm package (new window)",p="\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32",[[1,"toggle-plugin-type"],[3,"options","ngModel","ngModelChange"],[1,"search-bar"],["type","text","placeholder",o,"myAutofocus","",3,"input"],["class","alert alert-info",4,"ngIf"],["class","result-title",4,"ngIf"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"plugins",3,"dataObservable","nearOfBottom"],["class","card plugin",4,"ngFor","ngForOf"],[1,"alert","alert-info"],e,[1,"result-title"],[4,"ngIf"],["iconName","trending","aria-hidden","true"],t,["iconName","search"],r,[1,"no-results"],s,[1,"card","plugin"],[1,"card-body"],[1,"first-row"],[1,"plugin-name"],[1,"plugin-version"],["target","_blank","rel","noopener noreferrer","title",c,1,"plugin-icon",3,"href"],["iconName","home"],["target","_blank","rel","noopener noreferrer","title",u,1,"plugin-icon",3,"href"],["iconName","npm"],["class","badge badge-success",4,"ngIf"],[1,"buttons"],["label",p,3,"routerLink","responsiveLabel",4,"ngIf"],["class","update-button","label","Install","icon","cloud-download",3,"loading","responsiveLabel","click",4,"ngIf"],[1,"second-row"],[1,"description"],[1,"badge","badge-success"],["label",p,3,"routerLink","responsiveLabel"],["label","Install","icon","cloud-download",1,"update-button",3,"loading","responsiveLabel","click"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"p-selectButton",1),_.NdJ("ngModelChange",function(r){return t.pluginType=r})("ngModelChange",function(){return t.reloadPlugins()}),_.qZA(),_.qZA(),_.TgZ(2,"div",2),_.TgZ(3,"input",3),_.NdJ("input",function(r){return t.onSearchChange(r)}),_.qZA(),_.qZA(),_.YNc(4,$o,2,0,"div",4),_.YNc(5,wo,3,2,"div",5),_.YNc(6,Bo,2,0,"div",6),_.TgZ(7,"div",7),_.NdJ("nearOfBottom",function(){return t.onNearOfBottom()}),_.YNc(8,Ko,18,8,"div",8),_.qZA()),2&e&&(_.xp6(1),_.Q6J("options",t.pluginTypeOptions)("ngModel",t.pluginType),_.xp6(3),_.Q6J("ngIf",t.pluginInstalled),_.xp6(1),_.Q6J("ngIf",!t.isSearching),_.xp6(1),_.Q6J("ngIf",0===t.pagination.totalItems),_.xp6(1),_.Q6J("dataObservable",t.onDataSubject.asObservable()),_.xp6(1),_.Q6J("ngForOf",t.plugins))},directives:[Y.UN,a.JJ,a.On,Uo.U,C.O5,re.A,C.sg,e_.$,ae.M,P.rH,P_.r],styles:[".toggle-plugin-type[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}",".plugin[_ngcontent-%COMP%]{margin:15px 0;background-color:var(--submenuBackgroundColor)}.first-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600}@supports (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .plugin-name[_ngcontent-%COMP%]{margin-right:10px}}.first-row[_ngcontent-%COMP%]   .plugin-version[_ngcontent-%COMP%]{opacity:.6}@supports (margin-inline-start: 10px){.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]{margin-left:10px}}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .plugin-icon[_ngcontent-%COMP%]   my-global-icon[iconName=npm][_ngcontent-%COMP%]     svg path{fill:var(--greyForegroundColor)}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content}@supports (margin-inline-start: auto){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-inline-start:auto}}@supports not (margin-inline-start: auto){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-left:auto}}@supports (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}}.second-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;justify-content:space-between}.second-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{opacity:.8}.action-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.action-button[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:focus, .action-button[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.action-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.action-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.action-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.action-button[_ngcontent-%COMP%]{padding-right:17px}}.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:21px;top:-2px}@supports (margin-inline-end: 0){.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:0}}@supports not (margin-inline-end: 0){.action-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:0}}@media screen and (max-width: 800px){.first-row[_ngcontent-%COMP%]{flex-wrap:wrap}.first-row[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{flex-basis:100%;margin-top:10px}}",".search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px 0}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:60%;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;height:35px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}.search-bar[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(60% + 40px)){.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.result-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin-bottom:15px}@supports (margin-inline-end: 5px){.result-title[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.result-title[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}.badge[_ngcontent-%COMP%]{font-size:13px;font-weight:600}@supports (margin-inline-start: 15px){.badge[_ngcontent-%COMP%]{margin-inline-start:15px}}@supports not (margin-inline-start: 15px){.badge[_ngcontent-%COMP%]{margin-left:15px}}"]}),n})();var b_=g(29230),Xo=g(60467);function Qo(n,o){if(1&n&&(_.TgZ(0,"div",6),_._UZ(1,"my-dynamic-form-field",7),_.qZA()),2&n){const e=o.$implicit,t=_.oxw(3);_.Q6J("id",t.getWrapperId(e)),_.xp6(1),_.Q6J("hidden",t.isSettingHidden(e))("form",t.form)("setting",e)("formErrors",t.formErrors)}}function Jo(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"form",3),_.NdJ("ngSubmit",function(){return _.CHM(e),_.oxw(2).formValidated()}),_.YNc(1,Qo,2,5,"div",4),_._UZ(2,"input",5),_.qZA()}if(2&n){const e=_.oxw(2);_.Q6J("formGroup",e.form),_.xp6(1),_.Q6J("ngForOf",e.registeredSettings),_.xp6(1),_.Q6J("disabled",!e.form.valid)}}function Wo(n,o){if(1&n&&(_.TgZ(0,"div",8),_.SDv(1,9),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.pQV(e.pluginTypeLabel),_.QtT(1)}}function Ho(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"h2"),_.ynx(2),_._uU(3),_.BQk(),_._uU(4),_.qZA(),_.YNc(5,Jo,3,3,"form",1),_.YNc(6,Wo,2,1,"div",2),_.BQk()),2&n){const e=_.oxw();_.xp6(3),_.Oqu(e.pluginTypeLabel),_.xp6(1),_.hij(" ",e.plugin.name," "),_.xp6(1),_.Q6J("ngIf",e.hasRegisteredSettings()),_.xp6(1),_.Q6J("ngIf",!e.hasRegisteredSettings())}}let jo=(()=>{class n extends v.OI{constructor(e,t,i,r,s,c){super(),this.formValidatorService=e,this.pluginService=t,this.pluginAPIService=i,this.notifier=r,this.hooks=s,this.route=c,this.registeredSettings=[]}ngOnInit(){this.sub=this.route.params.subscribe(e=>{this.npmName=e.npmName,this.loadPlugin(this.npmName)})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}formValidated(){this.pluginAPIService.updatePluginSettings(this.plugin.name,this.plugin.type,this.form.value).subscribe({next:()=>{this.notifier.success("\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E15\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32\u0E41\u0E25\u0E49\u0E27")},error:t=>this.notifier.error(t.message)})}hasRegisteredSettings(){return Array.isArray(this.registeredSettings)&&0!==this.registeredSettings.length}isSettingHidden(e){const t=this.pluginService.getRegisteredSettingsScript(this.npmName);return!!(null==t?void 0:t.isSettingHidden)&&t.isSettingHidden({setting:e,formValues:this.form.value})}getWrapperId(e){if(e.name)return e.name+"-wrapper"}loadPlugin(e){this.pluginAPIService.getPlugin(e).pipe((0,oe.w)(t=>this.pluginAPIService.getPluginRegisteredSettings(t.name,t.type).pipe((0,b_.U)(i=>({plugin:t,registeredSettings:i.registeredSettings}))))).subscribe({next:({plugin:t,registeredSettings:i})=>(0,K.mG)(this,void 0,void 0,function*(){this.plugin=t,this.registeredSettings=yield this.translateSettings(i),this.pluginTypeLabel=this.pluginAPIService.getPluginTypeLabel(this.plugin.type),this.buildSettingsForm()}),error:t=>this.notifier.error(t.message)})}buildSettingsForm(){const e={},t={};for(const i of this.registeredSettings)e[i.name]=null,t[i.name]=this.getSetting(i.name);this.buildForm(e),this.form.patchValue(t),setTimeout(()=>this.hooks.runAction("action:admin-plugin-settings.init","admin-plugin",{npmName:this.npmName}))}getSetting(e){const t=this.plugin.settings;return void 0!==(null==t?void 0:t[e])?t[e]:this.registeredSettings.find(r=>r.name===e).default}translateSettings(e){return(0,K.mG)(this,void 0,void 0,function*(){for(const t of e){for(const i of["label","html","descriptionHTML"])t[i]&&(t[i]=yield this.pluginService.translateBy(this.npmName,t[i]));if(Array.isArray(t.options)){const i=[];for(const r of t.options)i.push({value:r.value,label:yield this.pluginService.translateBy(this.npmName,r.label)});t.options=i}}return e})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(v.Q4),_.Y36(E.H0),_.Y36(U),_.Y36(E.d4),_.Y36(E.nT),_.Y36(P.gz))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-plugin-show-installed"]],features:[_.qOj],decls:1,vars:1,consts:function(){let o;return o="\n    This \n          " + "\ufffd0\ufffd" + " does not have settings.\n  \n        ",[[4,"ngIf"],["role","form",3,"formGroup","ngSubmit",4,"ngIf"],["class","no-settings",4,"ngIf"],["role","form",3,"formGroup","ngSubmit"],["class","form-group",3,"id",4,"ngFor","ngForOf"],["type","submit","value","Update plugin settings",3,"disabled"],[1,"form-group",3,"id"],[3,"hidden","form","setting","formErrors"],[1,"no-settings"],o]},template:function(e,t){1&e&&_.YNc(0,Ho,7,4,"ng-container",0),2&e&&_.Q6J("ngIf",t.plugin)},directives:[C.O5,a._Y,a.JL,a.sg,C.sg,Xo.q],styles:["h2[_ngcontent-%COMP%]{margin-bottom:20px}input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;margin-top:10px}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}"]}),n})();const _i=[{path:"plugins",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:7,vars:0,consts:function(){let o,e;return o="Installed",e="\u0E04\u0E49\u0E19\u0E2B\u0E32",[[1,"admin-sub-header"],[1,"admin-sub-nav"],["routerLink","list-installed","routerLinkActive","active"],o,["routerLink","search","routerLinkActive","active"],e]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"a",2),_.SDv(3,3),_.qZA(),_.TgZ(4,"a",4),_.SDv(5,5),_.qZA(),_.qZA(),_.qZA(),_._UZ(6,"router-outlet"))},directives:[P.yS,P.Od,P.lC],encapsulation:2}),n})(),canActivate:[E.p3],data:{userRight:23},children:[{path:"",redirectTo:"list-installed",pathMatch:"full"},{path:"list-installed",component:vo,data:{meta:{title:"List installed plugins"}}},{path:"search",component:zo,data:{meta:{title:"Search plugins"}}},{path:"show/:npmName",component:jo,data:{meta:{title:"Show plugin"}}}]}];class c_{constructor(o,e){this.authHttp=o,this.restExtractor=e}getDebug(){return this.authHttp.get(c_.BASE_DEBUG_URL).pipe((0,__.K)(o=>this.restExtractor.handleError(o)))}}c_.BASE_DEBUG_URL=S_.N.apiUrl+"/api/v1/server/debug",c_.\u0275fac=function(o){return new(o||c_)(_.LFG(d_.eN),_.LFG(E.DI))},c_.\u0275prov=_.Yz7({token:c_,factory:c_.\u0275fac});let ei=(()=>{class n{constructor(e,t){this.debugService=e,this.notifier=t}ngOnInit(){this.load()}load(){this.debugService.getDebug().subscribe({next:e=>this.debug=e,error:e=>this.notifier.error(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(c_),_.Y36(E.d4))},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:27,vars:1,consts:function(){let o,e,t,i,r,s,c,u,p;return o="IP address",e="PeerTube thinks your web browser public IP is " + "\ufffd#5\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#5\ufffd" + ".",t="If this is not your correct public IP, please consider fixing it because:",i="Views may not be counted correctly (reduced compared to what they should be)",r="Anti brute force system could be overzealous",s="P2P system could not work correctly",c="To fix it:",u="Check the " + "\ufffd#21\ufffd" + "trust_proxy" + "\ufffd/#21\ufffd" + " configuration key",p="If you run PeerTube using Docker, check you run the " + "[\ufffd#24\ufffd|\ufffd#25\ufffd]" + "reverse-proxy" + "[\ufffd/#24\ufffd|\ufffd/#25\ufffd]" + " with " + "[\ufffd#24\ufffd|\ufffd#25\ufffd]" + "network_mode: \"host\"" + "[\ufffd/#24\ufffd|\ufffd/#25\ufffd]" + " (see " + "\ufffd#26\ufffd" + "issue 1643" + "\ufffd/#26\ufffd" + ")",p=_.Zx4(p),[[1,"root"],o,e,t,i,r,s,c,u,p,["href","https://github.com/Chocobozzz/PeerTube/issues/1643#issuecomment-464789666"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"h4"),_.SDv(2,1),_.qZA(),_.TgZ(3,"p"),_.tHW(4,2),_._UZ(5,"strong"),_.N_p(),_.qZA(),_.TgZ(6,"p"),_.SDv(7,3),_.qZA(),_.TgZ(8,"ul"),_.TgZ(9,"li"),_.SDv(10,4),_.qZA(),_.TgZ(11,"li"),_.SDv(12,5),_.qZA(),_.TgZ(13,"li"),_.SDv(14,6),_.qZA(),_.qZA(),_.TgZ(15,"p"),_.SDv(16,7),_.qZA(),_._UZ(17,"p"),_.TgZ(18,"ul"),_.TgZ(19,"li"),_.tHW(20,8),_._UZ(21,"code"),_.N_p(),_.qZA(),_.TgZ(22,"li"),_.tHW(23,9),_._UZ(24,"code"),_._UZ(25,"code"),_._UZ(26,"a",10),_.N_p(),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(5),_.pQV(null==t.debug?null:t.debug.ip),_.QtT(4))},styles:[".root[_ngcontent-%COMP%]{font-size:15px}.root[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:14px;font-weight:600}"]}),n})();class g_{constructor(o,e,t){this.authHttp=o,this.restService=e,this.restExtractor=t}getJobs(o){const{jobState:e,jobType:t,pagination:i,sort:r}=o;let s=new d_.LE;return s=this.restService.addRestGetParams(s,i,r),"all"!==t&&(s=s.append("jobType",t)),this.authHttp.get(g_.BASE_JOB_URL+`/${e||""}`,{params:s}).pipe((0,b_.U)(c=>this.restExtractor.convertResultListDateToHuman(c,["createdAt","processedOn","finishedOn"])),(0,b_.U)(c=>this.restExtractor.applyToResultListData(c,this.prettyPrintData)),(0,b_.U)(c=>this.restExtractor.applyToResultListData(c,this.buildUniqId)),(0,__.K)(c=>this.restExtractor.handleError(c)))}prettyPrintData(o){const e=JSON.stringify(o.data,null,2);return Object.assign(o,{data:e})}buildUniqId(o){return Object.assign(o,{uniqId:`${o.id}-${o.type}`})}}g_.BASE_JOB_URL=S_.N.apiUrl+"/api/v1/jobs",g_.\u0275fac=function(o){return new(o||g_)(_.LFG(d_.eN),_.LFG(E.vg),_.LFG(E.DI))},g_.\u0275prov=_.Yz7({token:g_,factory:g_.\u0275fac});var M_=g(8931),F_=g(21499);function ni(n,o){if(1&n&&(_.TgZ(0,"option",20),_._uU(1),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e),_.xp6(1),_.Oqu(e)}}function ti(n,o){if(1&n&&(_.TgZ(0,"ng-option",20),_.TgZ(1,"span",21),_._uU(2),_.qZA(),_.qZA()),2&n){const e=o.$implicit,t=_.oxw();_.Q6J("value",e),_.xp6(1),_.Q6J("ngClass",t.getJobStateClass(e)),_.xp6(1),_.Oqu(e)}}function oi(n,o){1&n&&(_.TgZ(0,"th",34),_.SDv(1,35),_.qZA())}function ii(n,o){1&n&&(_.TgZ(0,"th",36),_.SDv(1,37),_.qZA())}function ri(n,o){if(1&n&&(_.TgZ(0,"tr"),_._UZ(1,"th",22),_.TgZ(2,"th",23),_.SDv(3,24),_.qZA(),_.TgZ(4,"th",25),_.SDv(5,26),_.qZA(),_.TgZ(6,"th",27),_.tHW(7,28),_._UZ(8,"small"),_.N_p(),_.qZA(),_.YNc(9,oi,2,0,"th",29),_.YNc(10,ii,2,0,"th",30),_.TgZ(11,"th",31),_.tHW(12,32),_._UZ(13,"p-sortIcon",33),_.N_p(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(9),_.Q6J("ngIf","all"===e.jobState),_.xp6(1),_.Q6J("ngIf",e.hasProgress())}}function ai(n,o){if(1&n&&(_.TgZ(0,"td",47),_.TgZ(1,"span",21),_._uU(2),_.qZA(),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.Q6J("pRowToggler",e),_.xp6(1),_.Q6J("ngClass",t.getJobStateClass(e.state)),_.xp6(1),_.Oqu(e.state)}}function li(n,o){if(1&n&&(_.TgZ(0,"td",48),_._uU(1),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.Q6J("pRowToggler",e),_.xp6(1),_.hij(" ",t.getProgress(e)," ")}}function si(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",38),_.TgZ(2,"span",39),_._UZ(3,"i",40),_.qZA(),_.qZA(),_.TgZ(4,"td",41),_._uU(5),_.qZA(),_.TgZ(6,"td",42),_._uU(7),_.qZA(),_.TgZ(8,"td",43),_._uU(9),_.qZA(),_.YNc(10,ai,3,3,"td",44),_.YNc(11,li,2,2,"td",45),_.TgZ(12,"td",46),_._uU(13),_.ALo(14,"date"),_.qZA(),_.qZA()),2&n){const e=o.expanded,t=o.$implicit,i=_.oxw();_.xp6(1),_.Q6J("pRowToggler",t),_.xp6(2),_.Q6J("ngClass",e?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right"),_.xp6(1),_.Q6J("pRowToggler",t)("title",t.id),_.xp6(1),_.Oqu(t.id),_.xp6(1),_.Q6J("pRowToggler",t),_.xp6(1),_.Oqu(t.type),_.xp6(1),_.Q6J("pRowToggler",t),_.xp6(1),_.Oqu(t.priority),_.xp6(1),_.Q6J("ngIf","all"===i.jobState),_.xp6(1),_.Q6J("ngIf",i.hasProgress()),_.xp6(1),_.Q6J("pRowToggler",t),_.xp6(1),_.Oqu(_.xi3(14,13,t.createdAt,"short"))}}function ci(n,o){if(1&n&&(_.TgZ(0,"tr",50),_.TgZ(1,"td"),_.TgZ(2,"pre"),_._uU(3),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.xp6(1),_.uIk("colspan",t.getColspan()),_.xp6(2),_.Oqu(e.error)}}const gi=function(n,o,e,t){return[n,o,e,t]};function di(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"pre"),_._uU(3),_.qZA(),_.qZA(),_.qZA(),_.TgZ(4,"tr"),_.TgZ(5,"td"),_.TgZ(6,"pre"),_._uU(7),_.qZA(),_.qZA(),_.qZA(),_.YNc(8,ci,4,2,"tr",49)),2&n){const e=o.$implicit,t=_.oxw();_.xp6(1),_.uIk("colspan",t.getColspan()),_.xp6(2),_.Oqu(_.l5B(5,gi,"Job: "+e.id,"Type: "+e.type,"Processed on "+(e.processedOn||"-"),"Finished on "+(e.finishedOn||"-")).join("\n")),_.xp6(2),_.uIk("colspan",t.getColspan()),_.xp6(2),_.Oqu(e.data),_.xp6(1),_.Q6J("ngIf",e.error)}}function Ei(n,o){1&n&&(_.ynx(0),_.SDv(1,54),_.BQk())}function ui(n,o){if(1&n&&(_.ynx(0),_.tHW(1,55),_._UZ(2,"code"),_.N_p(),_.BQk()),2&n){const e=_.oxw(3);_.xp6(2),_.pQV(e.jobType),_.QtT(1)}}function pi(n,o){if(1&n&&(_.ynx(0),_.YNc(1,Ei,2,0,"ng-container",53),_.YNc(2,ui,3,1,"ng-container",53),_.BQk()),2&n){const e=_.oxw(2);_.xp6(1),_.Q6J("ngIf","all"===e.jobType),_.xp6(1),_.Q6J("ngIf","all"!==e.jobType)}}function Ci(n,o){if(1&n&&(_.ynx(0),_.tHW(1,56),_._UZ(2,"span",21),_.N_p(),_.BQk()),2&n){const e=_.oxw(3);_.xp6(2),_.Q6J("ngClass",e.getJobStateClass(e.jobState)),_.pQV(e.jobState),_.QtT(1)}}function Si(n,o){if(1&n&&(_.ynx(0),_.tHW(1,57),_._UZ(2,"code"),_._UZ(3,"span",21),_.N_p(),_.BQk()),2&n){const e=_.oxw(3);_.xp6(3),_.Q6J("ngClass",e.getJobStateClass(e.jobState)),_.pQV(e.jobType)(e.jobState),_.QtT(1)}}function Oi(n,o){if(1&n&&(_.ynx(0),_.YNc(1,Ci,3,2,"ng-container",53),_.YNc(2,Si,4,3,"ng-container",53),_.BQk()),2&n){const e=_.oxw(2);_.xp6(1),_.Q6J("ngIf","all"===e.jobType),_.xp6(1),_.Q6J("ngIf","all"!==e.jobType)}}function Ti(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"div",51),_.TgZ(3,"div",52),_.YNc(4,pi,3,2,"ng-container",53),_.YNc(5,Oi,3,2,"ng-container",53),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.uIk("colspan",e.getColspan()),_.xp6(3),_.Q6J("ngIf","all"===e.jobState),_.xp6(1),_.Q6J("ngIf","all"!==e.jobState)}}const Ni=function(){return{"table-layout":"auto"}};let Ii=(()=>{class n extends E.Ad{constructor(e,t){super(),this.notifier=e,this.jobsService=t,this.jobStates=["active","completed","failed","waiting","delayed"],this.jobType="all",this.jobTypes=["all","activitypub-follow","activitypub-http-broadcast","activitypub-http-fetcher","activitypub-http-unicast","activitypub-refresher","activitypub-cleaner","actor-keys","email","video-file-import","video-import","video-live-ending","video-redundancy","video-transcoding","videos-views","move-to-object-storage"],this.jobs=[],this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.loadJobStateAndType(),this.initialize()}getIdentifier(){return"JobsComponent"}getJobStateClass(e){switch(e){case"active":return"badge-blue";case"completed":return"badge-green";case"delayed":return"badge-brown";case"failed":return"badge-red";case"waiting":return"badge-yellow"}}getColspan(){return"all"===this.jobState&&this.hasProgress()?7:"all"===this.jobState||this.hasProgress()?6:5}onJobStateOrTypeChanged(){this.pagination.start=0,this.reloadData(),this.saveJobStateAndType()}hasProgress(){return"all"===this.jobType||"video-transcoding"===this.jobType}getProgress(e){return"active"===e.state?e.progress+"%":""}refresh(){this.jobs=[],this.totalRecords=0,this.reloadData()}reloadData(){let e=this.jobState;"all"===this.jobState&&(e=null),this.jobsService.getJobs({jobState:e,jobType:this.jobType,pagination:this.pagination,sort:this.sort}).subscribe({next:t=>{this.jobs=t.data,this.totalRecords=t.total},error:t=>this.notifier.error(t.message)})}loadJobStateAndType(){const e=M_.X.getItem(n.LOCAL_STORAGE_STATE);e&&(this.jobState=e);const t=M_.X.getItem(n.LOCAL_STORAGE_TYPE);t&&(this.jobType=t)}saveJobStateAndType(){M_.X.setItem(n.LOCAL_STORAGE_STATE,this.jobState),M_.X.setItem(n.LOCAL_STORAGE_TYPE,this.jobType)}}return n.LOCAL_STORAGE_STATE="jobs-list-state",n.LOCAL_STORAGE_TYPE="jobs-list-type",n.\u0275fac=function(e){return new(e||n)(_.Y36(E.d4),_.Y36(g_))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-jobs"]],features:[_.qOj],decls:23,vars:22,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b;return o="Job type",e="Job state",t="any",i="\u0E23\u0E35\u0E40\u0E1F\u0E23\u0E0A",r="Showing " + "\ufffd0\ufffd" + " to " + "\ufffd1\ufffd" + " of " + "\ufffd2\ufffd" + " jobs",s="ID",c="Type",u="Priority " + "\ufffd#8\ufffd" + "(1 = highest priority)" + "\ufffd/#8\ufffd" + "",p="Created \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",d="State",N="Progress",A="\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21",R="No jobs found.",I="No " + "\ufffd#2\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#2\ufffd" + " jobs found.",S="No " + "\ufffd#2\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#2\ufffd" + " jobs found.",b="No " + "\ufffd#2\ufffd" + "" + "\ufffd0\ufffd" + "" + "\ufffd/#2\ufffd" + " jobs found that are " + "\ufffd#3\ufffd" + "" + "\ufffd1\ufffd" + "" + "\ufffd/#3\ufffd" + ".",[[1,"admin-sub-header"],[1,"select-filter-block"],["for","jobType"],o,[1,"peertube-select-container"],["id","jobType","name","jobType",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","jobState"],e,[1,"select-job-state",3,"ngModel","clearable","searchable","ngModelChange"],["value","all"],t,[1,"button-filter-block"],["label",i,"icon","refresh",3,"click"],["dataKey","uniqId",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","first","tableStyle","showCurrentPageReport","expandedRowKeys","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate",r],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[3,"value"],[1,"badge",3,"ngClass"],[2,"width","40px"],[1,"job-id",2,"width","calc(100% - 390px)"],s,[1,"job-type",2,"width","200px"],c,[1,"job-priority",2,"width","200px"],u,["style","width: 200px","class","job-state",4,"ngIf"],["style","width: 100px","class","job-progress",4,"ngIf"],["pSortableColumn","createdAt",1,"job-date",2,"width","150px"],p,["field","createdAt"],[1,"job-state",2,"width","200px"],d,[1,"job-progress",2,"width","100px"],N,["ngbTooltip",A,"placement","top-left","container","body",1,"expand-cell","c-hand",3,"pRowToggler"],[1,"expander"],[3,"ngClass"],[1,"job-id","c-hand",3,"pRowToggler","title"],[1,"job-type","c-hand",3,"pRowToggler"],[1,"job-priority","c-hand",3,"pRowToggler"],["class","job-state c-hand",3,"pRowToggler",4,"ngIf"],["class","job-progress c-hand",3,"pRowToggler",4,"ngIf"],[1,"job-date","c-hand",3,"pRowToggler"],[1,"job-state","c-hand",3,"pRowToggler"],[1,"job-progress","c-hand",3,"pRowToggler"],["class","job-error",4,"ngIf"],[1,"job-error"],[1,"no-results"],[1,"d-block"],[4,"ngIf"],R,I,S,b]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"label",2),_.SDv(3,3),_.qZA(),_.TgZ(4,"div",4),_.TgZ(5,"select",5),_.NdJ("ngModelChange",function(r){return t.jobType=r})("ngModelChange",function(){return t.onJobStateOrTypeChanged()}),_.YNc(6,ni,2,2,"option",6),_.qZA(),_.qZA(),_.qZA(),_.TgZ(7,"div",1),_.TgZ(8,"label",7),_.SDv(9,8),_.qZA(),_.TgZ(10,"ng-select",9),_.NdJ("ngModelChange",function(r){return t.jobState=r})("ngModelChange",function(){return t.onJobStateOrTypeChanged()}),_.TgZ(11,"ng-option",10),_.TgZ(12,"span"),_.SDv(13,11),_.qZA(),_.qZA(),_.YNc(14,ti,3,3,"ng-option",6),_.qZA(),_.qZA(),_.TgZ(15,"div",12),_.TgZ(16,"my-button",13),_.NdJ("click",function(){return t.refresh()}),_.qZA(),_.qZA(),_.qZA(),_.TgZ(17,"p-table",14),_.DtL(18,15),_.NdJ("onLazyLoad",function(r){return t.loadLazy(r)})("onPage",function(r){return t.onPage(r)})("onPage",function(r){return t.onPage(r)}),_.YNc(19,ri,14,2,"ng-template",16),_.YNc(20,si,15,16,"ng-template",17),_.YNc(21,di,9,10,"ng-template",18),_.YNc(22,Ti,6,3,"ng-template",19),_.qZA()),2&e&&(_.xp6(5),_.Q6J("ngModel",t.jobType),_.xp6(1),_.Q6J("ngForOf",t.jobTypes),_.xp6(4),_.Q6J("ngModel",t.jobState)("clearable",!1)("searchable",!1),_.xp6(4),_.Q6J("ngForOf",t.jobStates),_.xp6(3),_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(18),_.Q6J("value",t.jobs)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("first",t.pagination.start)("tableStyle",_.DdM(21,Ni))("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows))},directives:[a.EJ,a.JJ,a.On,C.sg,F_.w9,F_.xv,P_.r,f.iA,E_.jx,a.YN,a.Kr,C.mk,C.O5,f.lQ,f.fz,J._L,f.jB],pipes:[C.uU],styles:['.select-job-state[_ngcontent-%COMP%]{min-width:120px}.job-id[_ngcontent-%COMP%]{max-width:30vw!important}.job-type[_ngcontent-%COMP%], .job-state[_ngcontent-%COMP%], .job-priority[_ngcontent-%COMP%]{width:150px!important}.job-date[_ngcontent-%COMP%]{width:170px!important}.admin-sub-header[_ngcontent-%COMP%]{flex-direction:row!important;justify-content:flex-end}@supports (margin-inline-end: 10px){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:2px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: auto){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.admin-sub-header[_ngcontent-%COMP%]   .button-filter-block[_ngcontent-%COMP%]{align-self:flex-end}@supports (margin-inline-end: 10px){td[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){td[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-right:10px}}pre[_ngcontent-%COMP%]{font-size:11px}.job-error[_ngcontent-%COMP%]{color:red}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}']}),n})();class Ai{constructor(o){this.date=new Date(o.timestamp),this.localeDate=this.date.toLocaleString(),this.level=o.level,this.message=o.message;const e=(0,H_.Z)(o,"timestamp","level","message","label");if(0!==Object.keys(e).length&&(this.meta=JSON.stringify(e,void 0,2)),"audit"===o.level)try{const t=JSON.parse(o.message);this.by=t.user,this.domain=t.domain,this.action=t.action,this.meta=JSON.stringify(t,null,2),this.message=""}catch(t){console.error("Cannot parse audit message.",t)}}}class n_{constructor(o,e){this.authHttp=o,this.restExtractor=e}getLogs(o){const{isAuditLog:e,startDate:t}=o;let i=new d_.LE;return i=i.append("startDate",t),e||(i=i.append("level",o.level)),o.endDate&&i.append("endDate",o.endDate),this.authHttp.get(e?n_.BASE_AUDIT_LOG_URL:n_.BASE_LOG_URL,{params:i}).pipe((0,b_.U)(s=>s.map(c=>new Ai(c))),(0,__.K)(s=>this.restExtractor.handleError(s)))}}n_.BASE_LOG_URL=S_.N.apiUrl+"/api/v1/server/logs",n_.BASE_AUDIT_LOG_URL=S_.N.apiUrl+"/api/v1/server/audit-logs",n_.\u0275fac=function(o){return new(o||n_)(_.LFG(d_.eN),_.LFG(E.DI))},n_.\u0275prov=_.Yz7({token:n_,factory:n_.\u0275fac});const Mi=["logsElement"];function mi(n,o){if(1&n&&(_.TgZ(0,"option",11),_._uU(1),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e.id),_.xp6(1),_.Oqu(e.label)}}function Ri(n,o){if(1&n&&(_.TgZ(0,"ng-option",11),_._uU(1),_.ALo(2,"date"),_.TgZ(3,"span"),_.SDv(4,12),_.qZA(),_._uU(5,") "),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e.id),_.xp6(1),_.AsE(" ",e.label," (",_.xi3(2,3,e.id,e.dateFormat)," - ")}}function Di(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"span",13),_._uU(2,"\u2b24"),_.qZA(),_._uU(3),_.BQk()),2&n){const e=_.oxw().$implicit;_.xp6(3),_.hij(" ",e.label,"")}}function fi(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"span",14),_._uU(2,"\u2b24"),_.qZA(),_._uU(3),_.BQk()),2&n){const e=_.oxw().$implicit;_.xp6(3),_.hij(" ",e.label,"")}}function Pi(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"span",15),_._uU(2,"\u2b24"),_.qZA(),_._uU(3),_.BQk()),2&n){const e=_.oxw().$implicit;_.xp6(3),_.hij(" ",e.label,"")}}function bi(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"span",16),_._uU(2,"\u2b24"),_.qZA(),_._uU(3),_.BQk()),2&n){const e=_.oxw().$implicit;_.xp6(3),_.hij(" ",e.label,"")}}function hi(n,o){if(1&n&&(_.TgZ(0,"ng-option",11),_.YNc(1,Di,4,1,"ng-container",8),_.YNc(2,fi,4,1,"ng-container",8),_.YNc(3,Pi,4,1,"ng-container",8),_.YNc(4,bi,4,1,"ng-container",8),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e.id),_.xp6(1),_.Q6J("ngIf","debug"===e.id),_.xp6(1),_.Q6J("ngIf","info"===e.id),_.xp6(1),_.Q6J("ngIf","warn"===e.id),_.xp6(1),_.Q6J("ngIf","error"===e.id)}}function Li(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"ng-select",4),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().level=i})("ngModelChange",function(){return _.CHM(e),_.oxw().refresh()}),_.YNc(1,hi,5,5,"ng-option",3),_.qZA()}if(2&n){const e=_.oxw();_.Q6J("ngModel",e.level)("clearable",!1)("searchable",!1),_.xp6(1),_.Q6J("ngForOf",e.levelChoices)}}function Fi(n,o){1&n&&(_.TgZ(0,"div"),_.SDv(1,17),_.qZA())}function xi(n,o){if(1&n&&(_.TgZ(0,"strong",23),_.SDv(1,24),_.qZA()),2&n){const e=_.oxw().$implicit;_.xp6(1),_.pQV(e.by),_.QtT(1)}}function vi(n,o){if(1&n&&(_.TgZ(0,"strong",25),_._uU(1),_.qZA()),2&n){const e=_.oxw().$implicit;_.xp6(1),_.AsE("",e.domain," -> ",e.action,"")}}const Vi=function(n,o){return{error:n,warn:o}};function yi(n,o){if(1&n&&(_.TgZ(0,"div",18),_.TgZ(1,"span",19),_._uU(2),_.qZA(),_.TgZ(3,"span",20),_._uU(4),_.qZA(),_.YNc(5,xi,2,1,"strong",21),_.YNc(6,vi,2,2,"strong",22),_._uU(7),_.TgZ(8,"pre"),_._uU(9),_.qZA(),_.qZA()),2&n){const e=o.$implicit;_.Q6J("ngClass",_.WLB(7,Vi,"error"===e.level,"warn"===e.level)),_.xp6(2),_.Oqu(e.level),_.xp6(2),_.hij("[",e.localeDate,"]"),_.xp6(1),_.Q6J("ngIf",e.by),_.xp6(1),_.Q6J("ngIf",e.domain),_.xp6(1),_.hij(" ",e.message," "),_.xp6(2),_.Oqu(e.meta)}}let Ui=(()=>{class n{constructor(e,t,i){this.logsService=e,this.notifier=t,this.localStorage=i,this.loading=!1,this.logs=[],this.timeChoices=[],this.levelChoices=[],this.logTypeChoices=[]}ngOnInit(){this.buildTimeChoices(),this.buildLevelChoices(),this.buildLogTypeChoices(),this.loadPreviousChoices(),this.load()}refresh(){this.logs=[],this.localStorage.setItem(n.LOCAL_STORAGE_LOG_TYPE_CHOICE_KEY,this.logType),this.load()}load(){this.loading=!0,this.logsService.getLogs({isAuditLog:this.isAuditLog(),level:this.level,startDate:this.startDate}).subscribe({next:e=>{this.logs=e,setTimeout(()=>{this.logsElement.nativeElement.scrollIntoView({block:"end",inline:"nearest"})})},error:e=>this.notifier.error(e.message),complete:()=>this.loading=!1})}isAuditLog(){return"audit"===this.logType}buildTimeChoices(){const e=new Date;e.setHours(e.getHours()-1);const t=new Date;t.setDate(t.getDate()-1);const i=new Date;i.setDate(i.getDate()-7),this.timeChoices=[{id:i.toISOString(),label:"\u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C\u0E17\u0E35\u0E48\u0E1C\u0E48\u0E32\u0E19\u0E21\u0E32",dateFormat:"shortDate"},{id:t.toISOString(),label:"Last day",dateFormat:"short"},{id:e.toISOString(),label:"Last hour",dateFormat:"mediumTime"}],this.startDate=e.toISOString()}buildLevelChoices(){this.levelChoices=[{id:"debug",label:"debug"},{id:"info",label:"info"},{id:"warn",label:"warning"},{id:"error",label:"error"}],this.level="warn"}buildLogTypeChoices(){this.logTypeChoices=[{id:"standard",label:"Standard logs"},{id:"audit",label:"Audit logs"}]}loadPreviousChoices(){this.logType=this.localStorage.getItem(n.LOCAL_STORAGE_LOG_TYPE_CHOICE_KEY),"standard"!==this.logType&&"audit"!==this.logType&&(this.logType="audit")}}return n.LOCAL_STORAGE_LOG_TYPE_CHOICE_KEY="admin-logs-log-type-choice",n.\u0275fac=function(e){return new(e||n)(_.Y36(n_),_.Y36(E.d4),_.Y36(E.n2))},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&_.Gf(Mi,7),2&e){let i;_.iGM(i=_.CRH())&&(t.logsElement=i.first)}},decls:13,vars:9,consts:function(){let o,e,t,i;return o="\u0E23\u0E35\u0E40\u0E1F\u0E23\u0E0A",e="\u0E15\u0E2D\u0E19\u0E19\u0E35\u0E49",t="\u0E01\u0E33\u0E25\u0E31\u0E07\u0E42\u0E2B\u0E25\u0E14...",i="By \n          " + "\ufffd0\ufffd" + " ->\n        ",[[1,"header"],[1,"peertube-select-container"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","clearable","searchable","ngModelChange"],[3,"ngModel","clearable","searchable","ngModelChange",4,"ngIf"],["label",o,"icon","refresh",3,"click"],[1,"logs"],[4,"ngIf"],["logsElement",""],["class","log-row",3,"ngClass",4,"ngFor","ngForOf"],[3,"value"],e,[2,"font-size","80%","color","lightgray","vertical-align","text-top"],[2,"font-size","80%","color","lightskyblue","vertical-align","text-top"],[2,"font-size","80%","color","orange","vertical-align","text-top"],[2,"font-size","80%","color","red","vertical-align","text-top"],t,[1,"log-row",3,"ngClass"],[1,"log-level"],[1,"log-date"],["class","log-by",4,"ngIf"],["class","log-domain-action",4,"ngIf"],[1,"log-by"],i,[1,"log-domain-action"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"select",2),_.NdJ("ngModelChange",function(r){return t.logType=r})("ngModelChange",function(){return t.refresh()}),_.YNc(3,mi,2,2,"option",3),_.qZA(),_.qZA(),_.TgZ(4,"ng-select",4),_.NdJ("ngModelChange",function(r){return t.startDate=r})("ngModelChange",function(){return t.refresh()}),_.YNc(5,Ri,6,6,"ng-option",3),_.qZA(),_.YNc(6,Li,2,4,"ng-select",5),_.TgZ(7,"my-button",6),_.NdJ("click",function(){return t.refresh()}),_.qZA(),_.qZA(),_.TgZ(8,"div",7),_.YNc(9,Fi,2,0,"div",8),_.TgZ(10,"div",null,9),_.YNc(12,yi,10,10,"div",10),_.qZA(),_.qZA()),2&e&&(_.xp6(2),_.Q6J("ngModel",t.logType),_.xp6(1),_.Q6J("ngForOf",t.logTypeChoices),_.xp6(1),_.Q6J("ngModel",t.startDate)("clearable",!1)("searchable",!1),_.xp6(1),_.Q6J("ngForOf",t.timeChoices),_.xp6(1),_.Q6J("ngIf",!t.isAuditLog()),_.xp6(3),_.Q6J("ngIf",t.loading),_.xp6(3),_.Q6J("ngForOf",t.logs))},directives:[a.EJ,a.JJ,a.On,C.sg,F_.w9,C.O5,P_.r,a.YN,a.Kr,F_.xv,C.mk],pipes:[C.uU],styles:['.logs[_ngcontent-%COMP%]{font-family:monospace;font-size:13px;max-height:500px;overflow-y:auto;background:rgba(0,0,0,.03);padding:20px}.logs[_ngcontent-%COMP%]   .log-row[_ngcontent-%COMP%]{margin-top:1px;word-break:break-word}.logs[_ngcontent-%COMP%]   .log-row[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.07)}.logs[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%]{font-weight:600}@supports (margin-inline-end: 5px){.logs[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.logs[_ngcontent-%COMP%]   .log-level[_ngcontent-%COMP%]{margin-right:5px}}.logs[_ngcontent-%COMP%]   .log-by[_ngcontent-%COMP%]{margin:0 5px}.logs[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]{color:var(--mainColor)}.logs[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.logs[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin-bottom:5px;white-space:pre-wrap;word-wrap:break-word}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:10px}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:150px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.header[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 150px){.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}@supports (margin-inline-start: 10px){.header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{margin-inline-start:10px}}@supports not (margin-inline-start: 10px){.header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{margin-left:10px}}@media screen and (max-width: 800px){.header[_ngcontent-%COMP%]{flex-direction:column}.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{width:100%!important;margin-bottom:10px!important}@supports (margin-inline-start: 0 !important){.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-inline-start:0!important}}@supports not (margin-inline-start: 0 !important){.header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-left:0!important}}.header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{text-align:center}}@media screen and (max-width: 1040px){.main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column}.main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{width:100%!important;margin-bottom:10px!important}@supports (margin-inline-start: 0 !important){.main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-inline-start:0!important}}@supports not (margin-inline-start: 0 !important){.main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%], .main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{margin-left:0!important}}.main-col:not(.expanded)[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%], .main-col:not(.expanded)   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]{text-align:center}}']}),n})();function $i(n,o){1&n&&(_.TgZ(0,"a",5),_.SDv(1,6),_.qZA())}function Gi(n,o){1&n&&(_.TgZ(0,"a",7),_.SDv(1,8),_.qZA())}function Zi(n,o){1&n&&(_.TgZ(0,"a",9),_.SDv(1,10),_.qZA())}const wi=[{path:"system",component:(()=>{class n{constructor(e){this.auth=e}hasLogsRight(){return this.auth.getUser().hasRight(3)}hasJobsRight(){return this.auth.getUser().hasRight(7)}hasDebugRight(){return this.auth.getUser().hasRight(4)}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.e8))},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:3,consts:function(){let o,e,t;return o="Jobs",e="Logs",t="Debug",[[1,"admin-sub-header"],[1,"admin-sub-nav"],["routerLink","jobs","routerLinkActive","active",4,"ngIf"],["routerLink","logs","routerLinkActive","active",4,"ngIf"],["routerLink","debug","routerLinkActive","active",4,"ngIf"],["routerLink","jobs","routerLinkActive","active"],o,["routerLink","logs","routerLinkActive","active"],e,["routerLink","debug","routerLinkActive","active"],t]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.YNc(2,$i,2,0,"a",2),_.YNc(3,Gi,2,0,"a",3),_.YNc(4,Zi,2,0,"a",4),_.qZA(),_.qZA(),_._UZ(5,"router-outlet")),2&e&&(_.xp6(2),_.Q6J("ngIf",t.hasJobsRight()),_.xp6(1),_.Q6J("ngIf",t.hasLogsRight()),_.xp6(1),_.Q6J("ngIf",t.hasDebugRight()))},directives:[C.O5,P.lC,P.yS,P.Od],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0}@supports (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-inline-end:30px}}@supports not (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-right:30px}}"]}),n})(),children:[{path:"",redirectTo:"jobs",pathMatch:"full"},{path:"jobs",canActivate:[E.p3],component:Ii,data:{meta:{userRight:7,title:"Jobs"}}},{path:"logs",canActivate:[E.p3],component:Ui,data:{meta:{userRight:3,title:"Logs"}}},{path:"debug",canActivate:[E.p3],component:ei,data:{meta:{userRight:4,title:"Debug"}}}]}];var Bi=g(14740);const ki=function(n){return{"offset-content":n}};let Yi=(()=>{class n{constructor(e,t){this.auth=e,this.screen=t,this.items=[],this.menuEntries=[]}get isBroadcastMessageDisplayed(){return this.screen.isBroadcastMessageDisplayed}ngOnInit(){const e={label:"\u0E23\u0E27\u0E21\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C\u0E2D\u0E37\u0E48\u0E19",children:[{label:"Following",routerLink:"/admin/follows/following-list",iconName:"following"},{label:"Followers",routerLink:"/admin/follows/followers-list",iconName:"follower"},{label:"Video redundancies",routerLink:"/admin/follows/video-redundancies-list",iconName:"videos"}]},t={label:"\u0E01\u0E32\u0E23\u0E14\u0E39\u0E41\u0E25",children:[]};this.hasAbusesRight()&&t.children.push({label:"Reports",routerLink:"/admin/moderation/abuses/list",iconName:"flag"}),this.hasVideoBlocklistRight()&&t.children.push({label:"Video blocks",routerLink:"/admin/moderation/video-blocks/list",iconName:"cross"}),this.hasVideoCommentsRight()&&t.children.push({label:"\u0E04\u0E27\u0E32\u0E21\u0E04\u0E34\u0E14\u0E40\u0E2B\u0E47\u0E19\u0E43\u0E19\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D",routerLink:"/admin/moderation/video-comments/list",iconName:"message-circle"}),this.hasAccountsBlocklistRight()&&t.children.push({label:"Muted accounts",routerLink:"/admin/moderation/blocklist/accounts",iconName:"user-x"}),this.hasServersBlocklistRight()&&t.children.push({label:"Muted servers",routerLink:"/admin/moderation/blocklist/servers",iconName:"peertube-x"}),this.hasUsersRight()&&this.menuEntries.push({label:"Users",routerLink:"/admin/users"}),this.hasServerFollowRight()&&this.menuEntries.push(e),(this.hasAbusesRight()||this.hasVideoBlocklistRight())&&this.menuEntries.push(t),this.hasConfigRight()&&this.menuEntries.push({label:"Configuration",routerLink:"/admin/config"}),this.hasPluginsRight()&&this.menuEntries.push({label:"Plugins/Themes",routerLink:"/admin/plugins"}),(this.hasJobsRight()||this.hasLogsRight()||this.hasDebugRight())&&this.menuEntries.push({label:"System",routerLink:"/admin/system"})}hasUsersRight(){return this.auth.getUser().hasRight(1)}hasServerFollowRight(){return this.auth.getUser().hasRight(2)}hasAbusesRight(){return this.auth.getUser().hasRight(6)}hasVideoBlocklistRight(){return this.auth.getUser().hasRight(12)}hasAccountsBlocklistRight(){return this.auth.getUser().hasRight(10)}hasServersBlocklistRight(){return this.auth.getUser().hasRight(11)}hasConfigRight(){return this.auth.getUser().hasRight(8)}hasPluginsRight(){return this.auth.getUser().hasRight(23)}hasLogsRight(){return this.auth.getUser().hasRight(3)}hasJobsRight(){return this.auth.getUser().hasRight(7)}hasDebugRight(){return this.auth.getUser().hasRight(4)}hasVideoCommentsRight(){return this.auth.getUser().hasRight(21)}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.e8),_.Y36(E.H2))},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:4,vars:4,consts:[[1,"root"],[3,"menuEntries"],[1,"margin-content",3,"ngClass"]],template:function(e,t){1&e&&(_.TgZ(0,"div",0),_._UZ(1,"my-top-menu-dropdown",1),_.TgZ(2,"div",2),_._UZ(3,"router-outlet"),_.qZA(),_.qZA()),2&e&&(_.xp6(1),_.Q6J("menuEntries",t.menuEntries),_.xp6(1),_.Q6J("ngClass",_.VKq(2,ki,!t.isBroadcastMessageDisplayed)))},directives:[Bi.L,C.mk,P.lC],styles:["my-top-menu-dropdown[_ngcontent-%COMP%]{flex-grow:1}.root[_ngcontent-%COMP%]     h1{font-size:1.3rem;border-bottom:2px solid #E5E5E5;padding-bottom:15px;margin-bottom:30px}.root[_ngcontent-%COMP%]     h1>span>my-global-icon, .root[_ngcontent-%COMP%]     h1>my-global-icon{width:24px;height:24px;vertical-align:top}@supports (margin-inline-end: 10px){.root[_ngcontent-%COMP%]     h1>span>my-global-icon, .root[_ngcontent-%COMP%]     h1>my-global-icon{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.root[_ngcontent-%COMP%]     h1>span>my-global-icon, .root[_ngcontent-%COMP%]     h1>my-global-icon{margin-right:10px}}.root[_ngcontent-%COMP%]     h1 .badge{vertical-align:top}@supports (margin-inline-start: 7px){.root[_ngcontent-%COMP%]     h1 .badge{margin-inline-start:7px}}@supports not (margin-inline-start: 7px){.root[_ngcontent-%COMP%]     h1 .badge{margin-left:7px}}"]}),n})();var Q_=g(33716);function qi(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",8),_.TgZ(1,"div",9),_.TgZ(2,"my-advanced-input-filter",10),_.NdJ("search",function(i){return _.CHM(e),_.oxw().onSearch(i)}),_.qZA(),_.qZA(),_.qZA()}}function Ki(n,o){1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"th",11),_.SDv(2,12),_.qZA(),_.TgZ(3,"th"),_.SDv(4,13),_.qZA(),_.TgZ(5,"th",14),_.tHW(6,15),_._UZ(7,"p-sortIcon",16),_.N_p(),_.qZA(),_.TgZ(8,"th",17),_.tHW(9,18),_._UZ(10,"p-sortIcon",19),_.N_p(),_.qZA(),_.TgZ(11,"th",20),_.tHW(12,21),_._UZ(13,"p-sortIcon",22),_.N_p(),_.qZA(),_.qZA())}function zi(n,o){if(1&n){const e=_.EpF();_.ynx(0),_.TgZ(1,"my-button",28),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().acceptFollower(i)}),_.qZA(),_.TgZ(2,"my-button",29),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().rejectFollower(i)}),_.qZA(),_.BQk()}}function Xi(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"my-delete-button",30),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit;return _.oxw().deleteFollower(i)}),_.qZA()}}function Qi(n,o){1&n&&(_.TgZ(0,"td"),_.TgZ(1,"span",31),_.SDv(2,32),_.qZA(),_.qZA())}function Ji(n,o){1&n&&(_.TgZ(0,"td"),_.TgZ(1,"span",33),_.SDv(2,34),_.qZA(),_.qZA())}function Wi(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",23),_.YNc(2,zi,3,0,"ng-container",24),_.YNc(3,Xi,1,0,"my-delete-button",25),_.qZA(),_.TgZ(4,"td"),_.TgZ(5,"a",26),_._uU(6),_._UZ(7,"span",27),_.qZA(),_.qZA(),_.YNc(8,Qi,3,0,"td",24),_.YNc(9,Ji,3,0,"td",24),_.TgZ(10,"td"),_._uU(11),_.qZA(),_.TgZ(12,"td"),_._uU(13),_.ALo(14,"date"),_.qZA(),_.qZA()),2&n){const e=o.$implicit;_.xp6(2),_.Q6J("ngIf","pending"===e.state),_.xp6(1),_.Q6J("ngIf","accepted"===e.state),_.xp6(2),_.Q6J("href",e.follower.url,_.LSH),_.xp6(1),_.hij(" ",e.follower.name+"@"+e.follower.host," "),_.xp6(2),_.Q6J("ngIf","accepted"===e.state),_.xp6(1),_.Q6J("ngIf","pending"===e.state),_.xp6(2),_.Oqu(e.score),_.xp6(2),_.Oqu(_.xi3(14,8,e.createdAt,"short"))}}function Hi(n,o){1&n&&(_.ynx(0),_.SDv(1,37),_.BQk())}function ji(n,o){1&n&&(_.ynx(0),_.SDv(1,38),_.BQk())}function _r(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",35),_.TgZ(2,"div",36),_.YNc(3,Hi,2,0,"ng-container",24),_.YNc(4,ji,2,0,"ng-container",24),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.search),_.xp6(1),_.Q6J("ngIf",!e.search)}}let er=(()=>{class n extends E.Ad{constructor(e,t,i){super(),this.confirmService=e,this.notifier=t,this.followService=i,this.followers=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"FollowersListComponent"}acceptFollower(e){e.state="accepted",this.followService.acceptFollower(e).subscribe({next:()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " accepted in instance followers\n        ")},error:t=>{e.state="pending",this.notifier.error(t.message)}})}rejectFollower(e){return(0,K.mG)(this,void 0,void 0,function*(){const t="Do you really want to reject this follower?";!1!==(yield this.confirmService.confirm(t,"Reject"))&&this.followService.rejectFollower(e).subscribe({next:()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " rejected from instance followers\n        "),this.reloadData()},error:r=>{e.state="pending",this.notifier.error(r.message)}})})}deleteFollower(e){return(0,K.mG)(this,void 0,void 0,function*(){const t="Do you really want to delete this follower?";!1!==(yield this.confirmService.confirm(t,"\u0E25\u0E1A"))&&this.followService.removeFollower(e).subscribe({next:()=>{this.notifier.success("\n          " + (e.follower.name + "@" + e.follower.host) + " removed from instance followers\n        "),this.reloadData()},error:r=>this.notifier.error(r.message)})})}reloadData(){this.followService.getFollowers({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe({next:e=>{this.followers=e.data,this.totalRecords=e.total},error:e=>this.notifier.error(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.zM),_.Y36(E.d4),_.Y36(Q_.gk))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-followers-list"]],features:[_.qOj],decls:10,vars:13,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I;return o="Followers of your instance",e="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " followers\n        ",t="Actions",i="Follower",r="State \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",s="Score \n          " + "\ufffd#10\ufffd" + "\n          " + "\ufffd/#10\ufffd" + "\n        ",c="Created \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",u="Open actor page in a new tab",p="Accept",d="Refuse",N="Accepted",A="Pending",R="No follower found matching current filters.",I="Your instance doesn't have any follower.",[["iconName","follower","aria-hidden","true"],o,[3,"value","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","lazy","lazyLoadOnInit","showCurrentPageReport","onPage","onLazyLoad",6,"currentPageReportTemplate"],["currentPageReportTemplate",e],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"ml-auto"],[3,"search"],[2,"width","150px"],t,i,["pSortableColumn","state",2,"width","100px"],r,["field","state"],["pSortableColumn","score",2,"width","100px"],s,["field","score"],["pSortableColumn","createdAt",2,"width","150px"],c,["field","createdAt"],[1,"action-cell"],[4,"ngIf"],["label","",3,"click",4,"ngIf"],["title",u,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"glyphicon","glyphicon-new-window"],["title",p,"icon","tick",3,"click"],["title",d,"icon","cross",3,"click"],["label","",3,"click"],[1,"badge","badge-green"],N,[1,"badge","badge-yellow"],A,["colspan","6"],[1,"no-results"],R,I]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_.qZA(),_.TgZ(4,"p-table",2),_.DtL(5,3),_.NdJ("onPage",function(r){return t.onPage(r)})("onLazyLoad",function(r){return t.loadLazy(r)}),_.YNc(6,qi,3,0,"ng-template",4),_.YNc(7,Ki,14,0,"ng-template",5),_.YNc(8,Wi,15,11,"ng-template",6),_.YNc(9,_r,5,2,"ng-template",7),_.qZA()),2&e&&(_.xp6(4),_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(5),_.Q6J("value",t.followers)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("lazy",!0)("lazyLoadOnInit",!1)("showCurrentPageReport",!0))},directives:[e_.$,f.iA,E_.jx,T_.F,f.lQ,f.fz,C.O5,P_.r,L_.t],pipes:[C.uU],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0}@supports (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-inline-end:30px}}@supports not (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-right:30px}}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}","a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}@supports (margin-inline-end: 10px){.action-cell[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]:first-child{margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.action-cell[_ngcontent-%COMP%]   my-button[_ngcontent-%COMP%]:first-child{margin-right:10px}}my-delete-button[_ngcontent-%COMP%]{max-width:130px}"]}),n})();var le=g(86395);const nr=["modal"];function tr(n,o){if(1&n&&(_.TgZ(0,"div"),_._uU(1),_.qZA()),2&n){const e=_.oxw(3);_.xp6(1),_.hij(" ",e.form.controls.hostsOrHandles.errors.validHostsOrHandles.value," ")}}function or(n,o){if(1&n&&(_.TgZ(0,"div",16),_._uU(1),_.YNc(2,tr,2,1,"div",17),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij(" ",e.formErrors.hostsOrHandles," "),_.xp6(1),_.Q6J("ngIf",e.form.controls.hostsOrHandles.errors.validHostsOrHandles)}}function ir(n,o){1&n&&(_.TgZ(0,"div",18),_.SDv(1,19),_.qZA())}const rr=function(n){return{"input-error":n}};function ar(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",1),_.TgZ(1,"h4",2),_.SDv(2,3),_.qZA(),_.TgZ(3,"my-global-icon",4),_.NdJ("click",function(){return _.CHM(e),_.oxw().hide()}),_.qZA(),_.qZA(),_.TgZ(4,"div",5),_.TgZ(5,"form",6),_.NdJ("ngSubmit",function(){return _.CHM(e),_.oxw().submit()}),_.TgZ(6,"div",7),_.TgZ(7,"label",8),_.SDv(8,9),_.qZA(),_._UZ(9,"textarea",10),_.YNc(10,or,3,2,"div",11),_.qZA(),_.YNc(11,ir,2,0,"div",12),_.TgZ(12,"div",13),_.TgZ(13,"input",14),_.NdJ("click",function(){return _.CHM(e),_.oxw().hide()})("key.enter",function(){return _.CHM(e),_.oxw().hide()}),_.qZA(),_._UZ(14,"input",15),_.qZA(),_.qZA(),_.qZA()}if(2&n){const e=_.oxw();_.xp6(5),_.Q6J("formGroup",e.form),_.xp6(4),_.Q6J("placeholder",e.placeholder)("ngClass",_.VKq(6,rr,e.formErrors.hostsOrHandles)),_.xp6(1),_.Q6J("ngIf",e.formErrors.hostsOrHandles),_.xp6(1),_.Q6J("ngIf",!1===e.httpEnabled()),_.xp6(3),_.Q6J("disabled",!e.form.valid)}}let lr=(()=>{class n extends v.OI{constructor(e,t,i,r){super(),this.formValidatorService=e,this.modalService=t,this.followService=i,this.notifier=r,this.newFollow=new _.vpe,this.placeholder="example.com\nchocobozzz@example.com\nchocobozzz_channel@example.com"}ngOnInit(){this.buildForm({hostsOrHandles:le.pD})}openModal(){this.openedModal=this.modalService.open(this.modal,{centered:!0})}hide(){this.openedModal.close()}submit(){this.addFollowing(),this.form.reset(),this.hide()}httpEnabled(){return"https:"===window.location.protocol}addFollowing(){const e=(0,le.Tv)(this.form.value.hostsOrHandles);this.followService.follow(e).subscribe({next:()=>{this.notifier.success("Follow request(s) sent!"),this.newFollow.emit()},error:t=>this.notifier.error(t.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(v.Q4),_.Y36(J.FF),_.Y36(Q_.gk),_.Y36(E.d4))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-follow-modal"]],viewQuery:function(e,t){if(1&e&&_.Gf(nr,7),2&e){let i;_.iGM(i=_.CRH())&&(t.modal=i.first)}},outputs:{newFollow:"newFollow"},features:[_.qOj],decls:2,vars:0,consts:function(){let o,e,t,i,r;return o="Follow",e="1 host (without \"http://\"), account handle or channel handle per line",t="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",i="Follow",r="\n      It seems that you are not on a HTTPS server. Your webserver needs to have TLS activated in order to follow servers.\n    ",[["modal",""],[1,"modal-header"],[1,"modal-title"],o,["iconName","cross","aria-label","Close","role","button",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","hostsOrHandles"],e,["formControlName","hostsOrHandles","type","text","id","hostsOrHandles","name","hostsOrHandles","ngbAutofocus","",1,"form-control",3,"placeholder","ngClass"],["class","form-error",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"form-group","inputs"],["type","button","role","button","value",t,1,"peertube-button","grey-button",3,"click","key.enter"],["type","submit","value",i,1,"peertube-button","orange-button",3,"disabled"],[1,"form-error"],[4,"ngIf"],[1,"alert","alert-warning"],r]},template:function(e,t){1&e&&_.YNc(0,ar,15,8,"ng-template",null,0,_.W1O)},directives:[e_.$,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,C.mk,C.O5],styles:["textarea[_ngcontent-%COMP%]{height:200px}"]}),n})(),sr=(()=>{class n{constructor(e,t){this.notifier=e,this.redundancyService=t}updateRedundancyState(){this.redundancyService.updateRedundancy(this.host,this.redundancyAllowed).subscribe({next:()=>{const e=this.redundancyAllowed?"enabled":"disabled";this.notifier.success("Redundancy for \n          " + this.host + " is \n          " + e + "\n        ")},error:e=>this.notifier.error(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.d4),_.Y36(x.Ve))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-redundancy-checkbox"]],inputs:{redundancyAllowed:"redundancyAllowed",host:"host"},decls:1,vars:2,consts:[[3,"inputName","ngModel","ngModelChange"]],template:function(e,t){1&e&&(_.TgZ(0,"my-peertube-checkbox",0),_.NdJ("ngModelChange",function(r){return t.redundancyAllowed=r})("ngModelChange",function(){return t.updateRedundancyState()}),_.qZA()),2&e&&_.Q6J("inputName",t.host+"-redundancy-allowed")("ngModel",t.redundancyAllowed)},directives:[u_.P,a.JJ,a.On],styles:[""]}),n})();const cr=["followModal"];function gr(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",9),_.TgZ(1,"div",10),_.TgZ(2,"a",11),_.NdJ("click",function(){return _.CHM(e),_.oxw().openFollowModal()})("key.enter",function(){return _.CHM(e),_.oxw().openFollowModal()}),_._UZ(3,"my-global-icon",0),_.ynx(4),_.SDv(5,12),_.BQk(),_.qZA(),_.qZA(),_.TgZ(6,"div",13),_.TgZ(7,"my-advanced-input-filter",14),_.NdJ("search",function(i){return _.CHM(e),_.oxw().onSearch(i)}),_.qZA(),_.qZA(),_.qZA()}}function dr(n,o){1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"th",15),_.SDv(2,16),_.qZA(),_.TgZ(3,"th"),_.SDv(4,17),_.qZA(),_.TgZ(5,"th",18),_.tHW(6,19),_._UZ(7,"p-sortIcon",20),_.N_p(),_.qZA(),_.TgZ(8,"th",21),_.tHW(9,22),_._UZ(10,"p-sortIcon",23),_.N_p(),_.qZA(),_.TgZ(11,"th",24),_.tHW(12,25),_._UZ(13,"p-sortIcon",26),_.N_p(),_.qZA(),_.qZA())}function Er(n,o){1&n&&(_.TgZ(0,"td"),_.TgZ(1,"span",33),_.SDv(2,34),_.qZA(),_.qZA())}function ur(n,o){1&n&&(_.TgZ(0,"td"),_.TgZ(1,"span",35),_.SDv(2,36),_.qZA(),_.qZA())}function pr(n,o){if(1&n&&_._UZ(0,"my-redundancy-checkbox",37),2&n){const e=_.oxw().$implicit;_.Q6J("host",e.following.host)("redundancyAllowed",e.following.hostRedundancyAllowed)}}function Cr(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td",27),_.TgZ(2,"my-delete-button",28),_.NdJ("click",function(){const r=_.CHM(e).$implicit;return _.oxw().removeFollowing(r)}),_.qZA(),_.qZA(),_.TgZ(3,"td"),_.TgZ(4,"a",29),_._uU(5),_._UZ(6,"span",30),_.qZA(),_.qZA(),_.YNc(7,Er,3,0,"td",31),_.YNc(8,ur,3,0,"td",31),_.TgZ(9,"td"),_._uU(10),_.ALo(11,"date"),_.qZA(),_.TgZ(12,"td"),_.YNc(13,pr,1,2,"my-redundancy-checkbox",32),_.qZA(),_.qZA()}if(2&n){const e=o.$implicit,t=_.oxw();_.xp6(4),_.Q6J("href",e.following.url,_.LSH),_.xp6(1),_.hij(" ",e.following.name+"@"+e.following.host," "),_.xp6(2),_.Q6J("ngIf","accepted"===e.state),_.xp6(1),_.Q6J("ngIf","pending"===e.state),_.xp6(2),_.Oqu(_.xi3(11,6,e.createdAt,"short")),_.xp6(3),_.Q6J("ngIf",t.isInstanceFollowing(e))}}function Sr(n,o){1&n&&(_.ynx(0),_.SDv(1,40),_.BQk())}function Or(n,o){1&n&&(_.ynx(0),_.SDv(1,41),_.BQk())}function Tr(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",38),_.TgZ(2,"div",39),_.YNc(3,Sr,2,0,"ng-container",31),_.YNc(4,Or,2,0,"ng-container",31),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.search),_.xp6(1),_.Q6J("ngIf",!e.search)}}let Nr=(()=>{class n extends E.Ad{constructor(e,t,i){super(),this.notifier=e,this.confirmService=t,this.followService=i,this.following=[],this.totalRecords=0,this.sort={field:"createdAt",order:-1},this.pagination={count:this.rowsPerPage,start:0}}ngOnInit(){this.initialize()}getIdentifier(){return"FollowingListComponent"}openFollowModal(){this.followModal.openModal()}isInstanceFollowing(e){return"peertube"===e.following.name}removeFollowing(e){return(0,K.mG)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirm("Do you really want to unfollow \n          " + e.following.host + "?\n        ","Unfollow"))&&this.followService.unfollow(e).subscribe({next:()=>{this.notifier.success("You are not following \n          " + e.following.host + " anymore.\n        "),this.reloadData()},error:i=>this.notifier.error(i.message)})})}reloadData(){this.followService.getFollowing({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe({next:e=>{this.following=e.data,this.totalRecords=e.total},error:e=>this.notifier.error(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.d4),_.Y36(E.zM),_.Y36(Q_.gk))},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&_.Gf(cr,5),2&e){let i;_.iGM(i=_.CRH())&&(t.followModal=i.first)}},features:[_.qOj],decls:12,vars:13,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R;return o="Your instance subscriptions",e="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " hosts\n        ",t="Follow",i="Action",r="Following",s="State \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",c="Created \n          " + "\ufffd#10\ufffd" + "\n          " + "\ufffd/#10\ufffd" + "\n        ",u="Redundancy allowed \n          " + "\ufffd#13\ufffd" + "\n          " + "\ufffd/#13\ufffd" + "\n        ",p="Open instance in a new tab",d="Accepted",N="Pending",A="No host found matching current filters.",R="Your instance is not following anyone.",[["iconName","following","aria-hidden","true"],o,[3,"value","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","lazy","lazyLoadOnInit","showCurrentPageReport","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate",e],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["followModal",""],[1,"caption"],[1,"left-buttons"],[1,"follow-button",3,"click","key.enter"],t,[1,"ml-auto"],[3,"search"],[2,"width","150px"],i,r,["pSortableColumn","state",2,"width","100px"],s,["field","state"],["pSortableColumn","createdAt",2,"width","150px"],c,["field","createdAt"],["pSortableColumn","redundancyAllowed",2,"width","160px"],u,["field","redundancyAllowed"],[1,"action-cell"],["label","",3,"click"],["title",p,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"glyphicon","glyphicon-new-window"],[4,"ngIf"],[3,"host","redundancyAllowed",4,"ngIf"],[1,"badge","badge-green"],d,[1,"badge","badge-yellow"],N,[3,"host","redundancyAllowed"],["colspan","6"],[1,"no-results"],A,R]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_.qZA(),_.TgZ(4,"p-table",2),_.DtL(5,3),_.NdJ("onLazyLoad",function(r){return t.loadLazy(r)})("onPage",function(r){return t.onPage(r)})("onLazyLoad",function(r){return t.loadLazy(r)}),_.YNc(6,gr,8,0,"ng-template",4),_.YNc(7,dr,14,0,"ng-template",5),_.YNc(8,Cr,14,9,"ng-template",6),_.YNc(9,Tr,5,2,"ng-template",7),_.qZA(),_._UZ(10,"my-follow-modal",null,8)),2&e&&(_.xp6(4),_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(5),_.Q6J("value",t.following)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("lazy",!0)("lazyLoadOnInit",!1)("showCurrentPageReport",!0))},directives:[e_.$,f.iA,E_.jx,lr,T_.F,f.lQ,f.fz,L_.t,C.O5,sr],pipes:[C.uU],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0}@supports (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-inline-end:30px}}@supports not (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-right:30px}}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}","a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.follow-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.follow-button[_ngcontent-%COMP%]:hover, .follow-button[_ngcontent-%COMP%]:focus, .follow-button[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.follow-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.follow-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.follow-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.follow-button[_ngcontent-%COMP%]{padding-right:17px}}.follow-button[_ngcontent-%COMP%]:focus, .follow-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.follow-button[_ngcontent-%COMP%], .follow-button[_ngcontent-%COMP%]:active, .follow-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.follow-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.follow-button[disabled][_ngcontent-%COMP%], .follow-button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.follow-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}my-delete-button[_ngcontent-%COMP%]{max-width:130px}"]}),n})();var x_=g(9814);let Ir=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-video-redundancy-information"]],inputs:{redundancyElement:"redundancyElement"},decls:23,vars:14,consts:[[1,"label"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(e,t){1&e&&(_.TgZ(0,"div"),_.TgZ(1,"span",0),_._uU(2,"Url"),_.qZA(),_.TgZ(3,"a",1),_._uU(4),_.qZA(),_.qZA(),_.TgZ(5,"div"),_.TgZ(6,"span",0),_._uU(7,"Created on"),_.qZA(),_.TgZ(8,"span"),_._uU(9),_.ALo(10,"date"),_.qZA(),_.qZA(),_.TgZ(11,"div"),_.TgZ(12,"span",0),_._uU(13,"Expires on"),_.qZA(),_.TgZ(14,"span"),_._uU(15),_.ALo(16,"date"),_.qZA(),_.qZA(),_.TgZ(17,"div"),_.TgZ(18,"span",0),_._uU(19,"Size"),_.qZA(),_.TgZ(20,"span"),_._uU(21),_.ALo(22,"bytes"),_.qZA(),_.qZA()),2&e&&(_.xp6(3),_.Q6J("href",t.redundancyElement.fileUrl,_.LSH),_.xp6(1),_.Oqu(t.redundancyElement.fileUrl),_.xp6(5),_.Oqu(_.xi3(10,5,t.redundancyElement.createdAt,"medium")),_.xp6(6),_.Oqu(_.xi3(16,8,t.redundancyElement.expiresOn,"medium")),_.xp6(6),_.Oqu(_.xi3(22,11,t.redundancyElement.size,1)))},pipes:[C.uU,x_.$],styles:[".label[_ngcontent-%COMP%]{display:inline-block;min-width:100px;font-weight:600}"]}),n})();function Ar(n,o){1&n&&(_.TgZ(0,"th",26),_.SDv(1,27),_.qZA())}function Mr(n,o){1&n&&(_.TgZ(0,"th",28),_.SDv(1,29),_.qZA())}function mr(n,o){if(1&n&&(_.TgZ(0,"tr"),_._UZ(1,"th",18),_.TgZ(2,"th",19),_.SDv(3,20),_.qZA(),_.YNc(4,Ar,2,0,"th",21),_.TgZ(5,"th",22),_.tHW(6,23),_._UZ(7,"p-sortIcon",24),_.N_p(),_.qZA(),_.YNc(8,Mr,2,0,"th",25),_.qZA()),2&n){const e=_.oxw();_.xp6(4),_.Q6J("ngIf",e.isDisplayingRemoteVideos()),_.xp6(4),_.Q6J("ngIf",e.isDisplayingRemoteVideos())}}function Rr(n,o){if(1&n&&(_.TgZ(0,"td"),_._uU(1),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.xp6(1),_.Oqu(t.getRedundancyStrategy(e))}}function Dr(n,o){if(1&n&&(_.TgZ(0,"td"),_._uU(1),_.ALo(2,"bytes"),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.xp6(1),_.Oqu(_.xi3(2,1,t.getTotalSize(e),1))}}function fr(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_.TgZ(2,"span",30),_._UZ(3,"i",31),_.qZA(),_.qZA(),_.TgZ(4,"td",32),_.TgZ(5,"my-delete-button",33),_.NdJ("click",function(){const r=_.CHM(e).$implicit;return _.oxw().removeRedundancy(r)}),_.qZA(),_.qZA(),_.YNc(6,Rr,2,1,"td",34),_.TgZ(7,"td"),_.TgZ(8,"a",35),_._uU(9),_._UZ(10,"span",36),_.qZA(),_.qZA(),_.YNc(11,Dr,3,4,"td",34),_.qZA()}if(2&n){const e=o.expanded,t=o.$implicit,i=_.oxw();_.xp6(2),_.Q6J("pRowToggler",t),_.xp6(1),_.Q6J("ngClass",e?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right"),_.xp6(3),_.Q6J("ngIf",i.isDisplayingRemoteVideos()),_.xp6(2),_.Q6J("href",t.url,_.LSH),_.xp6(1),_.hij(" ",t.name," "),_.xp6(2),_.Q6J("ngIf",i.isDisplayingRemoteVideos())}}function Pr(n,o){if(1&n&&(_.TgZ(0,"div",39),_._UZ(1,"my-video-redundancy-information",40),_.qZA()),2&n){const e=o.$implicit;_.xp6(1),_.Q6J("redundancyElement",e)}}function br(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",37),_.YNc(2,Pr,2,1,"div",38),_.qZA(),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.xp6(1),_.uIk("colspan",t.getColspan()),_.xp6(1),_.Q6J("ngForOf",e.redundancies.files)}}function hr(n,o){if(1&n&&(_.TgZ(0,"div"),_._UZ(1,"my-video-redundancy-information",40),_.qZA()),2&n){const e=o.$implicit;_.xp6(1),_.Q6J("redundancyElement",e)}}function Lr(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",37),_.YNc(2,hr,2,1,"div",41),_.qZA(),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.xp6(1),_.uIk("colspan",t.getColspan()),_.xp6(1),_.Q6J("ngForOf",e.redundancies.streamingPlaylists)}}function Fr(n,o){if(1&n&&(_.YNc(0,br,3,2,"tr",34),_.YNc(1,Lr,3,2,"tr",34)),2&n){const e=o.$implicit;_.Q6J("ngIf",0!==e.redundancies.files.length),_.xp6(1),_.Q6J("ngIf",0!==e.redundancies.streamingPlaylists.length)}}function xr(n,o){1&n&&(_.ynx(0),_.SDv(1,44),_.BQk())}function vr(n,o){1&n&&(_.ynx(0),_.SDv(1,45),_.BQk())}function Vr(n,o){if(1&n&&(_.TgZ(0,"tr"),_.TgZ(1,"td",42),_.TgZ(2,"div",43),_.YNc(3,xr,2,0,"ng-container",34),_.YNc(4,vr,2,0,"ng-container",34),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.isDisplayingRemoteVideos()),_.xp6(1),_.Q6J("ngIf",!e.isDisplayingRemoteVideos())}}function yr(n,o){1&n&&(_.TgZ(0,"div",43),_.SDv(1,52),_.qZA())}function Ur(n,o){if(1&n&&(_.TgZ(0,"div",53),_._UZ(1,"p-chart",54),_.qZA()),2&n){const e=o.$implicit;_.xp6(1),_.Q6J("data",e.graphData)("options",e.options)}}function $r(n,o){if(1&n&&(_.TgZ(0,"div",46),_.TgZ(1,"div",47),_.SDv(2,48),_.qZA(),_.TgZ(3,"div",49),_.YNc(4,yr,2,0,"div",50),_.YNc(5,Ur,2,2,"div",51),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(4),_.Q6J("ngIf",e.noRedundancies),_.xp6(1),_.Q6J("ngForOf",e.redundanciesGraphsData)}}let Gr=(()=>{class n extends E.Ad{constructor(e,t,i,r){super(),this.notifier=e,this.confirmService=t,this.redundancyService=i,this.serverService=r,this.videoRedundancies=[],this.totalRecords=0,this.sort={field:"name",order:1},this.pagination={count:this.rowsPerPage,start:0},this.displayType="my-videos",this.redundanciesGraphsData=[],this.noRedundancies=!1,this.bytesPipe=new x.$N}getIdentifier(){return"VideoRedundanciesListComponent"}ngOnInit(){this.loadSelectLocalStorage(),this.initialize(),this.serverService.getServerStats().subscribe(e=>{const t=e.videosRedundancy;0===t.length&&(this.noRedundancies=!0);for(const i of t)this.buildPieData(i)})}getColspan(){return this.isDisplayingRemoteVideos()?5:4}isDisplayingRemoteVideos(){return"remote-videos"===this.displayType}getTotalSize(e){return e.redundancies.files.reduce((t,i)=>t+i.size,0)+e.redundancies.streamingPlaylists.reduce((t,i)=>t+i.size,0)}onDisplayTypeChanged(){this.pagination.start=0,this.saveSelectLocalStorage(),this.reloadData()}getRedundancyStrategy(e){return 0!==e.redundancies.files.length?e.redundancies.files[0].strategy:0!==e.redundancies.streamingPlaylists.length?e.redundancies.streamingPlaylists[0].strategy:""}buildPieData(e){const t=e.totalSize?e.totalSize-e.totalUsed:e.totalUsed;0!==t&&this.redundanciesGraphsData.push({stats:e,graphData:{labels:["Used","Available"],datasets:[{data:[e.totalUsed,t],backgroundColor:["#FF6384","#36A2EB"],hoverBackgroundColor:["#FF6384","#36A2EB"]}]},options:{plugins:{title:{display:!0,text:e.strategy},tooltip:{callbacks:{label:i=>{let r=i.label||"";return r&&(r+=": "),r+=this.bytesPipe.transform(i.raw,1),r}}}}}})}removeRedundancy(e){return(0,K.mG)(this,void 0,void 0,function*(){const t="Do you really want to remove this video redundancy?";!1!==(yield this.confirmService.confirm(t,"Remove redundancy"))&&this.redundancyService.removeVideoRedundancies(e).subscribe({next:()=>{this.notifier.success("Video redundancies removed!"),this.reloadData()},error:r=>this.notifier.error(r.message)})})}reloadData(){this.redundancyService.listVideoRedundancies({pagination:this.pagination,sort:this.sort,target:this.displayType}).subscribe({next:t=>{this.videoRedundancies=t.data,this.totalRecords=t.total},error:t=>this.notifier.error(t.message)})}loadSelectLocalStorage(){const e=M_.X.getItem(n.LOCAL_STORAGE_DISPLAY_TYPE);e&&(this.displayType=e)}saveSelectLocalStorage(){M_.X.setItem(n.LOCAL_STORAGE_DISPLAY_TYPE,this.displayType)}}return n.LOCAL_STORAGE_DISPLAY_TYPE="video-redundancies-list-display-type",n.\u0275fac=function(e){return new(e||n)(_.Y36(E.d4),_.Y36(E.zM),_.Y36(x.Ve),_.Y36(E.NG))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-video-redundancies-list"]],features:[_.qOj],decls:20,vars:11,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I;return o="Videos redundancies",e="\u0E41\u0E2A\u0E14\u0E07",t="My videos duplicated by remote instances",i="Remote videos duplicated by my instance",r="Action",s="Video \n          " + "\ufffd#7\ufffd" + "\n          " + "\ufffd/#7\ufffd" + "\n        ",c="Strategy",u="Total size",p="List redundancies",d="Open video in a new tab",N="Your instance doesn't mirror any video.",A="Your instance has no mirrored videos.",R="Enabled strategies stats",I="\n      No redundancy strategy is enabled on your instance.\n    ",[["iconName","videos","aria-hidden","true"],o,[1,"admin-sub-header"],[1,"select-filter-block"],["for","displayType"],e,[1,"peertube-select-container"],["id","displayType","name","displayType",1,"form-control",3,"ngModel","ngModelChange"],["value","my-videos"],t,["value","remote-videos"],i,["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","expandedRowKeys","onLazyLoad","onPage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["class","redundancies-charts",4,"ngIf"],[2,"width","40px"],[2,"width","150px"],r,["style","width: 160px;",4,"ngIf"],["pSortableColumn","name"],s,["field","name"],["style","width: 100px;",4,"ngIf"],[2,"width","160px"],c,[2,"width","100px"],u,["ngbTooltip",p,1,"expander",3,"pRowToggler"],[3,"ngClass"],[1,"action-cell"],["label","",3,"click"],[4,"ngIf"],["title",d,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"glyphicon","glyphicon-new-window"],[1,"expand-cell"],["class","expansion-block",4,"ngFor","ngForOf"],[1,"expansion-block"],[3,"redundancyElement"],[4,"ngFor","ngForOf"],["colspan","6"],[1,"no-results"],N,A,[1,"redundancies-charts"],[1,"form-sub-title"],R,[1,"chart-blocks"],["class","no-results",4,"ngIf"],["class","chart-block",4,"ngFor","ngForOf"],I,[1,"chart-block"],["type","pie","width","300px","height","300px",3,"data","options"]]},template:function(e,t){1&e&&(_.TgZ(0,"h1"),_._UZ(1,"my-global-icon",0),_.ynx(2),_.SDv(3,1),_.BQk(),_.qZA(),_.TgZ(4,"div",2),_.TgZ(5,"div",3),_.TgZ(6,"label",4),_.SDv(7,5),_.qZA(),_.TgZ(8,"div",6),_.TgZ(9,"select",7),_.NdJ("ngModelChange",function(r){return t.displayType=r})("ngModelChange",function(){return t.onDisplayTypeChanged()}),_.TgZ(10,"option",8),_.SDv(11,9),_.qZA(),_.TgZ(12,"option",10),_.SDv(13,11),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"p-table",12),_.NdJ("onLazyLoad",function(r){return t.loadLazy(r)})("onPage",function(r){return t.onPage(r)}),_.YNc(15,mr,9,2,"ng-template",13),_.YNc(16,fr,12,6,"ng-template",14),_.YNc(17,Fr,2,2,"ng-template",15),_.YNc(18,Vr,5,2,"ng-template",16),_.qZA(),_.YNc(19,$r,6,2,"div",17)),2&e&&(_.xp6(9),_.Q6J("ngModel",t.displayType),_.xp6(5),_.Q6J("value",t.videoRedundancies)("lazy",!0)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("expandedRowKeys",t.expandedRows),_.xp6(5),_.Q6J("ngIf",t.isDisplayingRemoteVideos()))},directives:[e_.$,a.EJ,a.JJ,a.On,a.YN,a.Kr,f.iA,E_.jx,C.O5,f.lQ,f.fz,J._L,f.jB,C.mk,L_.t,C.sg,Ir,l.C],pipes:[x_.$],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0}@supports (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-inline-end:30px}}@supports not (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-right:30px}}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}",'a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--mainForegroundColor)}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:80%;color:var(--inputPlaceholderColor)}.expansion-block[_ngcontent-%COMP%]{margin-bottom:20px}.admin-sub-header[_ngcontent-%COMP%]{justify-content:flex-end}@supports (margin-inline-end: 10px){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-inline-end:10px}}@supports not (margin-inline-end: 10px){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:2px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:auto;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: auto){.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{width:100%}}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .admin-sub-header[_ngcontent-%COMP%]   .select-filter-block[_ngcontent-%COMP%]   .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.redundancies-charts[_ngcontent-%COMP%]{margin-top:50px}.redundancies-charts[_ngcontent-%COMP%]   .chart-blocks[_ngcontent-%COMP%]{display:flex;justify-content:center}.redundancies-charts[_ngcontent-%COMP%]   .chart-blocks[_ngcontent-%COMP%]   .chart-block[_ngcontent-%COMP%]{margin:0 20px}']}),n})();const Zr=[{path:"follows",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[P.lC],styles:[".form-sub-title[_ngcontent-%COMP%]{flex-grow:0}@supports (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-inline-end:30px}}@supports not (margin-inline-end: 30px){.form-sub-title[_ngcontent-%COMP%]{margin-right:30px}}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}"]}),n})(),canActivate:[E.p3],data:{userRight:2},children:[{path:"",redirectTo:"following-list",pathMatch:"full"},{path:"following-list",component:Nr,data:{meta:{title:"Following"}}},{path:"followers-list",component:er,data:{meta:{title:"Followers"}}},{path:"following-add",redirectTo:"following-list"},{path:"video-redundancies-list",component:Gr}]}];var J_=g(60195);let se=(()=>{class n extends v.OI{constructor(){super(...arguments),this.videoQuotaOptions=[],this.videoQuotaDailyOptions=[],this.roles=[]}ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.buildRoles()}get subscribersCount(){return(this.user?this.user.account.followersCount:0)+(this.user?this.user.videoChannels.map(i=>i.followersCount).reduce((i,r)=>i+r,0):0)}getAuthPlugins(){return this.serverConfig.plugin.registeredIdAndPassAuths.map(e=>e.npmName).concat(this.serverConfig.plugin.registeredExternalAuths.map(e=>e.npmName))}isInBigView(){return this.screenService.getWindowInnerWidth()>1600}buildRoles(){this.roles=this.auth.getUser().role!==z.i4.ADMINISTRATOR?[{value:z.i4.USER.toString(),label:J_.J[z.i4.USER]}]:Object.keys(J_.J).map(t=>({value:t.toString(),label:J_.J[t]}))}isTranscodingInformationDisplayed(){const e=parseInt(this.form.value.videoQuota,10);return 0!==this.serverConfig.transcoding.enabledResolutions.length&&e>0}computeQuotaWithTranscoding(){const e=this.serverConfig.transcoding,t=e.enabledResolutions;let r=0;for(const s of t)r+=s/2160;return e.hls.enabled&&(r*=2),r*parseInt(this.form.value.videoQuota,10)}resetPassword(){}buildAdminFlags(e){return e.byPassAutoBlock?1:0}buildQuotaOptions(){this.videoQuotaOptions=this.configService.videoQuotaOptions,this.videoQuotaDailyOptions=this.configService.videoQuotaDailyOptions}}return n.\u0275fac=function(){let o;return function(t){return(o||(o=_.n5z(n)))(t||n)}}(),n.\u0275dir=_.lG2({type:n,features:[_.qOj]}),n})();var ce=g(19943),ge=g(2003);function wr(n,o){1&n&&(_.ynx(0),_.SDv(1,9),_.BQk())}function Br(n,o){1&n&&(_.ynx(0),_.SDv(1,10),_.BQk())}function kr(n,o){if(1&n&&(_.TgZ(0,"div",11),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.password," ")}}const Yr=function(n){return{"input-error":n}};let de=(()=>{class n extends v.OI{constructor(e,t,i){super(),this.formValidatorService=e,this.notifier=t,this.userService=i,this.showPassword=!1}ngOnInit(){this.buildForm({password:Q.$T})}formValidated(){this.error=void 0,this.userService.updateUser(this.userId,this.form.value).subscribe({next:()=>this.notifier.success("Password changed for user \n          " + this.username + ".\n        "),error:t=>{this.error=t.message}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}getFormButtonTitle(){return "Update user password"}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(v.Q4),_.Y36(E.d4),_.Y36(E.KD))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-user-password"]],inputs:{userId:"userId"},features:[_.qOj],decls:10,vars:10,consts:function(){let o,e;return o="\u0E41\u0E2A\u0E14\u0E07",e="\u0E0B\u0E48\u0E2D\u0E19",[["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[4,"ngIf"],["class","form-error",4,"ngIf"],["type","submit",3,"value","disabled"],o,e,[1,"form-error"]]},template:function(e,t){1&e&&(_.TgZ(0,"form",0),_.NdJ("ngSubmit",function(){return t.formValidated()}),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_._UZ(3,"input",3),_.TgZ(4,"div",4),_.TgZ(5,"button",5),_.NdJ("click",function(){return t.togglePasswordVisibility()}),_.YNc(6,wr,2,0,"ng-container",6),_.YNc(7,Br,2,0,"ng-container",6),_.qZA(),_.qZA(),_.qZA(),_.YNc(8,kr,2,1,"div",7),_.qZA(),_._UZ(9,"input",8),_.qZA()),2&e&&(_.Q6J("formGroup",t.form),_.xp6(3),_.Q6J("ngClass",_.VKq(8,Yr,t.formErrors.password)),_.uIk("type",t.showPassword?"text":"password"),_.xp6(3),_.Q6J("ngIf",!t.showPassword),_.xp6(1),_.Q6J("ngIf",!!t.showPassword),_.xp6(1),_.Q6J("ngIf",t.formErrors.password),_.xp6(1),_.s9C("value",t.getFormButtonTitle()),_.Q6J("disabled",!t.form.valid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,C.mk,C.O5],styles:["input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox]){padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px 0 0 3px;font-size:15px;display:block;border-right:0}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox])[readonly]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[_ngcontent-%COMP%]:not([type=submit]):not([type=checkbox]){width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#d56253;color:#fff6f5;margin-top:10px}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #d562530d}input[type=submit][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{background-color:#df877c}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff6f5}input[type=submit][_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.input-group-append[_ngcontent-%COMP%]{height:30px}"]}),n})();function qr(n,o){1&n&&(_.ynx(0),_.TgZ(1,"li",37),_.SDv(2,38),_.qZA(),_.BQk())}const Kr=function(n){return["/a",n]};function zr(n,o){if(1&n&&(_.TgZ(0,"a",42),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.Q6J("routerLink",_.VKq(2,Kr,null==e.user?null:e.user.username)),_.xp6(1),_.Oqu(null==e.user?null:e.user.username)}}function Xr(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"li",37),_.SDv(2,39),_.qZA(),_.TgZ(3,"li",40),_.YNc(4,zr,2,4,"a",41),_.qZA(),_.BQk()),2&n){const e=_.oxw();_.xp6(4),_.Q6J("ngIf",e.user)}}const Ee=function(){return["/admin/moderation/abuses/list"]},ue=function(n){return{search:n}};function Qr(n,o){if(1&n&&(_.TgZ(0,"div",44),_.TgZ(1,"div"),_.TgZ(2,"a"),_.TgZ(3,"div",45),_._uU(4),_.ALo(5,"bytes"),_.qZA(),_.TgZ(6,"div",46),_.SDv(7,47),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div"),_.TgZ(9,"a"),_.TgZ(10,"div",45),_._uU(11),_.qZA(),_.TgZ(12,"div",46),_.SDv(13,48),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"div"),_.TgZ(15,"a"),_.TgZ(16,"div",45),_._uU(17),_.qZA(),_.TgZ(18,"div",46),_.SDv(19,49),_.qZA(),_.qZA(),_.qZA(),_.TgZ(20,"div"),_.TgZ(21,"a",50),_.TgZ(22,"div",45),_._uU(23),_.qZA(),_.TgZ(24,"div",46),_.SDv(25,51),_.qZA(),_.qZA(),_.qZA(),_.TgZ(26,"div"),_.TgZ(27,"a",50),_.TgZ(28,"div",45),_._uU(29),_.qZA(),_.TgZ(30,"div",46),_.SDv(31,52),_.qZA(),_.qZA(),_.qZA(),_.TgZ(32,"div"),_.TgZ(33,"a"),_.TgZ(34,"div",45),_._uU(35),_.qZA(),_.TgZ(36,"div",46),_.SDv(37,53),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw(2);_.xp6(4),_.AsE("",e.user.videosCount," (",_.xi3(5,16,e.user.videoQuotaUsed,0),")"),_.xp6(3),_.pQV(e.user.videosCount),_.QtT(7),_.xp6(4),_.Oqu(e.user.videoChannels.length||0),_.xp6(2),_.pQV(e.user.videoChannels.length),_.QtT(13),_.xp6(4),_.Oqu(e.subscribersCount),_.xp6(2),_.pQV(e.subscribersCount),_.QtT(19),_.xp6(2),_.Q6J("routerLink",_.DdM(19,Ee))("queryParams",_.VKq(20,ue,'reportee:"'+(null==e.user?null:e.user.account.displayName)+'"')),_.xp6(2),_.Oqu(e.user.abusesCount),_.xp6(4),_.Q6J("routerLink",_.DdM(22,Ee))("queryParams",_.VKq(23,ue,'reporter:"'+(null==e.user?null:e.user.account.displayName)+'" state:accepted')),_.xp6(2),_.AsE("",e.user.abusesAcceptedCount," / ",e.user.abusesCreatedCount,""),_.xp6(6),_.Oqu(e.user.videoCommentsCount),_.xp6(2),_.pQV(e.user.videoCommentsCount),_.QtT(37)}}function Jr(n,o){if(1&n&&_.YNc(0,Qr,38,25,"div",43),2&n){const e=_.oxw();_.Q6J("ngIf",!e.isCreation()&&e.user)}}function Wr(n,o){}function Hr(n,o){1&n&&_.YNc(0,Wr,0,0,"ng-template")}function jr(n,o){if(1&n&&(_.TgZ(0,"div",54),_._UZ(1,"div",55),_.TgZ(2,"div",56),_.YNc(3,Hr,1,0,void 0,57),_.qZA(),_.qZA()),2&n){_.oxw();const e=_.MAs(8);_.xp6(3),_.Q6J("ngTemplateOutlet",e)}}function _a(n,o){if(1&n&&(_.TgZ(0,"div",58),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.error)}}function ea(n,o){1&n&&(_.TgZ(0,"div",59),_.SDv(1,60),_.qZA())}function na(n,o){if(1&n&&(_.TgZ(0,"div",59),_._UZ(1,"my-actor-avatar-edit",61),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Q6J("actor",e.user.account)("editable",!1)("displaySubscribers",!1)("displayUsername",!1)}}function ta(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij(" ",e.formErrors.username," ")}}const v_=function(n){return{"input-error":n}};function oa(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",62),_.SDv(2,63),_.qZA(),_._UZ(3,"input",64),_.YNc(4,ta,2,1,"div",20),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngClass",_.VKq(2,v_,e.formErrors.username)),_.xp6(1),_.Q6J("ngIf",e.formErrors.username)}}function ia(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij(" ",e.formErrors.channelName," ")}}function ra(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",66),_.SDv(2,67),_.qZA(),_._UZ(3,"input",68),_.YNc(4,ia,2,1,"div",20),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngClass",_.VKq(2,v_,e.formErrors.channelName)),_.xp6(1),_.Q6J("ngIf",e.formErrors.channelName)}}function aa(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.email," ")}}function la(n,o){1&n&&(_.ynx(0),_.SDv(1,73),_.BQk())}function sa(n,o){1&n&&(_.TgZ(0,"my-help"),_.YNc(1,la,2,0,"ng-template",72),_.qZA())}function ca(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij(" ",e.formErrors.password," ")}}function ga(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",69),_.SDv(2,70),_.qZA(),_.YNc(3,sa,2,0,"my-help",5),_._UZ(4,"my-input-toggle-hidden",71),_.YNc(5,ca,2,1,"div",20),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.isPasswordOptional()),_.xp6(1),_.Q6J("ngClass",_.VKq(3,v_,e.formErrors.password)),_.xp6(1),_.Q6J("ngIf",e.formErrors.password)}}function da(n,o){if(1&n&&(_.TgZ(0,"option",74),_._uU(1),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.label," ")}}function Ea(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.role," ")}}function ua(n,o){if(1&n&&(_.TgZ(0,"div",75),_.tHW(1,76),_._UZ(2,"strong"),_._UZ(3,"br"),_.ALo(4,"bytes"),_.N_p(),_.qZA()),2&n){const e=_.oxw();_.xp6(4),_.pQV(_.xi3(4,1,e.computeQuotaWithTranscoding(),0)),_.QtT(1)}}function pa(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.videoQuota," ")}}function Ca(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.videoQuotaDaily," ")}}function Sa(n,o){if(1&n&&(_.TgZ(0,"option",74),_._uU(1),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e),_.xp6(1),_.Oqu(e)}}function Oa(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",77),_.SDv(2,78),_.qZA(),_.TgZ(3,"div",23),_.TgZ(4,"select",79),_.TgZ(5,"option",74),_.SDv(6,80),_.qZA(),_.YNc(7,Sa,2,2,"option",25),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(5),_.Q6J("value",null),_.xp6(2),_.Q6J("ngForOf",e.getAuthPlugins())}}function Ta(n,o){}function Na(n,o){1&n&&_.YNc(0,Ta,0,0,"ng-template")}function Ia(n,o){if(1&n&&(_.TgZ(0,"div",81),_.YNc(1,Na,1,0,void 0,57),_.qZA()),2&n){_.oxw();const e=_.MAs(8);_.xp6(1),_.Q6J("ngTemplateOutlet",e)}}const pe=function(n){return{"form-row":n}};function Aa(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",9),_.TgZ(1,"div",10),_._UZ(2,"div",82),_.TgZ(3,"div",83),_.SDv(4,84),_.qZA(),_.qZA(),_.TgZ(5,"div",13),_.TgZ(6,"div",85),_.TgZ(7,"div",86),_.TgZ(8,"label"),_.SDv(9,87),_.qZA(),_.TgZ(10,"button",88),_.NdJ("click",function(){return _.CHM(e),_.oxw().resetPassword()}),_.SDv(11,89),_.qZA(),_.qZA(),_.TgZ(12,"div",16),_.TgZ(13,"label"),_.SDv(14,90),_.qZA(),_._UZ(15,"my-user-password",91),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&n){const e=_.oxw();_.xp6(5),_.Q6J("ngClass",_.VKq(2,pe,e.isInBigView())),_.xp6(10),_.Q6J("userId",e.user.id)}}const Ma=function(n){return{"col-5":n}};let ma=(()=>{class n extends se{constructor(e,t,i,r,s,c,u,p){super(),this.serverService=e,this.formValidatorService=t,this.configService=i,this.screenService=r,this.auth=s,this.router=c,this.notifier=u,this.userService=p,this.buildQuotaOptions()}ngOnInit(){super.ngOnInit();const e={role:z.i4.USER.toString(),videoQuota:-1,videoQuotaDaily:-1};this.buildForm({username:Q.FC,channelName:Q.JP,email:Q.oo,password:this.isPasswordOptional()?Q.Pq:Q.$T,role:Q.Kx,videoQuota:Q.Io,videoQuotaDaily:Q.Yy,byPassAutoBlock:null},e)}formValidated(){this.error=void 0;const e=this.form.value;e.adminFlags=this.buildAdminFlags(this.form.value),e.videoQuota=parseInt(this.form.value.videoQuota,10),e.videoQuotaDaily=parseInt(this.form.value.videoQuotaDaily,10),this.userService.addUser(e).subscribe({next:()=>{this.notifier.success("User \n          " + e.username + " created.\n        "),this.router.navigate(["/admin/users/list"])},error:t=>{this.error=t.message}})}isCreation(){return!0}isPasswordOptional(){return this.serverConfig.email.enabled}getFormButtonTitle(){return "\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49"}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(E.NG),_.Y36(v.Q4),_.Y36(q),_.Y36(E.H2),_.Y36(E.e8),_.Y36(P.F0),_.Y36(E.d4),_.Y36(E.KD))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-user-create"]],features:[_.qOj],decls:50,vars:35,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b,M,Z,w,B,k,F,X,W,G,H,j,h,i_,r_,a_;return o="Users",e="\u0E2D\u0E35\u0E40\u0E21\u0E25",t="mail@example.com",i="\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48",r="\u0E1B\u0E23\u0E34\u0E21\u0E32\u0E13\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E31\u0E1B\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E14\u0E49",s="bytes",c="\u0E42\u0E04\u0E27\u0E15\u0E49\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E15\u0E48\u0E2D\u0E27\u0E31\u0E19",u="bytes",p="Doesn't need review before a video goes public",d="\u0E2A\u0E23\u0E49\u0E32\u0E07",N="\u0E41\u0E01\u0E49\u0E44\u0E02",A="{VAR_PLURAL, plural, =1 {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D} other {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D}}",A=_.Zx4(A,{VAR_PLURAL:"\ufffd0\ufffd"}),R="{VAR_PLURAL, plural, =1 {\u0E0A\u0E48\u0E2D\u0E07} other {\u0E0A\u0E48\u0E2D\u0E07}}",R=_.Zx4(R,{VAR_PLURAL:"\ufffd0\ufffd"}),I="{VAR_PLURAL, plural, =1 {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21} other {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21}}",I=_.Zx4(I,{VAR_PLURAL:"\ufffd0\ufffd"}),S="Incriminated in reports",b="Authored reports accepted",M="{VAR_PLURAL, plural, =1 {Comment} other {Comments}}",M=_.Zx4(M,{VAR_PLURAL:"\ufffd0\ufffd"}),Z="NEW USER",w="\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49",B="john",k="\u0E0A\u0E37\u0E48\u0E2D\u0E0A\u0E48\u0E2D\u0E07",F="john_channel",X="\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19",W="\n              If you leave the password empty, an email will be sent to the user.\n            ",G="\n          Transcoding is enabled. The video quota only takes into account \n          " + "\ufffd#2\ufffd" + "original\n          " + "\ufffd/#2\ufffd" + " video size. \n          " + "\ufffd#3\ufffd\ufffd/#3\ufffd" + "\n          At most, this user could upload ~ \n          " + "\ufffd0\ufffd" + ".\n        \n        ",H="Auth plugin",j="None (local authentication)",h="\u0E40\u0E02\u0E15\u0E2D\u0E31\u0E19\u0E15\u0E23\u0E32\u0E22",i_="Send a link to reset the password by email to the user",r_="Ask for new password",a_="Manually set the user password",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/users"],o,[4,"ngIf"],["dashboard",""],["class","form-row",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-row","mt-4"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","user",1,"anchor"],["class","account-title",4,"ngIf"],[1,"form-group","col-12","col-lg-8","col-xl-9",3,"ngClass"],["role","form",3,"formGroup","ngClass","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],e,["type","text","id","email","placeholder",t,"formControlName","email","autocomplete","off",1,"form-control",3,"ngClass","readonly"],["class","form-error",4,"ngIf"],["for","role"],i,[1,"peertube-select-container"],["id","role","formControlName","role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","videoQuota"],r,["id","videoQuota","formControlName","videoQuota","inputSuffix",s,"inputType","number",3,"items","clearable"],["class","transcoding-information",4,"ngIf"],["for","videoQuotaDaily"],c,["id","videoQuotaDaily","formControlName","videoQuotaDaily","inputSuffix",u,"inputType","number",3,"items","clearable"],["inputName","byPassAutoBlock","formControlName","byPassAutoBlock","labelText",p],["type","submit",3,"value","disabled"],["class","col-7",4,"ngIf"],["class","form-row mt-4",4,"ngIf"],[1,"breadcrumb-item","active"],d,N,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["class","dashboard",4,"ngIf"],[1,"dashboard"],[1,"dashboard-num"],[1,"dashboard-label"],A,R,I,[3,"routerLink","queryParams"],S,b,M,[1,"form-row"],[1,"col-12","col-xl-3"],[1,"col-12","col-xl-9"],[4,"ngTemplateOutlet"],[1,"alert","alert-danger"],[1,"account-title"],Z,[3,"actor","editable","displaySubscribers","displayUsername"],["for","username"],w,["type","text","id","username","placeholder",B,"formControlName","username",1,"form-control",3,"ngClass"],[1,"form-error"],["for","channelName"],k,["type","text","id","channelName","placeholder",F,"formControlName","channelName",1,"form-control",3,"ngClass"],["for","password"],X,["formControlName","password","inputId","password","autocomplete","new-password",3,"ngClass"],["ptTemplate","customHtml"],W,[3,"value"],[1,"transcoding-information"],G,["for","pluginAuth"],H,["id","pluginAuth","formControlName","pluginAuth",1,"form-control"],j,[1,"col-7"],["id","danger",1,"anchor"],[1,"account-title","account-title-danger"],h,[1,"danger-zone"],[1,"form-group","reset-password-email"],i_,[3,"click"],r_,a_,[3,"userId"]]},template:function(e,t){1&e&&(_.TgZ(0,"nav",0),_.TgZ(1,"ol",1),_.TgZ(2,"li",2),_.TgZ(3,"a",3),_.SDv(4,4),_.qZA(),_.qZA(),_.YNc(5,qr,3,0,"ng-container",5),_.YNc(6,Xr,5,1,"ng-container",5),_.qZA(),_.qZA(),_.YNc(7,Jr,1,1,"ng-template",null,6,_.W1O),_.YNc(9,jr,4,1,"div",7),_.YNc(10,_a,2,1,"div",8),_.TgZ(11,"div",9),_.TgZ(12,"div",10),_._UZ(13,"div",11),_.YNc(14,ea,2,0,"div",12),_.YNc(15,na,2,4,"div",12),_.qZA(),_.TgZ(16,"div",13),_.TgZ(17,"form",14),_.NdJ("ngSubmit",function(){return t.formValidated()}),_.YNc(18,oa,5,4,"div",15),_.YNc(19,ra,5,4,"div",15),_.TgZ(20,"div",16),_.TgZ(21,"label",17),_.SDv(22,18),_.qZA(),_._UZ(23,"input",19),_.YNc(24,aa,2,1,"div",20),_.qZA(),_.YNc(25,ga,6,5,"div",15),_.TgZ(26,"div",16),_.TgZ(27,"label",21),_.SDv(28,22),_.qZA(),_.TgZ(29,"div",23),_.TgZ(30,"select",24),_.YNc(31,da,2,2,"option",25),_.qZA(),_.qZA(),_.YNc(32,Ea,2,1,"div",20),_.qZA(),_.TgZ(33,"div",16),_.TgZ(34,"label",26),_.SDv(35,27),_.qZA(),_._UZ(36,"my-select-custom-value",28),_.YNc(37,ua,5,4,"div",29),_.YNc(38,pa,2,1,"div",20),_.qZA(),_.TgZ(39,"div",16),_.TgZ(40,"label",30),_.SDv(41,31),_.qZA(),_._UZ(42,"my-select-custom-value",32),_.YNc(43,Ca,2,1,"div",20),_.qZA(),_.YNc(44,Oa,8,2,"div",15),_.TgZ(45,"div",16),_._UZ(46,"my-peertube-checkbox",33),_.qZA(),_._UZ(47,"input",34),_.qZA(),_.YNc(48,Ia,2,1,"div",35),_.qZA(),_.qZA(),_.YNc(49,Aa,16,4,"div",36)),2&e&&(_.xp6(5),_.Q6J("ngIf",t.isCreation()),_.xp6(1),_.Q6J("ngIf",!t.isCreation()),_.xp6(3),_.Q6J("ngIf",!t.isInBigView()),_.xp6(1),_.Q6J("ngIf",t.error),_.xp6(4),_.Q6J("ngIf",t.isCreation()),_.xp6(1),_.Q6J("ngIf",!t.isCreation()&&t.user),_.xp6(1),_.Q6J("ngClass",_.VKq(29,pe,t.isInBigView())),_.xp6(1),_.Q6J("formGroup",t.form)("ngClass",_.VKq(31,Ma,t.isInBigView())),_.xp6(1),_.Q6J("ngIf",t.isCreation()),_.xp6(1),_.Q6J("ngIf",t.isCreation()),_.xp6(4),_.Q6J("ngClass",_.VKq(33,v_,t.formErrors.email))("readonly",t.user&&null!==t.user.pluginAuth),_.xp6(1),_.Q6J("ngIf",t.formErrors.email),_.xp6(1),_.Q6J("ngIf",t.isCreation()),_.xp6(6),_.Q6J("ngForOf",t.roles),_.xp6(1),_.Q6J("ngIf",t.formErrors.role),_.xp6(4),_.Q6J("items",t.videoQuotaOptions)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.isTranscodingInformationDisplayed()),_.xp6(1),_.Q6J("ngIf",t.formErrors.videoQuota),_.xp6(4),_.Q6J("items",t.videoQuotaDailyOptions)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.videoQuotaDaily),_.xp6(1),_.Q6J("ngIf",!t.isCreation()&&0!==t.getAuthPlugins().length),_.xp6(3),_.s9C("value",t.getFormButtonTitle()),_.Q6J("disabled",!t.form.valid),_.xp6(1),_.Q6J("ngIf",t.isInBigView()),_.xp6(1),_.Q6J("ngIf",!t.isCreation()&&t.user&&null===t.user.pluginAuth))},directives:[P.yS,C.O5,C.mk,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,C.sg,f_,u_.P,C.tP,ce.v,ge.X,C_.I,s_.Y,a.YN,a.Kr,de],pipes:[x_.$],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}input[_ngcontent-%COMP%]:not([type=submit]){padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}my-input-toggle-hidden[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-input-toggle-hidden[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-custom-value[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-custom-value[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;margin-top:10px}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.transcoding-information[_ngcontent-%COMP%]{margin-top:5px;font-size:11px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]{margin-bottom:30px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#d56253;color:#fff6f5;display:block;margin-top:0}@supports (padding-inline-start: 13px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-right:17px}}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #d562530d}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{background-color:#df877c}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{cursor:default}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuBackgroundColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}@supports (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-inline-start:.5rem}}@supports not (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;color:#6c757d;content:"/"}@supports (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-inline-end:.5rem}}@supports not (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-right:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px;max-width:900px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 33.3333333333%;padding:0 5px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;font-size:18px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{opacity:.8}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;background:var(--submenuBackgroundColor);border-radius:4px;box-sizing:border-box;height:100%}.dashboard[_ngcontent-%COMP%]   .dashboard-num[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard-text[_ngcontent-%COMP%]{text-align:center;font-size:130%;color:var(--mainForegroundColor);line-height:30px;margin-bottom:20px}.dashboard[_ngcontent-%COMP%]   .dashboard-label[_ngcontent-%COMP%]{font-size:90%;color:var(--inputPlaceholderColor);text-align:center}']}),n})();function Ra(n,o){1&n&&(_.ynx(0),_.TgZ(1,"li",37),_.SDv(2,38),_.qZA(),_.BQk())}const Da=function(n){return["/a",n]};function fa(n,o){if(1&n&&(_.TgZ(0,"a",42),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.Q6J("routerLink",_.VKq(2,Da,null==e.user?null:e.user.username)),_.xp6(1),_.Oqu(null==e.user?null:e.user.username)}}function Pa(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"li",37),_.SDv(2,39),_.qZA(),_.TgZ(3,"li",40),_.YNc(4,fa,2,4,"a",41),_.qZA(),_.BQk()),2&n){const e=_.oxw();_.xp6(4),_.Q6J("ngIf",e.user)}}const Ce=function(){return["/admin/moderation/abuses/list"]},Se=function(n){return{search:n}};function ba(n,o){if(1&n&&(_.TgZ(0,"div",44),_.TgZ(1,"div"),_.TgZ(2,"a"),_.TgZ(3,"div",45),_._uU(4),_.ALo(5,"bytes"),_.qZA(),_.TgZ(6,"div",46),_.SDv(7,47),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div"),_.TgZ(9,"a"),_.TgZ(10,"div",45),_._uU(11),_.qZA(),_.TgZ(12,"div",46),_.SDv(13,48),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"div"),_.TgZ(15,"a"),_.TgZ(16,"div",45),_._uU(17),_.qZA(),_.TgZ(18,"div",46),_.SDv(19,49),_.qZA(),_.qZA(),_.qZA(),_.TgZ(20,"div"),_.TgZ(21,"a",50),_.TgZ(22,"div",45),_._uU(23),_.qZA(),_.TgZ(24,"div",46),_.SDv(25,51),_.qZA(),_.qZA(),_.qZA(),_.TgZ(26,"div"),_.TgZ(27,"a",50),_.TgZ(28,"div",45),_._uU(29),_.qZA(),_.TgZ(30,"div",46),_.SDv(31,52),_.qZA(),_.qZA(),_.qZA(),_.TgZ(32,"div"),_.TgZ(33,"a"),_.TgZ(34,"div",45),_._uU(35),_.qZA(),_.TgZ(36,"div",46),_.SDv(37,53),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw(2);_.xp6(4),_.AsE("",e.user.videosCount," (",_.xi3(5,16,e.user.videoQuotaUsed,0),")"),_.xp6(3),_.pQV(e.user.videosCount),_.QtT(7),_.xp6(4),_.Oqu(e.user.videoChannels.length||0),_.xp6(2),_.pQV(e.user.videoChannels.length),_.QtT(13),_.xp6(4),_.Oqu(e.subscribersCount),_.xp6(2),_.pQV(e.subscribersCount),_.QtT(19),_.xp6(2),_.Q6J("routerLink",_.DdM(19,Ce))("queryParams",_.VKq(20,Se,'reportee:"'+(null==e.user?null:e.user.account.displayName)+'"')),_.xp6(2),_.Oqu(e.user.abusesCount),_.xp6(4),_.Q6J("routerLink",_.DdM(22,Ce))("queryParams",_.VKq(23,Se,'reporter:"'+(null==e.user?null:e.user.account.displayName)+'" state:accepted')),_.xp6(2),_.AsE("",e.user.abusesAcceptedCount," / ",e.user.abusesCreatedCount,""),_.xp6(6),_.Oqu(e.user.videoCommentsCount),_.xp6(2),_.pQV(e.user.videoCommentsCount),_.QtT(37)}}function ha(n,o){if(1&n&&_.YNc(0,ba,38,25,"div",43),2&n){const e=_.oxw();_.Q6J("ngIf",!e.isCreation()&&e.user)}}function La(n,o){}function Fa(n,o){1&n&&_.YNc(0,La,0,0,"ng-template")}function xa(n,o){if(1&n&&(_.TgZ(0,"div",54),_._UZ(1,"div",55),_.TgZ(2,"div",56),_.YNc(3,Fa,1,0,void 0,57),_.qZA(),_.qZA()),2&n){_.oxw();const e=_.MAs(8);_.xp6(3),_.Q6J("ngTemplateOutlet",e)}}function va(n,o){if(1&n&&(_.TgZ(0,"div",58),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Oqu(e.error)}}function Va(n,o){1&n&&(_.TgZ(0,"div",59),_.SDv(1,60),_.qZA())}function ya(n,o){if(1&n&&(_.TgZ(0,"div",59),_._UZ(1,"my-actor-avatar-edit",61),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Q6J("actor",e.user.account)("editable",!1)("displaySubscribers",!1)("displayUsername",!1)}}function Ua(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij(" ",e.formErrors.username," ")}}const V_=function(n){return{"input-error":n}};function $a(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",62),_.SDv(2,63),_.qZA(),_._UZ(3,"input",64),_.YNc(4,Ua,2,1,"div",20),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngClass",_.VKq(2,V_,e.formErrors.username)),_.xp6(1),_.Q6J("ngIf",e.formErrors.username)}}function Ga(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij(" ",e.formErrors.channelName," ")}}function Za(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",66),_.SDv(2,67),_.qZA(),_._UZ(3,"input",68),_.YNc(4,Ga,2,1,"div",20),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngClass",_.VKq(2,V_,e.formErrors.channelName)),_.xp6(1),_.Q6J("ngIf",e.formErrors.channelName)}}function wa(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.email," ")}}function Ba(n,o){1&n&&(_.ynx(0),_.SDv(1,73),_.BQk())}function ka(n,o){1&n&&(_.TgZ(0,"my-help"),_.YNc(1,Ba,2,0,"ng-template",72),_.qZA())}function Ya(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij(" ",e.formErrors.password," ")}}function qa(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",69),_.SDv(2,70),_.qZA(),_.YNc(3,ka,2,0,"my-help",5),_._UZ(4,"my-input-toggle-hidden",71),_.YNc(5,Ya,2,1,"div",20),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.isPasswordOptional()),_.xp6(1),_.Q6J("ngClass",_.VKq(3,V_,e.formErrors.password)),_.xp6(1),_.Q6J("ngIf",e.formErrors.password)}}function Ka(n,o){if(1&n&&(_.TgZ(0,"option",74),_._uU(1),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.label," ")}}function za(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.role," ")}}function Xa(n,o){if(1&n&&(_.TgZ(0,"div",75),_.tHW(1,76),_._UZ(2,"strong"),_._UZ(3,"br"),_.ALo(4,"bytes"),_.N_p(),_.qZA()),2&n){const e=_.oxw();_.xp6(4),_.pQV(_.xi3(4,1,e.computeQuotaWithTranscoding(),0)),_.QtT(1)}}function Qa(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.videoQuota," ")}}function Ja(n,o){if(1&n&&(_.TgZ(0,"div",65),_._uU(1),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.videoQuotaDaily," ")}}function Wa(n,o){if(1&n&&(_.TgZ(0,"option",74),_._uU(1),_.qZA()),2&n){const e=o.$implicit;_.Q6J("value",e),_.xp6(1),_.Oqu(e)}}function Ha(n,o){if(1&n&&(_.TgZ(0,"div",16),_.TgZ(1,"label",77),_.SDv(2,78),_.qZA(),_.TgZ(3,"div",23),_.TgZ(4,"select",79),_.TgZ(5,"option",74),_.SDv(6,80),_.qZA(),_.YNc(7,Wa,2,2,"option",25),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw();_.xp6(5),_.Q6J("value",null),_.xp6(2),_.Q6J("ngForOf",e.getAuthPlugins())}}function ja(n,o){}function _l(n,o){1&n&&_.YNc(0,ja,0,0,"ng-template")}function el(n,o){if(1&n&&(_.TgZ(0,"div",81),_.YNc(1,_l,1,0,void 0,57),_.qZA()),2&n){_.oxw();const e=_.MAs(8);_.xp6(1),_.Q6J("ngTemplateOutlet",e)}}const Oe=function(n){return{"form-row":n}};function nl(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",9),_.TgZ(1,"div",10),_._UZ(2,"div",82),_.TgZ(3,"div",83),_.SDv(4,84),_.qZA(),_.qZA(),_.TgZ(5,"div",13),_.TgZ(6,"div",85),_.TgZ(7,"div",86),_.TgZ(8,"label"),_.SDv(9,87),_.qZA(),_.TgZ(10,"button",88),_.NdJ("click",function(){return _.CHM(e),_.oxw().resetPassword()}),_.SDv(11,89),_.qZA(),_.qZA(),_.TgZ(12,"div",16),_.TgZ(13,"label"),_.SDv(14,90),_.qZA(),_._UZ(15,"my-user-password",91),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&n){const e=_.oxw();_.xp6(5),_.Q6J("ngClass",_.VKq(2,Oe,e.isInBigView())),_.xp6(10),_.Q6J("userId",e.user.id)}}const tl=function(n){return{"col-5":n}};let ol=(()=>{class n extends se{constructor(e,t,i,r,s,c,u,p,d){super(),this.formValidatorService=e,this.serverService=t,this.configService=i,this.screenService=r,this.auth=s,this.route=c,this.router=u,this.notifier=p,this.userService=d,this.buildQuotaOptions()}ngOnInit(){super.ngOnInit();const e={role:z.i4.USER.toString(),videoQuota:"-1",videoQuotaDaily:"-1"};this.buildForm({email:Q.oo,role:Q.Kx,videoQuota:Q.Io,videoQuotaDaily:Q.Yy,byPassAutoBlock:null,pluginAuth:null},e),this.paramsSub=this.route.params.subscribe(t=>{this.userService.getUser(t.id,!0).subscribe({next:r=>this.onUserFetched(r),error:r=>{this.error=r.message}})})}ngOnDestroy(){this.paramsSub.unsubscribe()}formValidated(){this.error=void 0;const e=this.form.value;e.adminFlags=this.buildAdminFlags(this.form.value),e.videoQuota=parseInt(this.form.value.videoQuota,10),e.videoQuotaDaily=parseInt(this.form.value.videoQuotaDaily,10),"null"===e.pluginAuth&&(e.pluginAuth=null),this.userService.updateUser(this.user.id,e).subscribe({next:()=>{this.notifier.success("User \n          " + this.user.username + " updated.\n        "),this.router.navigate(["/admin/users/list"])},error:t=>{this.error=t.message}})}isCreation(){return!1}isPasswordOptional(){return!1}getFormButtonTitle(){return "Update user"}resetPassword(){this.userService.askResetPassword(this.user.email).subscribe({next:()=>{this.notifier.success("An email asking for password reset has been sent to \n          " + this.user.username + ".\n        ")},error:e=>{this.error=e.message}})}onUserFetched(e){this.user=new E.n5(e),this.form.patchValue({email:e.email,role:e.role.toString(),videoQuota:e.videoQuota,videoQuotaDaily:e.videoQuotaDaily,pluginAuth:e.pluginAuth,byPassAutoBlock:1&e.adminFlags})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(v.Q4),_.Y36(E.NG),_.Y36(q),_.Y36(E.H2),_.Y36(E.e8),_.Y36(P.gz),_.Y36(P.F0),_.Y36(E.d4),_.Y36(E.KD))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-user-update"]],features:[_.qOj],decls:50,vars:35,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S,b,M,Z,w,B,k,F,X,W,G,H,j,h,i_,r_,a_;return o="Users",e="\u0E2D\u0E35\u0E40\u0E21\u0E25",t="mail@example.com",i="\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48",r="\u0E1B\u0E23\u0E34\u0E21\u0E32\u0E13\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E31\u0E1B\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E14\u0E49",s="bytes",c="\u0E42\u0E04\u0E27\u0E15\u0E49\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E15\u0E48\u0E2D\u0E27\u0E31\u0E19",u="bytes",p="Doesn't need review before a video goes public",d="\u0E2A\u0E23\u0E49\u0E32\u0E07",N="\u0E41\u0E01\u0E49\u0E44\u0E02",A="{VAR_PLURAL, plural, =1 {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D} other {\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D}}",A=_.Zx4(A,{VAR_PLURAL:"\ufffd0\ufffd"}),R="{VAR_PLURAL, plural, =1 {\u0E0A\u0E48\u0E2D\u0E07} other {\u0E0A\u0E48\u0E2D\u0E07}}",R=_.Zx4(R,{VAR_PLURAL:"\ufffd0\ufffd"}),I="{VAR_PLURAL, plural, =1 {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21} other {\u0E1C\u0E39\u0E49\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21}}",I=_.Zx4(I,{VAR_PLURAL:"\ufffd0\ufffd"}),S="Incriminated in reports",b="Authored reports accepted",M="{VAR_PLURAL, plural, =1 {Comment} other {Comments}}",M=_.Zx4(M,{VAR_PLURAL:"\ufffd0\ufffd"}),Z="NEW USER",w="\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49",B="john",k="\u0E0A\u0E37\u0E48\u0E2D\u0E0A\u0E48\u0E2D\u0E07",F="john_channel",X="\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19",W="\n              If you leave the password empty, an email will be sent to the user.\n            ",G="\n          Transcoding is enabled. The video quota only takes into account \n          " + "\ufffd#2\ufffd" + "original\n          " + "\ufffd/#2\ufffd" + " video size. \n          " + "\ufffd#3\ufffd\ufffd/#3\ufffd" + "\n          At most, this user could upload ~ \n          " + "\ufffd0\ufffd" + ".\n        \n        ",H="Auth plugin",j="None (local authentication)",h="\u0E40\u0E02\u0E15\u0E2D\u0E31\u0E19\u0E15\u0E23\u0E32\u0E22",i_="Send a link to reset the password by email to the user",r_="Ask for new password",a_="Manually set the user password",[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/users"],o,[4,"ngIf"],["dashboard",""],["class","form-row",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-row","mt-4"],[1,"form-group","col-12","col-lg-4","col-xl-3"],["id","user",1,"anchor"],["class","account-title",4,"ngIf"],[1,"form-group","col-12","col-lg-8","col-xl-9",3,"ngClass"],["role","form",3,"formGroup","ngClass","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],e,["type","text","id","email","placeholder",t,"formControlName","email","autocomplete","off",1,"form-control",3,"ngClass","readonly"],["class","form-error",4,"ngIf"],["for","role"],i,[1,"peertube-select-container"],["id","role","formControlName","role",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","videoQuota"],r,["id","videoQuota","formControlName","videoQuota","inputSuffix",s,"inputType","number",3,"items","clearable"],["class","transcoding-information",4,"ngIf"],["for","videoQuotaDaily"],c,["id","videoQuotaDaily","formControlName","videoQuotaDaily","inputSuffix",u,"inputType","number",3,"items","clearable"],["inputName","byPassAutoBlock","formControlName","byPassAutoBlock","labelText",p],["type","submit",3,"value","disabled"],["class","col-7",4,"ngIf"],["class","form-row mt-4",4,"ngIf"],[1,"breadcrumb-item","active"],d,N,["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["class","dashboard",4,"ngIf"],[1,"dashboard"],[1,"dashboard-num"],[1,"dashboard-label"],A,R,I,[3,"routerLink","queryParams"],S,b,M,[1,"form-row"],[1,"col-12","col-xl-3"],[1,"col-12","col-xl-9"],[4,"ngTemplateOutlet"],[1,"alert","alert-danger"],[1,"account-title"],Z,[3,"actor","editable","displaySubscribers","displayUsername"],["for","username"],w,["type","text","id","username","placeholder",B,"formControlName","username",1,"form-control",3,"ngClass"],[1,"form-error"],["for","channelName"],k,["type","text","id","channelName","placeholder",F,"formControlName","channelName",1,"form-control",3,"ngClass"],["for","password"],X,["formControlName","password","inputId","password","autocomplete","new-password",3,"ngClass"],["ptTemplate","customHtml"],W,[3,"value"],[1,"transcoding-information"],G,["for","pluginAuth"],H,["id","pluginAuth","formControlName","pluginAuth",1,"form-control"],j,[1,"col-7"],["id","danger",1,"anchor"],[1,"account-title","account-title-danger"],h,[1,"danger-zone"],[1,"form-group","reset-password-email"],i_,[3,"click"],r_,a_,[3,"userId"]]},template:function(e,t){1&e&&(_.TgZ(0,"nav",0),_.TgZ(1,"ol",1),_.TgZ(2,"li",2),_.TgZ(3,"a",3),_.SDv(4,4),_.qZA(),_.qZA(),_.YNc(5,Ra,3,0,"ng-container",5),_.YNc(6,Pa,5,1,"ng-container",5),_.qZA(),_.qZA(),_.YNc(7,ha,1,1,"ng-template",null,6,_.W1O),_.YNc(9,xa,4,1,"div",7),_.YNc(10,va,2,1,"div",8),_.TgZ(11,"div",9),_.TgZ(12,"div",10),_._UZ(13,"div",11),_.YNc(14,Va,2,0,"div",12),_.YNc(15,ya,2,4,"div",12),_.qZA(),_.TgZ(16,"div",13),_.TgZ(17,"form",14),_.NdJ("ngSubmit",function(){return t.formValidated()}),_.YNc(18,$a,5,4,"div",15),_.YNc(19,Za,5,4,"div",15),_.TgZ(20,"div",16),_.TgZ(21,"label",17),_.SDv(22,18),_.qZA(),_._UZ(23,"input",19),_.YNc(24,wa,2,1,"div",20),_.qZA(),_.YNc(25,qa,6,5,"div",15),_.TgZ(26,"div",16),_.TgZ(27,"label",21),_.SDv(28,22),_.qZA(),_.TgZ(29,"div",23),_.TgZ(30,"select",24),_.YNc(31,Ka,2,2,"option",25),_.qZA(),_.qZA(),_.YNc(32,za,2,1,"div",20),_.qZA(),_.TgZ(33,"div",16),_.TgZ(34,"label",26),_.SDv(35,27),_.qZA(),_._UZ(36,"my-select-custom-value",28),_.YNc(37,Xa,5,4,"div",29),_.YNc(38,Qa,2,1,"div",20),_.qZA(),_.TgZ(39,"div",16),_.TgZ(40,"label",30),_.SDv(41,31),_.qZA(),_._UZ(42,"my-select-custom-value",32),_.YNc(43,Ja,2,1,"div",20),_.qZA(),_.YNc(44,Ha,8,2,"div",15),_.TgZ(45,"div",16),_._UZ(46,"my-peertube-checkbox",33),_.qZA(),_._UZ(47,"input",34),_.qZA(),_.YNc(48,el,2,1,"div",35),_.qZA(),_.qZA(),_.YNc(49,nl,16,4,"div",36)),2&e&&(_.xp6(5),_.Q6J("ngIf",t.isCreation()),_.xp6(1),_.Q6J("ngIf",!t.isCreation()),_.xp6(3),_.Q6J("ngIf",!t.isInBigView()),_.xp6(1),_.Q6J("ngIf",t.error),_.xp6(4),_.Q6J("ngIf",t.isCreation()),_.xp6(1),_.Q6J("ngIf",!t.isCreation()&&t.user),_.xp6(1),_.Q6J("ngClass",_.VKq(29,Oe,t.isInBigView())),_.xp6(1),_.Q6J("formGroup",t.form)("ngClass",_.VKq(31,tl,t.isInBigView())),_.xp6(1),_.Q6J("ngIf",t.isCreation()),_.xp6(1),_.Q6J("ngIf",t.isCreation()),_.xp6(4),_.Q6J("ngClass",_.VKq(33,V_,t.formErrors.email))("readonly",t.user&&null!==t.user.pluginAuth),_.xp6(1),_.Q6J("ngIf",t.formErrors.email),_.xp6(1),_.Q6J("ngIf",t.isCreation()),_.xp6(6),_.Q6J("ngForOf",t.roles),_.xp6(1),_.Q6J("ngIf",t.formErrors.role),_.xp6(4),_.Q6J("items",t.videoQuotaOptions)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.isTranscodingInformationDisplayed()),_.xp6(1),_.Q6J("ngIf",t.formErrors.videoQuota),_.xp6(4),_.Q6J("items",t.videoQuotaDailyOptions)("clearable",!1),_.xp6(1),_.Q6J("ngIf",t.formErrors.videoQuotaDaily),_.xp6(1),_.Q6J("ngIf",!t.isCreation()&&0!==t.getAuthPlugins().length),_.xp6(3),_.s9C("value",t.getFormButtonTitle()),_.Q6J("disabled",!t.form.valid),_.xp6(1),_.Q6J("ngIf",t.isInBigView()),_.xp6(1),_.Q6J("ngIf",!t.isCreation()&&t.user&&null===t.user.pluginAuth))},directives:[P.yS,C.O5,C.mk,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,C.sg,f_,u_.P,C.tP,ce.v,ge.X,C_.I,s_.Y,a.YN,a.Kr,de],pipes:[x_.$],styles:['label[_ngcontent-%COMP%]{font-weight:400;font-size:100%}.account-title[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--mainColor);font-weight:700;font-size:110%;margin-bottom:10px}.account-title.account-title-danger[_ngcontent-%COMP%]{color:#d56253}input[_ngcontent-%COMP%]:not([type=submit]){padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}my-input-toggle-hidden[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-input-toggle-hidden[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}my-select-custom-value[_ngcontent-%COMP%]{width:340px;display:block}@media screen and (max-width: 340px){my-select-custom-value[_ngcontent-%COMP%]{width:100%}}input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;margin-top:10px}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:focus, button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%], button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.transcoding-information[_ngcontent-%COMP%]{margin-top:5px;font-size:11px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]{margin-bottom:30px}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;background-color:#d56253;color:#fff6f5;display:block;margin-top:0}@supports (padding-inline-start: 13px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-right:17px}}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #d562530d}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{background-color:#df877c}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%], .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{cursor:default}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff6f5}.danger-zone[_ngcontent-%COMP%]   .reset-password-email[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(.focus-visible){outline:none}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:var(--submenuBackgroundColor);border-radius:.25rem}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}@supports (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-inline-start:.5rem}}@supports not (padding-inline-start: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;color:#6c757d;content:"/"}@supports (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-inline-end:.5rem}}@supports not (padding-inline-end: .5rem){.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{padding-right:.5rem}}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -5px;max-width:900px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;flex:0 0 33.3333333333%;padding:0 5px;margin-bottom:10px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;font-size:18px}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{opacity:.8}.dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;background:var(--submenuBackgroundColor);border-radius:4px;box-sizing:border-box;height:100%}.dashboard[_ngcontent-%COMP%]   .dashboard-num[_ngcontent-%COMP%], .dashboard[_ngcontent-%COMP%]   .dashboard-text[_ngcontent-%COMP%]{text-align:center;font-size:130%;color:var(--mainForegroundColor);line-height:30px;margin-bottom:20px}.dashboard[_ngcontent-%COMP%]   .dashboard-label[_ngcontent-%COMP%]{font-size:90%;color:var(--inputPlaceholderColor);text-align:center}']}),n})();var il=g(23585),rl=g(59930);const al=["userBanModal"];function ll(n,o){if(1&n&&_._UZ(0,"my-action-dropdown",14),2&n){const e=_.oxw(2);_.Q6J("actions",e.bulkUserActions)("entry",e.selectedUsers)}}function sl(n,o){1&n&&(_.TgZ(0,"a",15),_._UZ(1,"my-global-icon",16),_.ynx(2),_.SDv(3,17),_.BQk(),_.qZA())}function cl(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"div",8),_.TgZ(1,"div",9),_.YNc(2,ll,1,2,"my-action-dropdown",10),_.YNc(3,sl,4,0,"a",11),_.qZA(),_.TgZ(4,"div",12),_.TgZ(5,"my-advanced-input-filter",13),_.NdJ("search",function(i){return _.CHM(e),_.oxw().onSearch(i)}),_.qZA(),_.qZA(),_.qZA()}if(2&n){const e=_.oxw();_.xp6(2),_.Q6J("ngIf",e.isInSelectionMode()),_.xp6(1),_.Q6J("ngIf",!e.isInSelectionMode()),_.xp6(2),_.Q6J("filters",e.inputFilters)}}function gl(n,o){if(1&n&&(_.TgZ(0,"th",37),_._uU(1),_._UZ(2,"p-sortIcon",38),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij("",e.getColumn("username").label," ")}}function dl(n,o){if(1&n&&(_.TgZ(0,"th"),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.Oqu(e.getColumn("email").label)}}function El(n,o){if(1&n&&(_.TgZ(0,"th",39),_._uU(1),_._UZ(2,"p-sortIcon",40),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij("",e.getColumn("quota").label," ")}}function ul(n,o){if(1&n&&(_.TgZ(0,"th",41),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.Oqu(e.getColumn("quotaDaily").label)}}function pl(n,o){if(1&n&&(_.TgZ(0,"th",42),_._uU(1),_._UZ(2,"p-sortIcon",43),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij("",e.getColumn("role").label," ")}}function Cl(n,o){if(1&n&&(_.TgZ(0,"th",44),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.Oqu(e.getColumn("pluginAuth").label)}}function Sl(n,o){if(1&n&&(_.TgZ(0,"th",45),_._uU(1),_._UZ(2,"p-sortIcon",46),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij("",e.getColumn("createdAt").label," ")}}function Ol(n,o){if(1&n&&(_.TgZ(0,"th",47),_._uU(1),_._UZ(2,"p-sortIcon",48),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.hij("",e.getColumn("lastLoginDate").label," ")}}function Tl(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"th",18),_._UZ(2,"p-tableHeaderCheckbox",19),_.qZA(),_._UZ(3,"th",18),_.TgZ(4,"th",20),_.TgZ(5,"div",21),_._UZ(6,"my-global-icon",22),_.TgZ(7,"div",23),_.TgZ(8,"div",24),_.SDv(9,25),_.qZA(),_.TgZ(10,"div",26),_.TgZ(11,"my-select-checkbox",27),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().selectedColumns=i}),_.qZA(),_.qZA(),_.TgZ(12,"div",26),_.TgZ(13,"my-peertube-checkbox",28),_.NdJ("ngModelChange",function(i){return _.CHM(e),_.oxw().highlightBannedUsers=i}),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(14,gl,3,1,"th",29),_.YNc(15,dl,2,1,"th",30),_.YNc(16,El,3,1,"th",31),_.YNc(17,ul,2,1,"th",32),_.YNc(18,pl,3,1,"th",33),_.YNc(19,Cl,2,1,"th",34),_.YNc(20,Sl,3,1,"th",35),_.YNc(21,Ol,3,1,"th",36),_.qZA()}if(2&n){const e=_.oxw();_.xp6(11),_.Q6J("availableItems",e.columns)("selectableGroup",!1)("ngModel",e.selectedColumns),_.xp6(2),_.Q6J("ngModel",e.highlightBannedUsers),_.xp6(1),_.Q6J("ngIf",e.isSelected("username")),_.xp6(1),_.Q6J("ngIf",e.isSelected("email")),_.xp6(1),_.Q6J("ngIf",e.isSelected("quota")),_.xp6(1),_.Q6J("ngIf",e.isSelected("quotaDaily")),_.xp6(1),_.Q6J("ngIf",e.isSelected("role")),_.xp6(1),_.Q6J("ngIf",e.isSelected("pluginAuth")),_.xp6(1),_.Q6J("ngIf",e.isSelected("createdAt")),_.xp6(1),_.Q6J("ngIf",e.isSelected("lastLoginDate"))}}function Nl(n,o){if(1&n&&(_.TgZ(0,"span",58),_._UZ(1,"i",59),_.qZA()),2&n){const e=_.oxw(),i=e.expanded;_.Q6J("pRowToggler",e.$implicit),_.xp6(1),_.Q6J("ngClass",i?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}function Il(n,o){if(1&n){const e=_.EpF();_.TgZ(0,"my-user-moderation-dropdown",60),_.NdJ("userChanged",function(){return _.CHM(e),_.oxw(2).onUserChanged()})("userDeleted",function(){return _.CHM(e),_.oxw(2).onUserChanged()}),_.qZA()}if(2&n){const e=_.oxw().$implicit;_.Q6J("user",e)}}const Al=function(n){return[n]};function Ml(n,o){if(1&n&&(_.TgZ(0,"td"),_.TgZ(1,"a",61),_.TgZ(2,"div",62),_._UZ(3,"my-actor-avatar",63),_.TgZ(4,"div"),_.TgZ(5,"span",64),_._uU(6),_.qZA(),_.TgZ(7,"span",65),_._uU(8),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw().$implicit;_.xp6(1),_.Q6J("routerLink",_.VKq(4,Al,"/a/"+e.username)),_.xp6(2),_.Q6J("account",null==e?null:e.account),_.xp6(3),_.Oqu(e.account.displayName),_.xp6(2),_.Oqu(e.username)}}function ml(n,o){if(1&n&&(_.ynx(0),_.TgZ(1,"a",68),_._uU(2),_.qZA(),_.BQk()),2&n){const e=_.oxw(2).$implicit;_.xp6(1),_.Q6J("href","mailto:"+e.email,_.LSH),_.xp6(1),_.Oqu(e.email)}}function Rl(n,o){if(1&n&&(_.TgZ(0,"td",66),_.YNc(1,ml,3,2,"ng-container",67),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.MAs(10),i=_.oxw();_.Q6J("title",e.email),_.xp6(1),_.Q6J("ngIf",!i.requiresEmailVerification||e.blocked)("ngIfElse",t)}}function Dl(n,o){if(1&n&&(_.TgZ(0,"td",71),_.TgZ(1,"em"),_._uU(2),_.qZA(),_.qZA()),2&n){const e=_.oxw(2).$implicit;_.xp6(2),_.hij("? ",e.email,"")}}function fl(n,o){if(1&n&&(_.TgZ(0,"td",72),_._uU(1),_.qZA()),2&n){const e=_.oxw(2).$implicit;_.xp6(1),_.hij(" \u2713 ",e.email," ")}}function Pl(n,o){if(1&n&&(_.YNc(0,Dl,3,1,"td",69),_.YNc(1,fl,2,1,"ng-template",null,70,_.W1O)),2&n){const e=_.MAs(2),t=_.oxw().$implicit;_.Q6J("ngIf",!1===t.emailVerified)("ngIfElse",e)}}const Te=function(n){return{width:n}};function bl(n,o){if(1&n&&(_.TgZ(0,"td"),_.TgZ(1,"div",73),_._UZ(2,"div",74),_.TgZ(3,"span"),_._uU(4),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.xp6(2),_.Akn(_.VKq(6,Te,t.getUserVideoQuotaPercentage(e)+"%")),_.uIk("aria-valuenow",e.rawVideoQuotaUsed)("aria-valuemax",e.rawVideoQuota),_.xp6(2),_.Oqu(e.videoQuotaUsed),_.xp6(2),_.Oqu(e.videoQuota)}}function hl(n,o){if(1&n&&(_.TgZ(0,"td"),_.TgZ(1,"div",75),_._UZ(2,"div",76),_.TgZ(3,"span"),_._uU(4),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_.qZA(),_.qZA()),2&n){const e=_.oxw().$implicit,t=_.oxw();_.xp6(2),_.Akn(_.VKq(6,Te,t.getUserVideoQuotaDailyPercentage(e)+"%")),_.uIk("aria-valuenow",e.rawVideoQuotaUsedDaily)("aria-valuemax",e.rawVideoQuotaDaily),_.xp6(2),_.Oqu(e.videoQuotaUsedDaily),_.xp6(2),_.Oqu(e.videoQuotaDaily)}}function Ll(n,o){if(1&n&&(_.TgZ(0,"span",79),_._uU(1),_.qZA()),2&n){const e=_.oxw(2).$implicit;_.xp6(1),_.Oqu(e.roleLabel)}}function Fl(n,o){if(1&n&&(_.TgZ(0,"span",80),_._uU(1),_.qZA()),2&n){const e=_.oxw(2).$implicit,t=_.oxw();_.Q6J("ngClass",t.getRoleClass(e.role)),_.xp6(1),_.Oqu(e.roleLabel)}}function xl(n,o){if(1&n&&(_.TgZ(0,"td"),_.YNc(1,Ll,2,1,"span",77),_.YNc(2,Fl,2,2,"span",78),_.qZA()),2&n){const e=_.oxw().$implicit;_.xp6(1),_.Q6J("ngIf",e.blocked),_.xp6(1),_.Q6J("ngIf",!e.blocked)}}function vl(n,o){if(1&n&&(_.ynx(0),_._uU(1),_.BQk()),2&n){const e=_.oxw(2).$implicit;_.xp6(1),_.Oqu(e.pluginAuth)}}function Vl(n,o){if(1&n&&(_.TgZ(0,"td"),_.YNc(1,vl,2,1,"ng-container",30),_.qZA()),2&n){const e=_.oxw().$implicit;_.xp6(1),_.Q6J("ngIf",e.pluginAuth)}}function yl(n,o){if(1&n&&(_.TgZ(0,"td",66),_._uU(1),_.ALo(2,"date"),_.qZA()),2&n){const e=_.oxw().$implicit;_.Q6J("title",e.createdAt),_.xp6(1),_.Oqu(_.xi3(2,2,e.createdAt,"short"))}}function Ul(n,o){if(1&n&&(_.TgZ(0,"td",66),_._uU(1),_.ALo(2,"date"),_.qZA()),2&n){const e=_.oxw().$implicit;_.Q6J("title",e.lastLoginDate),_.xp6(1),_.Oqu(_.xi3(2,2,e.lastLoginDate,"short"))}}const $l=function(n){return{banned:n}};function Gl(n,o){if(1&n&&(_.TgZ(0,"tr",49),_.TgZ(1,"td",50),_._UZ(2,"p-tableCheckbox",51),_.qZA(),_.TgZ(3,"td",52),_.YNc(4,Nl,2,2,"span",53),_.qZA(),_.TgZ(5,"td",54),_.YNc(6,Il,1,1,"my-user-moderation-dropdown",55),_.qZA(),_.YNc(7,Ml,9,6,"td",30),_.YNc(8,Rl,2,3,"td",56),_.YNc(9,Pl,3,2,"ng-template",null,57,_.W1O),_.YNc(11,bl,7,8,"td",30),_.YNc(12,hl,7,8,"td",30),_.YNc(13,xl,3,2,"td",30),_.YNc(14,Vl,2,1,"td",30),_.YNc(15,yl,3,5,"td",56),_.YNc(16,Ul,3,5,"td",56),_.qZA()),2&n){const e=o.$implicit,t=_.oxw();_.Q6J("pSelectableRow",e)("ngClass",_.VKq(13,$l,t.highlightBannedUsers&&e.blocked)),_.xp6(2),_.Q6J("value",e),_.xp6(2),_.Q6J("ngIf",e.blockedReason),_.xp6(2),_.Q6J("ngIf",!t.isInSelectionMode()),_.xp6(1),_.Q6J("ngIf",t.isSelected("username")),_.xp6(1),_.Q6J("ngIf",t.isSelected("email")),_.xp6(3),_.Q6J("ngIf",t.isSelected("quota")),_.xp6(1),_.Q6J("ngIf",t.isSelected("quotaDaily")),_.xp6(1),_.Q6J("ngIf",t.isSelected("role")),_.xp6(1),_.Q6J("ngIf",t.isSelected("pluginAuth")),_.xp6(1),_.Q6J("ngIf",t.isSelected("createdAt")),_.xp6(1),_.Q6J("ngIf",t.isSelected("lastLoginDate"))}}function Zl(n,o){if(1&n&&(_.TgZ(0,"tr",81),_.TgZ(1,"td",82),_.TgZ(2,"span",83),_.SDv(3,84),_.qZA(),_._uU(4),_.qZA(),_.qZA()),2&n){const e=o.$implicit;_.xp6(4),_.hij(" ",e.blockedReason," ")}}let wl=(()=>{class n extends E.Ad{constructor(e,t,i,r,s,c,u){super(),this.route=e,this.router=t,this.notifier=i,this.confirmService=r,this.serverService=s,this.auth=c,this.userService=u,this.users=[],this.totalRecords=0,this.sort={field:"createdAt",order:1},this.pagination={count:this.rowsPerPage,start:0},this.highlightBannedUsers=!1,this.selectedUsers=[],this.bulkUserActions=[],this.inputFilters=[{queryParams:{search:"banned:true"},label:"Banned users"}],this.requiresEmailVerification=!1}get authUser(){return this.auth.getUser()}get selectedColumns(){return this._selectedColumns}set selectedColumns(e){this._selectedColumns=e}ngOnInit(){this.serverService.getConfig().subscribe(e=>this.requiresEmailVerification=e.signup.requiresEmailVerification),this.initialize(),this.bulkUserActions=[[{label:"\u0E25\u0E1A",description:"Videos will be deleted, comments will be tombstoned.",handler:e=>this.removeUsers(e),isDisplayed:e=>e.every(t=>this.authUser.canManage(t))},{label:"\u0E41\u0E1A\u0E19",description:"User won't be able to login anymore, but videos and comments will be kept as is.",handler:e=>this.openBanUserModal(e),isDisplayed:e=>e.every(t=>this.authUser.canManage(t)&&!1===t.blocked)},{label:"Unban",handler:e=>this.unbanUsers(e),isDisplayed:e=>e.every(t=>this.authUser.canManage(t)&&!0===t.blocked)}],[{label:"Set Email as Verified",handler:e=>this.setEmailsAsVerified(e),isDisplayed:e=>this.requiresEmailVerification&&e.every(t=>this.authUser.canManage(t)&&!t.blocked&&!1===t.emailVerified)}]],this.columns=[{id:"username",label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49"},{id:"email",label:"\u0E2D\u0E35\u0E40\u0E21\u0E25"},{id:"quota",label:"\u0E1B\u0E23\u0E34\u0E21\u0E32\u0E13\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E35\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2D\u0E31\u0E1B\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E14\u0E49"},{id:"role",label:"\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48"},{id:"createdAt",label:"Created"}],this.selectedColumns=this.columns.map(e=>e.id),this.columns.push({id:"quotaDaily",label:"Daily quota"}),this.columns.push({id:"pluginAuth",label:"Auth plugin"}),this.columns.push({id:"lastLoginDate",label:"Last login"})}getIdentifier(){return"UserListComponent"}getRoleClass(e){switch(e){case z.i4.ADMINISTRATOR:return"badge-purple";case z.i4.MODERATOR:return"badge-blue";default:return"badge-yellow"}}isSelected(e){return this.selectedColumns.find(t=>t===e)}getColumn(e){return this.columns.find(t=>t.id===e)}getUserVideoQuotaPercentage(e){return 100*e.rawVideoQuotaUsed/e.rawVideoQuota}getUserVideoQuotaDailyPercentage(e){return 100*e.rawVideoQuotaUsedDaily/e.rawVideoQuotaDaily}openBanUserModal(e){for(const t of e)if("root"===t.username)return void this.notifier.error("\u0E04\u0E38\u0E13\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E41\u0E1A\u0E19 root");this.userBanModal.openModal(e)}onUserChanged(){this.reloadData()}unbanUsers(e){return(0,K.mG)(this,void 0,void 0,function*(){!1!==(yield this.confirmService.confirm("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1B\u0E25\u0E14\u0E41\u0E1A\u0E19\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49 \n          " + e.length + " \u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48\n        ","Unban"))&&this.userService.unbanUsers(e).subscribe({next:()=>{this.notifier.success("\u0E1B\u0E25\u0E14\u0E41\u0E1A\u0E19\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49 \n          " + e.length + " \u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E41\u0E25\u0E49\u0E27\n        "),this.reloadData()},error:i=>this.notifier.error(i.message)})})}removeUsers(e){return(0,K.mG)(this,void 0,void 0,function*(){for(const r of e)if("root"===r.username)return void this.notifier.error("You cannot delete root.");const t="If you remove these users, you will not be able to create others with the same username!";!1!==(yield this.confirmService.confirm(t,"\u0E25\u0E1A"))&&this.userService.removeUser(e).subscribe({next:()=>{this.notifier.success("\n          " + e.length + " users deleted.\n        "),this.reloadData()},error:r=>this.notifier.error(r.message)})})}setEmailsAsVerified(e){this.userService.updateUsers(e,{emailVerified:!0}).subscribe({next:()=>{this.notifier.success("\n          " + e.length + " users email set as verified.\n        "),this.reloadData()},error:t=>this.notifier.error(t.message)})}isInSelectionMode(){return 0!==this.selectedUsers.length}reloadData(){this.selectedUsers=[],this.userService.getUsers({pagination:this.pagination,sort:this.sort,search:this.search}).subscribe({next:e=>{this.users=e.data,this.totalRecords=e.total},error:e=>this.notifier.error(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(P.gz),_.Y36(P.F0),_.Y36(E.d4),_.Y36(E.zM),_.Y36(E.NG),_.Y36(E.e8),_.Y36(E.KD))},n.\u0275cmp=_.Xpm({type:n,selectors:[["my-user-list"]],viewQuery:function(e,t){if(1&e&&_.Gf(al,7),2&e){let i;_.iGM(i=_.CRH())&&(t.userBanModal=i.first)}},features:[_.qOj],decls:8,vars:16,consts:function(){let o,e,t,i,r,s,c,u,p,d,N,A,R,I,S;return o="Showing \n          " + "\ufffd0\ufffd" + " to \n          " + "\ufffd1\ufffd" + " of \n          " + "\ufffd2\ufffd" + " users\n        ",e="Batch actions",t="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49",i="Select all rows",r="Table parameters",s="Select columns",c="Highlight banned users",u="Select this row",p="Open account in a new tab",d="User's email must be verified to login",N="User's email is verified / User can login without email verification",A="\u0E42\u0E04\u0E27\u0E15\u0E49\u0E32\u0E27\u0E34\u0E14\u0E35\u0E42\u0E2D\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14",R="Total daily video quota",I="The user was banned",S="Ban reason:",[["dataKey","id",3,"value","paginator","totalRecords","rows","rowsPerPageOptions","sortField","sortOrder","resizableColumns","selection","lazy","lazyLoadOnInit","showCurrentPageReport","expandedRowKeys","selectionChange","onLazyLoad","onPage",6,"currentPageReportTemplate"],["currentPageReportTemplate",o],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"userBanned"],["userBanModal",""],[1,"caption"],[1,"left-buttons"],["label",e,"theme","orange",3,"actions","entry",4,"ngIf"],["class","add-button","routerLink","/admin/users/create",4,"ngIf"],[1,"ml-auto"],[3,"filters","search"],["label",e,"theme","orange",3,"actions","entry"],["routerLink","/admin/users/create",1,"add-button"],["iconName","user-add","aria-hidden","true"],t,[2,"width","40px"],["ariaLabel",i],[2,"width","60px"],["ngbDropdown","","placement","bottom-left auto","container","body","autoClose","outside",1,"c-hand","column-toggle"],["iconName","columns","ngbDropdownToggle",""],["role","menu","ngbDropdownMenu","",1,"dropdown-menu"],[1,"dropdown-header"],r,["ngbDropdownItem","",1,"dropdown-item"],["name","columns","placeholder",s,3,"availableItems","selectableGroup","ngModel","ngModelChange"],["inputName","highlightBannedUsers","labelText",c,3,"ngModel","ngModelChange"],["pResizableColumn","","pSortableColumn","username",4,"ngIf"],[4,"ngIf"],["style","width: 160px;","pSortableColumn","videoQuotaUsed",4,"ngIf"],["style","width: 160px;",4,"ngIf"],["style","width: 120px;","pSortableColumn","role",4,"ngIf"],["style","width: 140px;","pResizableColumn","",4,"ngIf"],["style","width: 150px;","pSortableColumn","createdAt",4,"ngIf"],["style","width: 150px;","pSortableColumn","lastLoginDate",4,"ngIf"],["pResizableColumn","","pSortableColumn","username"],["field","username"],["pSortableColumn","videoQuotaUsed",2,"width","160px"],["field","videoQuotaUsed"],[2,"width","160px"],["pSortableColumn","role",2,"width","120px"],["field","role"],["pResizableColumn","",2,"width","140px"],["pSortableColumn","createdAt",2,"width","150px"],["field","createdAt"],["pSortableColumn","lastLoginDate",2,"width","150px"],["field","lastLoginDate"],[3,"pSelectableRow","ngClass"],[1,"checkbox-cell"],["ariaLabel",u,3,"value"],[1,"expand-cell"],["class","expander",3,"pRowToggler",4,"ngIf"],[1,"action-cell"],["container","body",3,"user","userChanged","userDeleted",4,"ngIf"],[3,"title",4,"ngIf"],["emailWithVerificationStatus",""],[1,"expander",3,"pRowToggler"],[3,"ngClass"],["container","body",3,"user","userChanged","userDeleted"],["title",p,"target","_blank","rel","noopener noreferrer",3,"routerLink"],[1,"chip","two-lines"],["size","32",3,"account"],[1,"user-table-primary-text"],[1,"text-muted"],[3,"title"],[4,"ngIf","ngIfElse"],[1,"table-email",3,"href"],["title",d,4,"ngIf","ngIfElse"],["emailVerifiedNotFalse",""],["title",d],["title",N],["title",A,1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["title",R,1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar","secondary"],["class","badge badge-banned","title",I,4,"ngIf"],["class","badge",3,"ngClass",4,"ngIf"],["title",I,1,"badge","badge-banned"],[1,"badge",3,"ngClass"],[1,"user-blocked-reason"],["colspan","7"],[1,"ban-reason-label"],S]},template:function(e,t){1&e&&(_.TgZ(0,"p-table",0),_.DtL(1,1),_.NdJ("selectionChange",function(r){return t.selectedUsers=r})("onLazyLoad",function(r){return t.loadLazy(r)})("onPage",function(r){return t.onPage(r)}),_.YNc(2,cl,6,3,"ng-template",2),_.YNc(3,Tl,22,12,"ng-template",3),_.YNc(4,Gl,17,15,"ng-template",4),_.YNc(5,Zl,5,1,"ng-template",5),_.qZA(),_.TgZ(6,"my-user-ban-modal",6,7),_.NdJ("userBanned",function(){return t.onUserChanged()}),_.qZA()),2&e&&(_.pQV("{first}")("{last}")("{totalRecords}"),_.QtT(1),_.Q6J("value",t.users)("paginator",t.totalRecords>0)("totalRecords",t.totalRecords)("rows",t.rowsPerPage)("rowsPerPageOptions",t.rowsPerPageOptions)("sortField",t.sort.field)("sortOrder",t.sort.order)("resizableColumns",!0)("selection",t.selectedUsers)("lazy",!0)("lazyLoadOnInit",!1)("showCurrentPageReport",!0)("expandedRowKeys",t.expandedRows))},directives:[f.iA,E_.jx,il.L,C.O5,T_.F,z_.h,P.yS,e_.$,f.Mo,J.jt,J.iD,J.Vi,J.TH,te.L,a.JJ,a.On,u_.P,f.Q7,f.lQ,f.fz,f.Ei,C.mk,f.UA,f.jB,rl.a,q_.b],pipes:[C.uU],styles:[".add-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer;display:inline-block;display:inline-flex;align-items:center;line-height:normal!important}.add-button[_ngcontent-%COMP%]:hover, .add-button[_ngcontent-%COMP%]:focus, .add-button[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}@supports (padding-inline-start: 13px){.add-button[_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){.add-button[_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){.add-button[_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){.add-button[_ngcontent-%COMP%]{padding-right:17px}}.add-button[_ngcontent-%COMP%]:focus, .add-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}.add-button[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%]:active, .add-button[_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}.add-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}.add-button[disabled][_ngcontent-%COMP%], .add-button.disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;width:20px;top:-1px}@supports (margin-inline-end: 5px){.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:5px}}@supports not (margin-inline-end: 5px){.add-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin-right:5px}}tr.banned[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#fcc!important}.table-email[_ngcontent-%COMP%]{color:var(--mainForegroundColor)}.table-email[_ngcontent-%COMP%]:hover, .table-email[_ngcontent-%COMP%]:focus, .table-email[_ngcontent-%COMP%]:active{text-decoration:none!important;outline:none!important}.banned-info[_ngcontent-%COMP%]{font-style:italic}.ban-reason-label[_ngcontent-%COMP%]{font-weight:600}.user-table-primary-text[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:80%;color:gray}@supports (margin-inline-start: .1rem){.user-table-primary-text[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-inline-start:.1rem}}@supports not (margin-inline-start: .1rem){.user-table-primary-text[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{margin-left:.1rem}}p-tableCheckbox[_ngcontent-%COMP%]{position:relative;top:-2.5px}my-global-icon[_ngcontent-%COMP%]{width:18px}.chip[_ngcontent-%COMP%]{--chip-radius: 5rem;--chip-padding: .2rem .4rem;align-items:center;border-radius:var(--chip-radius);display:inline-flex;font-size:90%;color:var(--mainForegroundColor);height:1.2rem;line-height:1rem;margin:.1rem;max-width:320px;overflow:hidden;padding:var(--chip-padding);text-decoration:none;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.chip.rectangular[_ngcontent-%COMP%]{--chip-radius: .2rem;--chip-padding: .2rem .3rem}@supports (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:-.4rem}}@supports not (margin-inline-start: -.4rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-left:-.4rem}}@supports (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.2rem}}@supports not (margin-inline-end: .2rem){.chip[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-right:.2rem}}.chip.two-lines[_ngcontent-%COMP%]{height:2rem}.chip.two-lines[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;min-width:2rem;min-height:2rem}.chip.two-lines[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 .1rem;display:flex;flex-direction:column;height:2rem;justify-content:center}.badge[_ngcontent-%COMP%]{border-radius:2px;padding:1/4em 1/2em;text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:1/3px}.badge.badge-banned[_ngcontent-%COMP%], .badge.badge-red[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737}.badge.badge-banned[_ngcontent-%COMP%]{text-decoration:line-through}.badge.badge-yellow[_ngcontent-%COMP%]{background-color:#feedaf;color:#8a5340}.badge.badge-brown[_ngcontent-%COMP%]{background-color:#ffd8b2;color:#805b36}.badge.badge-green[_ngcontent-%COMP%]{background-color:#c8e6c9;color:#256029}.badge.badge-blue[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#23547b}.badge.badge-purple[_ngcontent-%COMP%]{background-color:#eccfff;color:#694382}.progress[_ngcontent-%COMP%]{background-color:#e5e5e5;display:flex;height:1rem;overflow:hidden;font-size:.75rem;border-radius:.25rem;position:relative;width:auto;max-width:100%}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;color:#585858;top:-1px}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(1){left:.2rem}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-of-type(2){right:.2rem}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{color:var(--mainBackgroundColor);background-color:var(--mainColor);display:flex;flex-direction:column;justify-content:center;text-align:center;white-space:nowrap;transition:width .6s ease}.progress[_ngcontent-%COMP%]   .progress-bar.secondary[_ngcontent-%COMP%]{background-color:var(--secondaryColor)}.progress[_ngcontent-%COMP%]   .progress-bar.red[_ngcontent-%COMP%]{background-color:#d56253}"]}),n})();const kl=[{path:"",component:Yi,children:[{path:"",redirectTo:"users",pathMatch:"full"},...Zr,{path:"users",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&_._UZ(0,"router-outlet")},directives:[P.lC],encapsulation:2}),n})(),canActivate:[E.p3],data:{userRight:1},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:wl,data:{meta:{title:"Users list"}}},{path:"create",component:ma,data:{meta:{title:"Create a user"}}},{path:"update/:id",component:ol,data:{meta:{title:"Update a user"}}}]},...bo,...wi,...yt,..._i]}];let Yl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[[P.Bz.forChild(kl)],P.Bz]}),n})(),ql=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[g_,n_,c_,q,U,h_],imports:[[Yl,x.nC,v.hA,V.DA,l_.Y,m_.jr,t_.Ht,D_.v,R_.s,p_.VY,f.U$,Y.Qy,l.S]]}),n})()},60467:(W_,A_,g)=>{g.d(A_,{q:()=>w_});var l=g(42741),Y=g(93324),f=g(16274),m_=g(24333),R_=g(2003),D_=g(6733),p_=g(97603);function v(m,y){if(1&m&&l._UZ(0,"label",12),2&m){const D=l.oxw();l.Q6J("innerHTML",D.setting.label,l.oJD),l.uIk("for",D.setting.name)}}function l_(m,y){if(1&m&&l._UZ(0,"my-peertube-checkbox",13),2&m){const D=l.oxw();l.Q6J("inputName",D.setting.name)("formControlName",D.setting.name)("labelInnerHTML",D.setting.label)}}function x(m,y){if(1&m&&l._UZ(0,"div",14),2&m){const D=l.oxw();l.Q6J("innerHTML",D.setting.descriptionHTML,l.oJD)}}function V(m,y){if(1&m&&l._UZ(0,"input",15),2&m){const D=l.oxw();l.Q6J("id",D.setting.name)("formControlName",D.setting.name)}}function t_(m,y){if(1&m&&(l.TgZ(0,"option",19),l._uU(1),l.qZA()),2&m){const D=y.$implicit;l.Q6J("value",D.value),l.xp6(1),l.Oqu(D.label)}}function P(m,y){if(1&m&&(l.TgZ(0,"div",16),l.TgZ(1,"select",17),l.YNc(2,t_,2,2,"option",18),l.qZA(),l.qZA()),2&m){const D=l.oxw();l.xp6(1),l.Q6J("id",D.setting.name)("formControlName",D.setting.name),l.xp6(1),l.Q6J("ngForOf",D.setting.options)}}function _(m,y){if(1&m&&l._UZ(0,"my-input-toggle-hidden",20),2&m){const D=l.oxw();l.Q6J("formControlName",D.setting.name)("inputId",D.setting.name)}}function a(m,y){if(1&m&&l._UZ(0,"textarea",15),2&m){const D=l.oxw();l.Q6J("id",D.setting.name)("formControlName",D.setting.name)}}function C(m,y){1&m&&l._UZ(0,"my-help",21)}function C_(m,y){1&m&&l._UZ(0,"my-help",22)}const s_=function(m){return{"input-error":m}};function U_(m,y){if(1&m&&l._UZ(0,"my-markdown-textarea",23),2&m){const D=l.oxw();l.Q6J("id",D.setting.name)("formControlName",D.setting.name)("classes",l.VKq(3,s_,D.formErrors["settings.name"]))}}function $_(m,y){if(1&m&&l._UZ(0,"my-markdown-textarea",24),2&m){const D=l.oxw();l.Q6J("id",D.setting.name)("formControlName",D.setting.name)("classes",l.VKq(3,s_,D.formErrors["settings.name"]))}}function G_(m,y){if(1&m&&l._UZ(0,"div",12),2&m){const D=l.oxw();l.Q6J("innerHTML",D.setting.html,l.oJD)}}function Z_(m,y){if(1&m&&(l.TgZ(0,"div",25),l._uU(1),l.qZA()),2&m){const D=l.oxw();l.xp6(1),l.hij(" ",D.formErrors[D.setting.name]," ")}}let w_=(()=>{class m{}return m.\u0275fac=function(D){return new(D||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["my-dynamic-form-field"]],inputs:{form:"form",formErrors:"formErrors",setting:"setting"},decls:14,vars:14,consts:[[3,"formGroup"],[3,"innerHTML",4,"ngIf"],[3,"inputName","formControlName","labelInnerHTML",4,"ngIf"],["class","label-small-info",3,"innerHTML",4,"ngIf"],["type","text",3,"id","formControlName",4,"ngIf"],["class","peertube-select-container",4,"ngIf"],[3,"formControlName","inputId",4,"ngIf"],["helpType","markdownText",4,"ngIf"],["helpType","markdownEnhanced",4,"ngIf"],["markdownType","text","textareaWidth","500px",3,"id","formControlName","classes",4,"ngIf"],["markdownType","enhanced","textareaWidth","500px",3,"id","formControlName","classes",4,"ngIf"],["class","form-error",4,"ngIf"],[3,"innerHTML"],[3,"inputName","formControlName","labelInnerHTML"],[1,"label-small-info",3,"innerHTML"],["type","text",3,"id","formControlName"],[1,"peertube-select-container"],[1,"form-control",3,"id","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"formControlName","inputId"],["helpType","markdownText"],["helpType","markdownEnhanced"],["markdownType","text","textareaWidth","500px",3,"id","formControlName","classes"],["markdownType","enhanced","textareaWidth","500px",3,"id","formControlName","classes"],[1,"form-error"]],template:function(D,$){1&D&&(l.TgZ(0,"div",0),l.YNc(1,v,1,2,"label",1),l.YNc(2,l_,1,3,"my-peertube-checkbox",2),l.YNc(3,x,1,1,"div",3),l.YNc(4,V,1,2,"input",4),l.YNc(5,P,3,3,"div",5),l.YNc(6,_,1,2,"my-input-toggle-hidden",6),l.YNc(7,a,1,2,"textarea",4),l.YNc(8,C,1,0,"my-help",7),l.YNc(9,C_,1,0,"my-help",8),l.YNc(10,U_,1,5,"my-markdown-textarea",9),l.YNc(11,$_,1,5,"my-markdown-textarea",10),l.YNc(12,G_,1,1,"div",1),l.YNc(13,Z_,2,1,"div",11),l.qZA()),2&D&&(l.Q6J("formGroup",$.form),l.xp6(1),l.Q6J("ngIf",$.setting.label&&"input-checkbox"!==$.setting.type),l.xp6(1),l.Q6J("ngIf","input-checkbox"===$.setting.type),l.xp6(1),l.Q6J("ngIf",$.setting.descriptionHTML),l.xp6(1),l.Q6J("ngIf","input"===$.setting.type),l.xp6(1),l.Q6J("ngIf","select"===$.setting.type),l.xp6(1),l.Q6J("ngIf","input-password"===$.setting.type),l.xp6(1),l.Q6J("ngIf","input-textarea"===$.setting.type),l.xp6(1),l.Q6J("ngIf","markdown-text"===$.setting.type),l.xp6(1),l.Q6J("ngIf","markdown-enhanced"===$.setting.type),l.xp6(1),l.Q6J("ngIf","markdown-text"===$.setting.type),l.xp6(1),l.Q6J("ngIf","markdown-enhanced"===$.setting.type),l.xp6(1),l.Q6J("ngIf","html"===$.setting.type),l.xp6(1),l.Q6J("ngIf",$.formErrors[$.setting.name]))},directives:[Y.JL,Y.sg,f.O5,m_.P,Y.JJ,Y.u,Y.Fj,Y.EJ,f.sg,Y.YN,Y.Kr,R_.X,D_.I,p_.c],styles:['input[_ngcontent-%COMP%]:not([type=submit]){padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}textarea[_ngcontent-%COMP%]{display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;color:var(--textareaForegroundColor);background-color:var(--textareaBackgroundColor);height:200px;padding:5px 15px;font-size:15px;display:block}textarea[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}textarea[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){textarea[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;width:340px;border-radius:3px;color:var(--inputForegroundColor);background:var(--inputBackgroundColor);position:relative;font-size:15px}.peertube-select-container.disabled[_ngcontent-%COMP%]{background-color:#e5e5e5}.peertube-select-container.disabled[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:default}@media screen and (max-width: 340px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:#000;margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0 35px 0 12px;position:relative;border:1px solid #C6C6C6;background:transparent none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;height:30px;text-overflow:ellipsis;color:var(--mainForegroundColor)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]{background-color:#e5e5e5;color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button.focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #5858580d}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:hover, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:active, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]:focus, .peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{color:var(--greyForegroundColor);background-color:#efefef}.peertube-select-container.peertube-select-button[disabled][_ngcontent-%COMP%], .peertube-select-container.peertube-select-button.disabled[_ngcontent-%COMP%]{cursor:default}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:var(--greyForegroundColor)}.peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .peertube-select-container.peertube-select-button[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:600;color:var(--greyForegroundColor);border:0}.label-small-info[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px;font-size:13px}my-peertube-checkbox[_ngcontent-%COMP%] + .label-small-info[_ngcontent-%COMP%]{margin-top:5px}']}),m})()},75155:(W_,A_,g)=>{g.d(A_,{I:()=>p_});var l=g(42741),Y=g(93324),f=g(21499),m_=g(16274);function R_(v,l_){if(1&v&&(l.ynx(0),l._UZ(1,"br"),l.TgZ(2,"span",3),l._uU(3),l.qZA(),l.BQk()),2&v){const x=l.oxw().item;l.xp6(2),l.Q6J("title",x.description),l.xp6(1),l.Oqu(x.description)}}function D_(v,l_){if(1&v&&(l._uU(0),l.YNc(1,R_,4,2,"ng-container",2)),2&v){const x=l_.item;l.hij(" ",x.label," "),l.xp6(1),l.Q6J("ngIf",x.description)}}let p_=(()=>{class v{constructor(){this.items=[],this.clearable=!1,this.searchable=!1,this.propagateChange=x=>{}}handleChange(x){this.writeValue(x.value),this.onModelChange()}writeValue(x){this.selectedId=x}registerOnChange(x){this.propagateChange=x}registerOnTouched(){}onModelChange(){this.propagateChange(this.selectedId)}}return v.\u0275fac=function(x){return new(x||v)},v.\u0275cmp=l.Xpm({type:v,selectors:[["my-select-options"]],hostBindings:function(x,V){1&x&&l.NdJ("change",function(P){return V.handleChange(P.target)})},inputs:{items:"items",clearable:"clearable",searchable:"searchable",groupBy:"groupBy",labelForId:"labelForId",searchFn:"searchFn"},features:[l._Bn([{provide:Y.JU,useExisting:(0,l.Gpc)(()=>v),multi:!0}])],decls:2,vars:7,consts:[["bindLabel","label","bindValue","id",3,"items","groupBy","ngModel","clearable","labelForId","searchable","searchFn","ngModelChange"],["ng-option-tmp",""],[4,"ngIf"],[1,"text-muted",3,"title"]],template:function(x,V){1&x&&(l.TgZ(0,"ng-select",0),l.NdJ("ngModelChange",function(P){return V.selectedId=P})("ngModelChange",function(){return V.onModelChange()}),l.YNc(1,D_,2,2,"ng-template",1),l.qZA()),2&x&&l.Q6J("items",V.items)("groupBy",V.groupBy)("ngModel",V.selectedId)("clearable",V.clearable)("labelForId",V.labelForId)("searchable",V.searchable)("searchFn",V.searchFn)},directives:[f.w9,Y.JJ,Y.On,f.Z2,m_.O5],styles:["ng-select[_ngcontent-%COMP%]{width:auto}@media screen and (max-width: auto){ng-select[_ngcontent-%COMP%]{width:100%}}ng-select[_ngcontent-%COMP%]     .ng-value-container{max-height:100px;overflow-y:auto;overflow-x:hidden}ng-select[_ngcontent-%COMP%]     .ng-value-label img{position:relative;top:-1px}ng-select[_ngcontent-%COMP%]     img{border-radius:50%;height:20px;width:20px}.root[_ngcontent-%COMP%]{display:flex;align-items:center}.root[_ngcontent-%COMP%] > my-select-options[_ngcontent-%COMP%]{flex-grow:1}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{padding:0 15px;display:inline-block;height:30px;width:auto;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]::placeholder{color:var(--inputPlaceholderColor)}my-select-options[_ngcontent-%COMP%] + input[readonly][_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: calc(auto + 40px)){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{width:100%}}@supports (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){my-select-options[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin-left:5px}}@supports (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-inline-start:5px}}@supports not (margin-inline-start: 5px){.input-suffix[_ngcontent-%COMP%]{margin-left:5px}}"]}),v})()}}]);
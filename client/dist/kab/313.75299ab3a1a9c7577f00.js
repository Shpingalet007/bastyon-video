"use strict";(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[313],{59313:(M,l,n)=>{n.r(l),n.d(l,{ResetPasswordModule:()=>N});var p=n(84167),g=n(62026),a=n(49393),r=n(93324);const m={VALIDATORS:[r.kI.required],MESSAGES:{required:"Asentem n wawal uffir yettwasra."}};var f=n(44560),_=n(42741),u=n(54755),P=n(2003),R=n(16274);function C(o,s){if(1&o&&(_.TgZ(0,"div",13),_._uU(1),_.qZA()),2&o){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors.password," ")}}function O(o,s){if(1&o&&(_.TgZ(0,"div",13),_._uU(1),_.qZA()),2&o){const e=_.oxw();_.xp6(1),_.hij(" ",e.formErrors["password-confirm"]," ")}}const c=function(o){return{"input-error":o}},A=[{path:"",component:(()=>{class o extends p.OI{constructor(e,t,i,S,E){super(),this.formValidatorService=e,this.userService=t,this.notifier=i,this.router=S,this.route=E}ngOnInit(){this.buildForm({password:f.$T,"password-confirm":m}),this.userId=this.route.snapshot.queryParams.userId,this.verificationString=this.route.snapshot.queryParams.verificationString,(!this.userId||!this.verificationString)&&(this.notifier.error("D awez\u0263i ad d-naf asulay n useqdac ne\u0263 azrir n usenqed."),this.router.navigate(["/"]))}resetPassword(){this.userService.resetPassword(this.userId,this.verificationString,this.form.value.password).subscribe({next:()=>{this.notifier.success("Awal-ik\xB7im uffir yettuwennez akkken iwata!"),this.router.navigate(["/login"])},error:e=>this.notifier.error(e.message)})}isConfirmedPasswordValid(){const e=this.form.value;return e.password===e["password-confirm"]}}return o.\u0275fac=function(e){return new(e||o)(_.Y36(p.Q4),_.Y36(u.KD),_.Y36(u.d4),_.Y36(a.F0),_.Y36(a.gz))},o.\u0275cmp=_.Xpm({type:o,selectors:[["my-login"]],features:[_.qOj],decls:15,vars:10,consts:function(){let s,e,t,i,S,E;return s="Wennez awal-iw uffir",e="Awal uffir",t="Awal uffir",i="Sentem awal uffir",S="Yettwasentem wawal uffir",E="Wennez awal-iw uffir",[[1,"margin-content"],[1,"title-page","title-page-single"],s,["role","form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","password"],e,["formControlName","password","inputId","password","placeholder",t,"autocomplete","new-password",3,"ngClass"],["class","form-error",4,"ngIf"],["for","password-confirm"],i,["formControlName","password-confirm","inputId","password-confirm","placeholder",S,"autocomplete","new-password",3,"ngClass"],["type","submit","value",E,3,"disabled"],[1,"form-error"]]},template:function(e,t){1&e&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.SDv(2,2),_.qZA(),_.TgZ(3,"form",3),_.NdJ("ngSubmit",function(){return t.resetPassword()}),_.TgZ(4,"div",4),_.TgZ(5,"label",5),_.SDv(6,6),_.qZA(),_._UZ(7,"my-input-toggle-hidden",7),_.YNc(8,C,2,1,"div",8),_.qZA(),_.TgZ(9,"div",4),_.TgZ(10,"label",9),_.SDv(11,10),_.qZA(),_._UZ(12,"my-input-toggle-hidden",11),_.YNc(13,O,2,1,"div",8),_.qZA(),_._UZ(14,"input",12),_.qZA(),_.qZA()),2&e&&(_.xp6(3),_.Q6J("formGroup",t.form),_.xp6(4),_.Q6J("ngClass",_.VKq(6,c,t.formErrors.password)),_.xp6(1),_.Q6J("ngIf",t.formErrors.password),_.xp6(4),_.Q6J("ngClass",_.VKq(8,c,t.formErrors["password-confirm"])),_.xp6(1),_.Q6J("ngIf",t.formErrors["password-confirm"]),_.xp6(1),_.Q6J("disabled",!t.form.valid||!t.isConfirmedPasswordValid()))},directives:[r._Y,r.JL,r.sg,P.X,r.JJ,r.u,R.mk,R.O5],styles:["input[_ngcontent-%COMP%]:not([type=submit]){padding:0 15px;display:inline-block;height:30px;width:340px;color:var(--inputForegroundColor);background-color:var(--inputBackgroundColor);border:1px solid #C6C6C6;border-radius:3px;font-size:15px;display:block}input[_ngcontent-%COMP%]:not([type=submit])::placeholder{color:var(--inputPlaceholderColor)}input[_ngcontent-%COMP%]:not([type=submit])[readonly]{opacity:.7}@media screen and (max-width: calc(340px + 40px)){input[_ngcontent-%COMP%]:not([type=submit]){width:100%}}input[type=submit][_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border:0;font-weight:600;font-size:15px;height:30px;line-height:30px;border-radius:3px!important;text-align:center;cursor:pointer}@supports (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-inline-start:13px}}@supports not (padding-inline-start: 13px){input[type=submit][_ngcontent-%COMP%]{padding-left:13px}}@supports (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-inline-end:17px}}@supports not (padding-inline-end: 17px){input[type=submit][_ngcontent-%COMP%]{padding-right:17px}}input[type=submit][_ngcontent-%COMP%]:focus, input[type=submit].focus-visible[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem var(--mainColorLightest)}input[type=submit][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:focus{color:#fff;background-color:var(--mainColor)}input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--mainHoverColor)}input[type=submit][disabled][_ngcontent-%COMP%], input[type=submit].disabled[_ngcontent-%COMP%]{cursor:default;color:#fff;background-color:#c6c6c6}input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .feather, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .material, input[type=submit][_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]     .misc{color:#fff}"]}),o})(),data:{meta:{title:"Reset password"}}}];let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=_.oAB({type:o}),o.\u0275inj=_.cJS({imports:[[a.Bz.forChild(A)],a.Bz]}),o})(),N=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=_.oAB({type:o}),o.\u0275inj=_.cJS({providers:[],imports:[[T,g.nC,p.hA]]}),o})()}}]);
(self.webpackChunkpeertube_client=self.webpackChunkpeertube_client||[]).push([[796],{73796:(v,n,r)=>{v.exports=r(5129).default},5129:(v,n,r)=>{"use strict";n.default=function(s){var u,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=i.default.tokenize(s),o=[],c=[];for(l=new b(l),u=0;u<f.length;u++){var d=f[u];if(d.type!==T)if(d.type===C){var S=R(d.chars,l);o.push.apply(o,S)}else o.push(d);else{o.push(d);var V=d.tagName.toUpperCase(),E="A"===V||A.contains(l.ignoreTags,V);if(!E)continue;var N=o.length;P(V,f,++u,o),u+=o.length-N-1}}for(u=0;u<o.length;u++){var k=o[u];switch(k.type){case T:var _="<"+k.tagName;if(k.attributes.length>0){var z=w(k.attributes);_+=" "+z.join(" ")}c.push(_+=">");break;case g:c.push("</"+k.tagName+">");break;case C:c.push(k.chars);break;case D:c.push("\x3c!--"+k.chars+"--\x3e")}}return c.join("")};var s,i=(s=r(21492))&&s.__esModule?s:{default:s},t=function(s){if(s&&s.__esModule)return s;var l={};if(null!=s)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(l[f]=s[f]);return l.default=s,l}(r(11142)),A=t.options,b=A.Options,T="StartTag",g="EndTag",C="Chars",D="Comment";function R(s,l){for(var f=t.tokenize(s),o=[],c=0;c<f.length;c++){var u=f[c];if("nl"===u.type&&l.nl2br)o.push({type:T,tagName:"br",attributes:[],selfClosing:!0});else if(u.isLink&&l.check(u)){var d=l.resolve(u),V=d.formatted,N=d.tagName,S=d.className,k=d.target,_=d.attributes,z=[["href",d.formattedHref]];for(var L in S&&z.push(["class",S]),k&&z.push(["target",k]),_)z.push([L,_[L]]);o.push({type:T,tagName:N,attributes:z,selfClosing:!1}),o.push({type:C,chars:V}),o.push({type:g,tagName:N})}else o.push({type:C,chars:u.toString()})}return o}function P(s,l,f,o){for(var c=1;f<l.length&&c>0;){var u=l[f];u.type===T&&u.tagName.toUpperCase()===s?c++:u.type===g&&u.tagName.toUpperCase()===s&&c--,o.push(u),f++}return o}function M(s){return s.replace(/"/g,"&quot;")}function w(s){for(var l=[],f=0;f<s.length;f++){var o=s[f];l.push(o[0]+'="'+M(o[1])+'"')}return l}},21492:(v,n,r)=>{"use strict";n.__esModule=!0;var m=g(r(55054)),e=g(r(92498)),a=g(r(99281)),A=g(r(96142)),T=g(r(71156));function g(D){return D&&D.__esModule?D:{default:D}}n.default={HTML5NamedCharRefs:m.default,EntityParser:e.default,EventedTokenizer:a.default,Tokenizer:A.default,tokenize:T.default}},92498:(v,n)=>{"use strict";function r(e){this.named=e}n.__esModule=!0;var h=/^#[xX]([A-Fa-f0-9]+)$/,m=/^#([0-9]+)$/,i=/^([A-Za-z0-9]+)$/;r.prototype.parse=function(e){if(e){var t=e.match(h);if(t)return"&#x"+t[1]+";";if(t=e.match(m))return"&#"+t[1]+";";if(t=e.match(i))return this.named[t[1]]||"&"+t[1]+";"}},n.default=r},99281:(v,n,r)=>{"use strict";n.__esModule=!0;var h=r(76525);function m(i,e){this.delegate=i,this.entityParser=e,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}m.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},tokenizePart:function(e){for(this.input+=(0,h.preprocessInput)(e);this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},consumeCharRef:function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),a=this.entityParser.parse(t);if(a){for(var p=t.length;p;)this.consume(),p--;return this.consume(),a}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){"<"===this.peek()?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var e=this.peek();"<"===e?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===e?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e))},tagOpen:function(){var e=this.consume();"!"===e?this.state="markupDeclaration":"/"===e?this.state="endTagOpen":(0,h.isAlpha)(e)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(e.toLowerCase()))},markupDeclaration:function(){"-"===this.consume()&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var e=this.consume();"-"===e?this.state="commentStartDash":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(e),this.state="comment")},commentStartDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var e=this.consume();"-"===e?this.state="commentEndDash":this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":(this.delegate.appendToCommentData("-"+e),this.state="comment")},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+e),this.state="comment")},tagName:function(){var e=this.consume();(0,h.isSpace)(e)?this.state="beforeAttributeName":"/"===e?this.state="selfClosingStartTag":">"===e?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();(0,h.isSpace)(e)?this.consume():"/"===e?(this.state="selfClosingStartTag",this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},attributeName:function(){var e=this.peek();(0,h.isSpace)(e)?(this.state="afterAttributeName",this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.state="beforeAttributeValue",this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();(0,h.isSpace)(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.consume(),this.state="beforeAttributeValue"):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();(0,h.isSpace)(e)?this.consume():'"'===e?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):this.delegate.appendToAttributeValue("&"===e?this.consumeCharRef('"')||"&":e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):this.delegate.appendToAttributeValue("&"===e?this.consumeCharRef("'")||"&":e)},attributeValueUnquoted:function(){var e=this.peek();(0,h.isSpace)(e)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();(0,h.isSpace)(e)?(this.consume(),this.state="beforeAttributeName"):"/"===e?(this.consume(),this.state="selfClosingStartTag"):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var e=this.consume();(0,h.isAlpha)(e)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(e.toLowerCase()))}}},n.default=m},55054:(v,n)=>{"use strict";n.__esModule=!0,n.default={nbsp:"\xa0"}},71156:(v,n,r)=>{"use strict";n.__esModule=!0,n.default=function(b,T){return new m.default(new e.default(a.default),T).tokenize(b)};var m=p(r(96142)),e=p(r(92498)),a=p(r(55054));function p(b){return b&&b.__esModule?b:{default:b}}},96142:(v,n,r)=>{"use strict";n.__esModule=!0;var t,m=(t=r(99281))&&t.__esModule?t:{default:t};function e(t,a){this.token=null,this.startLine=1,this.startColumn=0,this.options=a||{},this.tokenizer=new m.default(this,t)}e.prototype={tokenize:function(a){return this.tokens=[],this.tokenizer.tokenize(a),this.tokens},tokenizePart:function(a){return this.tokens=[],this.tokenizer.tokenizePart(a),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(a){this.token.chars+=a},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(a){this.token.chars+=a},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(a){this.token.tagName+=a},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(a){this._currentAttribute[0]+=a},beginAttributeValue:function(a){this._currentAttribute[2]=a},appendToAttributeValue:function(a){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=a},finishAttributeValue:function(){}},n.default=e},76525:(v,n)=>{"use strict";n.__esModule=!0,n.isSpace=function(a){return r.test(a)},n.isAlpha=function(a){return h.test(a)},n.preprocessInput=function(a){return a.replace(m,"\n")};var r=/[\t\n\f ]/,h=/[A-Za-z]/,m=/\r\n?/g}}]);